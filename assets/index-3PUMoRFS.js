(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(a){if(a.ep)return;a.ep=!0;const d=n(a);fetch(a.href,d)}})();function dd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rc={exports:{}},Js={},Mc={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf;function pv(){if(cf)return De;cf=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),E=Symbol.iterator;function N(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,A={};function M(z,J,ye){this.props=z,this.context=J,this.refs=A,this.updater=ye||b}M.prototype.isReactComponent={},M.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},M.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=M.prototype;function B(z,J,ye){this.props=z,this.context=J,this.refs=A,this.updater=ye||b}var F=B.prototype=new j;F.constructor=B,I(F,M.prototype),F.isPureReactComponent=!0;var Y=Array.isArray,ie=Object.prototype.hasOwnProperty,se={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function Pe(z,J,ye){var ve,pe={},ce=null,Fe=null;if(J!=null)for(ve in J.ref!==void 0&&(Fe=J.ref),J.key!==void 0&&(ce=""+J.key),J)ie.call(J,ve)&&!ae.hasOwnProperty(ve)&&(pe[ve]=J[ve]);var Le=arguments.length-2;if(Le===1)pe.children=ye;else if(1<Le){for(var $e=Array(Le),yt=0;yt<Le;yt++)$e[yt]=arguments[yt+2];pe.children=$e}if(z&&z.defaultProps)for(ve in Le=z.defaultProps,Le)pe[ve]===void 0&&(pe[ve]=Le[ve]);return{$$typeof:t,type:z,key:ce,ref:Fe,props:pe,_owner:se.current}}function le(z,J){return{$$typeof:t,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function Ce(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function Ie(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ye){return J[ye]})}var Be=/\/+/g;function Re(z,J){return typeof z=="object"&&z!==null&&z.key!=null?Ie(""+z.key):J.toString(36)}function He(z,J,ye,ve,pe){var ce=typeof z;(ce==="undefined"||ce==="boolean")&&(z=null);var Fe=!1;if(z===null)Fe=!0;else switch(ce){case"string":case"number":Fe=!0;break;case"object":switch(z.$$typeof){case t:case e:Fe=!0}}if(Fe)return Fe=z,pe=pe(Fe),z=ve===""?"."+Re(Fe,0):ve,Y(pe)?(ye="",z!=null&&(ye=z.replace(Be,"$&/")+"/"),He(pe,J,ye,"",function(yt){return yt})):pe!=null&&(Ce(pe)&&(pe=le(pe,ye+(!pe.key||Fe&&Fe.key===pe.key?"":(""+pe.key).replace(Be,"$&/")+"/")+z)),J.push(pe)),1;if(Fe=0,ve=ve===""?".":ve+":",Y(z))for(var Le=0;Le<z.length;Le++){ce=z[Le];var $e=ve+Re(ce,Le);Fe+=He(ce,J,ye,$e,pe)}else if($e=N(z),typeof $e=="function")for(z=$e.call(z),Le=0;!(ce=z.next()).done;)ce=ce.value,$e=ve+Re(ce,Le++),Fe+=He(ce,J,ye,$e,pe);else if(ce==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Fe}function It(z,J,ye){if(z==null)return z;var ve=[],pe=0;return He(z,ve,"","",function(ce){return J.call(ye,ce,pe++)}),ve}function qe(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(ye){(z._status===0||z._status===-1)&&(z._status=1,z._result=ye)},function(ye){(z._status===0||z._status===-1)&&(z._status=2,z._result=ye)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var Me={current:null},$={transition:null},xe={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:$,ReactCurrentOwner:se};function Z(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:It,forEach:function(z,J,ye){It(z,function(){J.apply(this,arguments)},ye)},count:function(z){var J=0;return It(z,function(){J++}),J},toArray:function(z){return It(z,function(J){return J})||[]},only:function(z){if(!Ce(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},De.Component=M,De.Fragment=n,De.Profiler=a,De.PureComponent=B,De.StrictMode=s,De.Suspense=v,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xe,De.act=Z,De.cloneElement=function(z,J,ye){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ve=I({},z.props),pe=z.key,ce=z.ref,Fe=z._owner;if(J!=null){if(J.ref!==void 0&&(ce=J.ref,Fe=se.current),J.key!==void 0&&(pe=""+J.key),z.type&&z.type.defaultProps)var Le=z.type.defaultProps;for($e in J)ie.call(J,$e)&&!ae.hasOwnProperty($e)&&(ve[$e]=J[$e]===void 0&&Le!==void 0?Le[$e]:J[$e])}var $e=arguments.length-2;if($e===1)ve.children=ye;else if(1<$e){Le=Array($e);for(var yt=0;yt<$e;yt++)Le[yt]=arguments[yt+2];ve.children=Le}return{$$typeof:t,type:z.type,key:pe,ref:ce,props:ve,_owner:Fe}},De.createContext=function(z){return z={$$typeof:f,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:d,_context:z},z.Consumer=z},De.createElement=Pe,De.createFactory=function(z){var J=Pe.bind(null,z);return J.type=z,J},De.createRef=function(){return{current:null}},De.forwardRef=function(z){return{$$typeof:g,render:z}},De.isValidElement=Ce,De.lazy=function(z){return{$$typeof:T,_payload:{_status:-1,_result:z},_init:qe}},De.memo=function(z,J){return{$$typeof:y,type:z,compare:J===void 0?null:J}},De.startTransition=function(z){var J=$.transition;$.transition={};try{z()}finally{$.transition=J}},De.unstable_act=Z,De.useCallback=function(z,J){return Me.current.useCallback(z,J)},De.useContext=function(z){return Me.current.useContext(z)},De.useDebugValue=function(){},De.useDeferredValue=function(z){return Me.current.useDeferredValue(z)},De.useEffect=function(z,J){return Me.current.useEffect(z,J)},De.useId=function(){return Me.current.useId()},De.useImperativeHandle=function(z,J,ye){return Me.current.useImperativeHandle(z,J,ye)},De.useInsertionEffect=function(z,J){return Me.current.useInsertionEffect(z,J)},De.useLayoutEffect=function(z,J){return Me.current.useLayoutEffect(z,J)},De.useMemo=function(z,J){return Me.current.useMemo(z,J)},De.useReducer=function(z,J,ye){return Me.current.useReducer(z,J,ye)},De.useRef=function(z){return Me.current.useRef(z)},De.useState=function(z){return Me.current.useState(z)},De.useSyncExternalStore=function(z,J,ye){return Me.current.useSyncExternalStore(z,J,ye)},De.useTransition=function(){return Me.current.useTransition()},De.version="18.3.1",De}var df;function hd(){return df||(df=1,Mc.exports=pv()),Mc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf;function mv(){if(hf)return Js;hf=1;var t=hd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(g,v,y){var T,E={},N=null,b=null;y!==void 0&&(N=""+y),v.key!==void 0&&(N=""+v.key),v.ref!==void 0&&(b=v.ref);for(T in v)s.call(v,T)&&!d.hasOwnProperty(T)&&(E[T]=v[T]);if(g&&g.defaultProps)for(T in v=g.defaultProps,v)E[T]===void 0&&(E[T]=v[T]);return{$$typeof:e,type:g,key:N,ref:b,props:E,_owner:a.current}}return Js.Fragment=n,Js.jsx=f,Js.jsxs=f,Js}var ff;function gv(){return ff||(ff=1,Rc.exports=mv()),Rc.exports}var _=gv(),D=hd();const Oo=dd(D);var Pl={},Lc={exports:{}},jt={},Dc={exports:{}},Uc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf;function vv(){return pf||(pf=1,(function(t){function e($,xe){var Z=$.length;$.push(xe);e:for(;0<Z;){var z=Z-1>>>1,J=$[z];if(0<a(J,xe))$[z]=xe,$[Z]=J,Z=z;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var xe=$[0],Z=$.pop();if(Z!==xe){$[0]=Z;e:for(var z=0,J=$.length,ye=J>>>1;z<ye;){var ve=2*(z+1)-1,pe=$[ve],ce=ve+1,Fe=$[ce];if(0>a(pe,Z))ce<J&&0>a(Fe,pe)?($[z]=Fe,$[ce]=Z,z=ce):($[z]=pe,$[ve]=Z,z=ve);else if(ce<J&&0>a(Fe,Z))$[z]=Fe,$[ce]=Z,z=ce;else break e}}return xe}function a($,xe){var Z=$.sortIndex-xe.sortIndex;return Z!==0?Z:$.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();t.unstable_now=function(){return f.now()-g}}var v=[],y=[],T=1,E=null,N=3,b=!1,I=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F($){for(var xe=n(y);xe!==null;){if(xe.callback===null)s(y);else if(xe.startTime<=$)s(y),xe.sortIndex=xe.expirationTime,e(v,xe);else break;xe=n(y)}}function Y($){if(A=!1,F($),!I)if(n(v)!==null)I=!0,qe(ie);else{var xe=n(y);xe!==null&&Me(Y,xe.startTime-$)}}function ie($,xe){I=!1,A&&(A=!1,j(Pe),Pe=-1),b=!0;var Z=N;try{for(F(xe),E=n(v);E!==null&&(!(E.expirationTime>xe)||$&&!Ie());){var z=E.callback;if(typeof z=="function"){E.callback=null,N=E.priorityLevel;var J=z(E.expirationTime<=xe);xe=t.unstable_now(),typeof J=="function"?E.callback=J:E===n(v)&&s(v),F(xe)}else s(v);E=n(v)}if(E!==null)var ye=!0;else{var ve=n(y);ve!==null&&Me(Y,ve.startTime-xe),ye=!1}return ye}finally{E=null,N=Z,b=!1}}var se=!1,ae=null,Pe=-1,le=5,Ce=-1;function Ie(){return!(t.unstable_now()-Ce<le)}function Be(){if(ae!==null){var $=t.unstable_now();Ce=$;var xe=!0;try{xe=ae(!0,$)}finally{xe?Re():(se=!1,ae=null)}}else se=!1}var Re;if(typeof B=="function")Re=function(){B(Be)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,It=He.port2;He.port1.onmessage=Be,Re=function(){It.postMessage(null)}}else Re=function(){M(Be,0)};function qe($){ae=$,se||(se=!0,Re())}function Me($,xe){Pe=M(function(){$(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){I||b||(I=!0,qe(ie))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return n(v)},t.unstable_next=function($){switch(N){case 1:case 2:case 3:var xe=3;break;default:xe=N}var Z=N;N=xe;try{return $()}finally{N=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,xe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=N;N=$;try{return xe()}finally{N=Z}},t.unstable_scheduleCallback=function($,xe,Z){var z=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?z+Z:z):Z=z,$){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Z+J,$={id:T++,callback:xe,priorityLevel:$,startTime:Z,expirationTime:J,sortIndex:-1},Z>z?($.sortIndex=Z,e(y,$),n(v)===null&&$===n(y)&&(A?(j(Pe),Pe=-1):A=!0,Me(Y,Z-z))):($.sortIndex=J,e(v,$),I||b||(I=!0,qe(ie))),$},t.unstable_shouldYield=Ie,t.unstable_wrapCallback=function($){var xe=N;return function(){var Z=N;N=xe;try{return $.apply(this,arguments)}finally{N=Z}}}})(Uc)),Uc}var mf;function yv(){return mf||(mf=1,Dc.exports=vv()),Dc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf;function _v(){if(gf)return jt;gf=1;var t=hd(),e=yv();function n(i){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)r+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function d(i,r){f(i,r),f(i+"Capture",r)}function f(i,r){for(a[i]=r,i=0;i<r.length;i++)s.add(r[i])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},E={};function N(i){return v.call(E,i)?!0:v.call(T,i)?!1:y.test(i)?E[i]=!0:(T[i]=!0,!1)}function b(i,r,u,m){if(u!==null&&u.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function I(i,r,u,m){if(r===null||typeof r>"u"||b(i,r,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function A(i,r,u,m,w,C,k){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=m,this.attributeNamespace=w,this.mustUseProperty=u,this.propertyName=i,this.type=r,this.sanitizeURL=C,this.removeEmptyString=k}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){M[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var r=i[0];M[r]=new A(r,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){M[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){M[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){M[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){M[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){M[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){M[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){M[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function B(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var r=i.replace(j,B);M[r]=new A(r,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var r=i.replace(j,B);M[r]=new A(r,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var r=i.replace(j,B);M[r]=new A(r,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){M[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),M.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){M[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,r,u,m){var w=M.hasOwnProperty(r)?M[r]:null;(w!==null?w.type!==0:m||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(I(r,u,w,m)&&(u=null),m||w===null?N(r)&&(u===null?i.removeAttribute(r):i.setAttribute(r,""+u)):w.mustUseProperty?i[w.propertyName]=u===null?w.type===3?!1:"":u:(r=w.attributeName,m=w.attributeNamespace,u===null?i.removeAttribute(r):(w=w.type,u=w===3||w===4&&u===!0?"":""+u,m?i.setAttributeNS(m,r,u):i.setAttribute(r,u))))}var Y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),se=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),Pe=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),Ce=Symbol.for("react.provider"),Ie=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),It=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),$=Symbol.iterator;function xe(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var Z=Object.assign,z;function J(i){if(z===void 0)try{throw Error()}catch(u){var r=u.stack.trim().match(/\n( *(at )?)/);z=r&&r[1]||""}return`
`+z+i}var ye=!1;function ve(i,r){if(!i||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(K){var m=K}Reflect.construct(i,[],r)}else{try{r.call()}catch(K){m=K}i.call(r.prototype)}else{try{throw Error()}catch(K){m=K}i()}}catch(K){if(K&&m&&typeof K.stack=="string"){for(var w=K.stack.split(`
`),C=m.stack.split(`
`),k=w.length-1,R=C.length-1;1<=k&&0<=R&&w[k]!==C[R];)R--;for(;1<=k&&0<=R;k--,R--)if(w[k]!==C[R]){if(k!==1||R!==1)do if(k--,R--,0>R||w[k]!==C[R]){var V=`
`+w[k].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=k&&0<=R);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?J(i):""}function pe(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=ve(i.type,!1),i;case 11:return i=ve(i.type.render,!1),i;case 1:return i=ve(i.type,!0),i;default:return""}}function ce(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ae:return"Fragment";case se:return"Portal";case le:return"Profiler";case Pe:return"StrictMode";case Re:return"Suspense";case He:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ie:return(i.displayName||"Context")+".Consumer";case Ce:return(i._context.displayName||"Context")+".Provider";case Be:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case It:return r=i.displayName||null,r!==null?r:ce(i.type)||"Memo";case qe:r=i._payload,i=i._init;try{return ce(i(r))}catch{}}return null}function Fe(i){var r=i.type;switch(i.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=r.render,i=i.displayName||i.name||"",r.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(r);case 8:return r===Pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Le(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $e(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function yt(i){var r=$e(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),m=""+i[r];if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var w=u.get,C=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return w.call(this)},set:function(k){m=""+k,C.call(this,k)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(k){m=""+k},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ci(i){i._valueTracker||(i._valueTracker=yt(i))}function Si(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var u=r.getValue(),m="";return i&&(m=$e(i)?i.checked?"true":"false":i.value),i=m,i!==u?(r.setValue(i),!0):!1}function Ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Jr(i,r){var u=r.checked;return Z({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Zr(i,r){var u=r.defaultValue==null?"":r.defaultValue,m=r.checked!=null?r.checked:r.defaultChecked;u=Le(r.value!=null?r.value:u),i._wrapperState={initialChecked:m,initialValue:u,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Yr(i,r){r=r.checked,r!=null&&F(i,"checked",r,!1)}function co(i,r){Yr(i,r);var u=Le(r.value),m=r.type;if(u!=null)m==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}r.hasOwnProperty("value")?Qr(i,r.type,u):r.hasOwnProperty("defaultValue")&&Qr(i,r.type,Le(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(i.defaultChecked=!!r.defaultChecked)}function ho(i,r,u){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var m=r.type;if(!(m!=="submit"&&m!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+i._wrapperState.initialValue,u||r===i.value||(i.value=r),i.defaultValue=r}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Qr(i,r,u){(r!=="number"||Ei(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Ni=Array.isArray;function Dn(i,r,u,m){if(i=i.options,r){r={};for(var w=0;w<u.length;w++)r["$"+u[w]]=!0;for(u=0;u<i.length;u++)w=r.hasOwnProperty("$"+i[u].value),i[u].selected!==w&&(i[u].selected=w),w&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Le(u),r=null,w=0;w<i.length;w++){if(i[w].value===u){i[w].selected=!0,m&&(i[w].defaultSelected=!0);return}r!==null||i[w].disabled||(r=i[w])}r!==null&&(r.selected=!0)}}function Wo(i,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},r,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Xr(i,r){var u=r.value;if(u==null){if(u=r.children,r=r.defaultValue,u!=null){if(r!=null)throw Error(n(92));if(Ni(u)){if(1<u.length)throw Error(n(93));u=u[0]}r=u}r==null&&(r=""),u=r}i._wrapperState={initialValue:Le(u)}}function aa(i,r){var u=Le(r.value),m=Le(r.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),r.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),m!=null&&(i.defaultValue=""+m)}function la(i){var r=i.textContent;r===i._wrapperState.initialValue&&r!==""&&r!==null&&(i.value=r)}function Ko(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $o(i,r){return i==null||i==="http://www.w3.org/1999/xhtml"?Ko(r):i==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var fo,ua=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,u,m,w){MSApp.execUnsafeLocalFunction(function(){return i(r,u,m,w)})}:i})(function(i,r){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=r;else{for(fo=fo||document.createElement("div"),fo.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=fo.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;r.firstChild;)i.appendChild(r.firstChild)}});function bi(i,r){if(r){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=r;return}}i.textContent=r}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lu=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(i){lu.forEach(function(r){r=r+i.charAt(0).toUpperCase()+i.substring(1),ki[r]=ki[i]})});function es(i,r,u){return r==null||typeof r=="boolean"||r===""?"":u||typeof r!="number"||r===0||ki.hasOwnProperty(i)&&ki[i]?(""+r).trim():r+"px"}function Jo(i,r){i=i.style;for(var u in r)if(r.hasOwnProperty(u)){var m=u.indexOf("--")===0,w=es(u,r[u],m);u==="float"&&(u="cssFloat"),m?i.setProperty(u,w):i[u]=w}}var ca=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ts(i,r){if(r){if(ca[i]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function $n(i,r){if(i.indexOf("-")===-1)return typeof r.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ns=null;function is(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zo=null,Jn=null,Zn=null;function da(i){if(i=li(i)){if(typeof Zo!="function")throw Error(n(280));var r=i.stateNode;r&&(r=Cr(r),Zo(i.stateNode,i.type,r))}}function ha(i){Jn?Zn?Zn.push(i):Zn=[i]:Jn=i}function fa(){if(Jn){var i=Jn,r=Zn;if(Zn=Jn=null,da(i),r)for(i=0;i<r.length;i++)da(r[i])}}function pa(i,r){return i(r)}function ma(){}var os=!1;function Yo(i,r,u){if(os)return i(r,u);os=!0;try{return pa(i,r,u)}finally{os=!1,(Jn!==null||Zn!==null)&&(ma(),fa())}}function po(i,r){var u=i.stateNode;if(u===null)return null;var m=Cr(u);if(m===null)return null;u=m[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,r,typeof u));return u}var rs=!1;if(g)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){rs=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{rs=!1}function uu(i,r,u,m,w,C,k,R,V){var K=Array.prototype.slice.call(arguments,3);try{r.apply(u,K)}catch(ee){this.onError(ee)}}var wt=!1,me=null,go=!1,Qo=null,ga={onError:function(i){wt=!0,me=i}};function va(i,r,u,m,w,C,k,R,V){wt=!1,me=null,uu.apply(ga,arguments)}function ss(i,r,u,m,w,C,k,R,V){if(va.apply(this,arguments),wt){if(wt){var K=me;wt=!1,me=null}else throw Error(n(198));go||(go=!0,Qo=K)}}function Un(i){var r=i,u=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(u=r.return),i=r.return;while(i)}return r.tag===3?u:null}function Yn(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function as(i){if(Un(i)!==i)throw Error(n(188))}function cu(i){var r=i.alternate;if(!r){if(r=Un(i),r===null)throw Error(n(188));return r!==i?null:i}for(var u=i,m=r;;){var w=u.return;if(w===null)break;var C=w.alternate;if(C===null){if(m=w.return,m!==null){u=m;continue}break}if(w.child===C.child){for(C=w.child;C;){if(C===u)return as(w),i;if(C===m)return as(w),r;C=C.sibling}throw Error(n(188))}if(u.return!==m.return)u=w,m=C;else{for(var k=!1,R=w.child;R;){if(R===u){k=!0,u=w,m=C;break}if(R===m){k=!0,m=w,u=C;break}R=R.sibling}if(!k){for(R=C.child;R;){if(R===u){k=!0,u=C,m=w;break}if(R===m){k=!0,m=C,u=w;break}R=R.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:r}function ya(i){return i=cu(i),i!==null?_a(i):null}function _a(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var r=_a(i);if(r!==null)return r;i=i.sibling}return null}var xa=e.unstable_scheduleCallback,ls=e.unstable_cancelCallback,du=e.unstable_shouldYield,Xo=e.unstable_requestPaint,et=e.unstable_now,hu=e.unstable_getCurrentPriorityLevel,us=e.unstable_ImmediatePriority,wa=e.unstable_UserBlockingPriority,er=e.unstable_NormalPriority,cs=e.unstable_LowPriority,Pi=e.unstable_IdlePriority,vo=null,Wt=null;function yo(i){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(vo,i,void 0,(i.current.flags&128)===128)}catch{}}var ke=Math.clz32?Math.clz32:Ii,Ye=Math.log,tr=Math.LN2;function Ii(i){return i>>>=0,i===0?32:31-(Ye(i)/tr|0)|0}var xn=64,Ai=4194304;function Ne(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Je(i,r){var u=i.pendingLanes;if(u===0)return 0;var m=0,w=i.suspendedLanes,C=i.pingedLanes,k=u&268435455;if(k!==0){var R=k&~w;R!==0?m=Ne(R):(C&=k,C!==0&&(m=Ne(C)))}else k=u&~w,k!==0?m=Ne(k):C!==0&&(m=Ne(C));if(m===0)return 0;if(r!==0&&r!==m&&(r&w)===0&&(w=m&-m,C=r&-r,w>=C||w===16&&(C&4194240)!==0))return r;if((m&4)!==0&&(m|=u&16),r=i.entangledLanes,r!==0)for(i=i.entanglements,r&=m;0<r;)u=31-ke(r),w=1<<u,m|=i[u],r&=~w;return m}function ds(i,r){switch(i){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(i,r){for(var u=i.suspendedLanes,m=i.pingedLanes,w=i.expirationTimes,C=i.pendingLanes;0<C;){var k=31-ke(C),R=1<<k,V=w[k];V===-1?((R&u)===0||(R&m)!==0)&&(w[k]=ds(R,r)):V<=r&&(i.expiredLanes|=R),C&=~R}}function Tt(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ta(){var i=xn;return xn<<=1,(xn&4194240)===0&&(xn=64),i}function Ri(i){for(var r=[],u=0;31>u;u++)r.push(i);return r}function Kt(i,r,u){i.pendingLanes|=r,r!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,r=31-ke(r),i[r]=u}function rt(i,r){var u=i.pendingLanes&~r;i.pendingLanes=r,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=r,i.mutableReadLanes&=r,i.entangledLanes&=r,r=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<u;){var w=31-ke(u),C=1<<w;r[w]=0,m[w]=-1,i[w]=-1,u&=~C}}function wn(i,r){var u=i.entangledLanes|=r;for(i=i.entanglements;u;){var m=31-ke(u),w=1<<m;w&r|i[m]&r&&(i[m]|=r),u&=~w}}var Ve=0;function Mi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ir,Qn,or,rr,_o,xo=!1,Li=[],$t=null,Tn=null,on=null,wo=new Map,Se=new Map,ct=[],We="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hs(i,r){switch(i){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":wo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Se.delete(r.pointerId)}}function Xn(i,r,u,m,w,C){return i===null||i.nativeEvent!==C?(i={blockedOn:r,domEventName:u,eventSystemFlags:m,nativeEvent:C,targetContainers:[w]},r!==null&&(r=li(r),r!==null&&Qn(r)),i):(i.eventSystemFlags|=m,r=i.targetContainers,w!==null&&r.indexOf(w)===-1&&r.push(w),i)}function fs(i,r,u,m,w){switch(r){case"focusin":return $t=Xn($t,i,r,u,m,w),!0;case"dragenter":return Tn=Xn(Tn,i,r,u,m,w),!0;case"mouseover":return on=Xn(on,i,r,u,m,w),!0;case"pointerover":var C=w.pointerId;return wo.set(C,Xn(wo.get(C)||null,i,r,u,m,w)),!0;case"gotpointercapture":return C=w.pointerId,Se.set(C,Xn(Se.get(C)||null,i,r,u,m,w)),!0}return!1}function sr(i){var r=ai(i.target);if(r!==null){var u=Un(r);if(u!==null){if(r=u.tag,r===13){if(r=Yn(u),r!==null){i.blockedOn=r,_o(i.priority,function(){or(u)});return}}else if(r===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rn(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var u=ur(i.domEventName,i.eventSystemFlags,r[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);ns=m,u.target.dispatchEvent(m),ns=null}else return r=li(u),r!==null&&Qn(r),i.blockedOn=u,!1;r.shift()}return!0}function ar(i,r,u){rn(i)&&u.delete(r)}function To(){xo=!1,$t!==null&&rn($t)&&($t=null),Tn!==null&&rn(Tn)&&(Tn=null),on!==null&&rn(on)&&(on=null),wo.forEach(ar),Se.forEach(ar)}function tt(i,r){i.blockedOn===r&&(i.blockedOn=null,xo||(xo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,To)))}function Jt(i){function r(w){return tt(w,i)}if(0<Li.length){tt(Li[0],i);for(var u=1;u<Li.length;u++){var m=Li[u];m.blockedOn===i&&(m.blockedOn=null)}}for($t!==null&&tt($t,i),Tn!==null&&tt(Tn,i),on!==null&&tt(on,i),wo.forEach(r),Se.forEach(r),u=0;u<ct.length;u++)m=ct[u],m.blockedOn===i&&(m.blockedOn=null);for(;0<ct.length&&(u=ct[0],u.blockedOn===null);)sr(u),u.blockedOn===null&&ct.shift()}var ei=Y.ReactCurrentBatchConfig,Co=!0;function fu(i,r,u,m){var w=Ve,C=ei.transition;ei.transition=null;try{Ve=1,So(i,r,u,m)}finally{Ve=w,ei.transition=C}}function Ca(i,r,u,m){var w=Ve,C=ei.transition;ei.transition=null;try{Ve=4,So(i,r,u,m)}finally{Ve=w,ei.transition=C}}function So(i,r,u,m){if(Co){var w=ur(i,r,u,m);if(w===null)o(i,r,m,lr,u),hs(i,m);else if(fs(w,i,r,u,m))m.stopPropagation();else if(hs(i,m),r&4&&-1<We.indexOf(i)){for(;w!==null;){var C=li(w);if(C!==null&&ir(C),C=ur(i,r,u,m),C===null&&o(i,r,m,lr,u),C===w)break;w=C}w!==null&&m.stopPropagation()}else o(i,r,m,null,u)}}var lr=null;function ur(i,r,u,m){if(lr=null,i=is(m),i=ai(i),i!==null)if(r=Un(i),r===null)i=null;else if(u=r.tag,u===13){if(i=Yn(r),i!==null)return i;i=null}else if(u===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null);return lr=i,null}function Ue(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hu()){case us:return 1;case wa:return 4;case er:case cs:return 16;case Pi:return 536870912;default:return 16}default:return 16}}var Fn=null,At=null,Vn=null;function ps(){if(Vn)return Vn;var i,r=At,u=r.length,m,w="value"in Fn?Fn.value:Fn.textContent,C=w.length;for(i=0;i<u&&r[i]===w[i];i++);var k=u-i;for(m=1;m<=k&&r[u-m]===w[C-m];m++);return Vn=w.slice(i,1<m?1-m:void 0)}function cr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Di(){return!0}function Sa(){return!1}function Ct(i){function r(u,m,w,C,k){this._reactName=u,this._targetInst=w,this.type=m,this.nativeEvent=C,this.target=k,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(u=i[R],this[R]=u?u(C):C[R]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Di:Sa,this.isPropagationStopped=Sa,this}return Z(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),r}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=Ct(Ui),ti=Z({},Ui,{view:0,detail:0}),pu=Ct(ti),Vt,gs,Fi,Zt=Z({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ii,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fi&&(Fi&&i.type==="mousemove"?(Vt=i.screenX-Fi.screenX,gs=i.screenY-Fi.screenY):gs=Vt=0,Fi=i),Vt)},movementY:function(i){return"movementY"in i?i.movementY:gs}}),vs=Ct(Zt),Ea=Z({},Zt,{dataTransfer:0}),ys=Ct(Ea),mu=Z({},ti,{relatedTarget:0}),dr=Ct(mu),Na=Z({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Ct(Na),vu=Z({},Ui,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_s=Ct(vu),yu=Z({},Ui,{data:0}),xs=Ct(yu),ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ni={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ni[i])?!!r[i]:!1}function ii(){return _u}var Bt=Z({},ti,{key:function(i){if(i.key){var r=ba[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=cr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hr[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ii,charCode:function(i){return i.type==="keypress"?cr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?cr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ka=Ct(Bt),Pa=Z({},Zt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ia=Ct(Pa),ws=Z({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ii}),Ts=Ct(ws),xu=Z({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),wu=Ct(xu),Aa=Z({},Zt,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Tu=Ct(Aa),Yt=[9,13,27,32],Bn=g&&"CompositionEvent"in window,Eo=null;g&&"documentMode"in document&&(Eo=document.documentMode);var Cn=g&&"TextEvent"in window&&!Eo,Ra=g&&(!Bn||Eo&&8<Eo&&11>=Eo),oi=" ",Ma=!1;function Vi(i,r){switch(i){case"keyup":return Yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cs(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Sn=!1;function Cu(i,r){switch(i){case"compositionend":return Cs(r);case"keypress":return r.which!==32?null:(Ma=!0,oi);case"textInput":return i=r.data,i===oi&&Ma?null:i;default:return null}}function zn(i,r){if(Sn)return i==="compositionend"||!Bn&&Vi(i,r)?(i=ps(),Vn=At=Fn=null,Sn=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ra&&r.locale!=="ko"?null:r.data;default:return null}}var fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function La(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!fr[i.type]:r==="textarea"}function pr(i,r,u,m){ha(m),r=p(r,"onChange"),0<r.length&&(u=new ms("onChange","change",null,u,m),i.push({event:u,listeners:r}))}var No=null,Rt=null;function Su(i){Rs(i,0)}function En(i){var r=ui(i);if(Si(r))return i}function Eu(i,r){if(i==="change")return r}var sn=!1;if(g){var Bi;if(g){var mr="oninput"in document;if(!mr){var gr=document.createElement("div");gr.setAttribute("oninput","return;"),mr=typeof gr.oninput=="function"}Bi=mr}else Bi=!1;sn=Bi&&(!document.documentMode||9<document.documentMode)}function bo(){No&&(No.detachEvent("onpropertychange",vr),Rt=No=null)}function vr(i){if(i.propertyName==="value"&&En(Rt)){var r=[];pr(r,Rt,i,is(i)),Yo(Su,r)}}function yr(i,r,u){i==="focusin"?(bo(),No=r,Rt=u,No.attachEvent("onpropertychange",vr)):i==="focusout"&&bo()}function zi(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return En(Rt)}function _r(i,r){if(i==="click")return En(r)}function Ss(i,r){if(i==="input"||i==="change")return En(r)}function Da(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Qt=typeof Object.is=="function"?Object.is:Da;function Hn(i,r){if(Qt(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var u=Object.keys(i),m=Object.keys(r);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var w=u[m];if(!v.call(r,w)||!Qt(i[w],r[w]))return!1}return!0}function Ua(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Es(i,r){var u=Ua(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=r&&m>=r)return{node:u,offset:r-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ua(u)}}function Fa(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Fa(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Ns(){for(var i=window,r=Ei();r instanceof i.HTMLIFrameElement;){try{var u=typeof r.contentWindow.location.href=="string"}catch{u=!1}if(u)i=r.contentWindow;else break;r=Ei(i.document)}return r}function bs(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function an(i){var r=Ns(),u=i.focusedElem,m=i.selectionRange;if(r!==u&&u&&u.ownerDocument&&Fa(u.ownerDocument.documentElement,u)){if(m!==null&&bs(u)){if(r=m.start,i=m.end,i===void 0&&(i=r),"selectionStart"in u)u.selectionStart=r,u.selectionEnd=Math.min(i,u.value.length);else if(i=(r=u.ownerDocument||document)&&r.defaultView||window,i.getSelection){i=i.getSelection();var w=u.textContent.length,C=Math.min(m.start,w);m=m.end===void 0?C:Math.min(m.end,w),!i.extend&&C>m&&(w=m,m=C,C=w),w=Es(u,C);var k=Es(u,m);w&&k&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(r=r.createRange(),r.setStart(w.node,w.offset),i.removeAllRanges(),C>m?(i.addRange(r),i.extend(k.node,k.offset)):(r.setEnd(k.node,k.offset),i.addRange(r)))}}for(r=[],i=u;i=i.parentNode;)i.nodeType===1&&r.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<r.length;u++)i=r[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var xr=g&&"documentMode"in document&&11>=document.documentMode,Hi=null,Gi=null,ko=null,wr=!1;function Va(i,r,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;wr||Hi==null||Hi!==Ei(m)||(m=Hi,"selectionStart"in m&&bs(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ko&&Hn(ko,m)||(ko=m,m=p(Gi,"onSelect"),0<m.length&&(r=new ms("onSelect","select",null,r,u),i.push({event:r,listeners:m}),r.target=Hi)))}function Gn(i,r){var u={};return u[i.toLowerCase()]=r.toLowerCase(),u["Webkit"+i]="webkit"+r,u["Moz"+i]="moz"+r,u}var Oi={animationend:Gn("Animation","AnimationEnd"),animationiteration:Gn("Animation","AnimationIteration"),animationstart:Gn("Animation","AnimationStart"),transitionend:Gn("Transition","TransitionEnd")},On={},ks={};g&&(ks=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function Po(i){if(On[i])return On[i];if(!Oi[i])return i;var r=Oi[i],u;for(u in r)if(r.hasOwnProperty(u)&&u in ks)return On[i]=r[u];return i}var Ba=Po("animationend"),ln=Po("animationiteration"),Ps=Po("animationstart"),Is=Po("transitionend"),qi=new Map,za="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(i,r){qi.set(i,r),d(r,[i])}for(var ri=0;ri<za.length;ri++){var Tr=za[ri],Ha=Tr.toLowerCase(),Nu=Tr[0].toUpperCase()+Tr.slice(1);Xt(Ha,"on"+Nu)}Xt(Ba,"onAnimationEnd"),Xt(ln,"onAnimationIteration"),Xt(Ps,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(Is,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ga=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function As(i,r,u){var m=i.type||"unknown-event";i.currentTarget=u,ss(m,r,void 0,i),i.currentTarget=null}function Rs(i,r){r=(r&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],w=m.event;m=m.listeners;e:{var C=void 0;if(r)for(var k=m.length-1;0<=k;k--){var R=m[k],V=R.instance,K=R.currentTarget;if(R=R.listener,V!==C&&w.isPropagationStopped())break e;As(w,R,K),C=V}else for(k=0;k<m.length;k++){if(R=m[k],V=R.instance,K=R.currentTarget,R=R.listener,V!==C&&w.isPropagationStopped())break e;As(w,R,K),C=V}}}if(go)throw i=Qo,go=!1,Qo=null,i}function Ke(i,r){var u=r[Ji];u===void 0&&(u=r[Ji]=new Set);var m=i+"__bubble";u.has(m)||(Oa(r,i,2,!1),u.add(m))}function Ms(i,r,u){var m=0;r&&(m|=4),Oa(u,i,m,r)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Wi(i){if(!i[Io]){i[Io]=!0,s.forEach(function(u){u!=="selectionchange"&&(Ga.has(u)||Ms(u,!1,i),Ms(u,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Io]||(r[Io]=!0,Ms("selectionchange",!1,r))}}function Oa(i,r,u,m){switch(Ue(r)){case 1:var w=fu;break;case 4:w=Ca;break;default:w=So}u=w.bind(null,r,u,i),w=void 0,!rs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(w=!0),m?w!==void 0?i.addEventListener(r,u,{capture:!0,passive:w}):i.addEventListener(r,u,!0):w!==void 0?i.addEventListener(r,u,{passive:w}):i.addEventListener(r,u,!1)}function o(i,r,u,m,w){var C=m;if((r&1)===0&&(r&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var R=m.stateNode.containerInfo;if(R===w||R.nodeType===8&&R.parentNode===w)break;if(k===4)for(k=m.return;k!==null;){var V=k.tag;if((V===3||V===4)&&(V=k.stateNode.containerInfo,V===w||V.nodeType===8&&V.parentNode===w))return;k=k.return}for(;R!==null;){if(k=ai(R),k===null)return;if(V=k.tag,V===5||V===6){m=C=k;continue e}R=R.parentNode}}m=m.return}Yo(function(){var K=C,ee=is(u),te=[];e:{var X=qi.get(i);if(X!==void 0){var ue=ms,he=i;switch(i){case"keypress":if(cr(u)===0)break e;case"keydown":case"keyup":ue=ka;break;case"focusin":he="focus",ue=dr;break;case"focusout":he="blur",ue=dr;break;case"beforeblur":case"afterblur":ue=dr;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ys;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Ts;break;case Ba:case ln:case Ps:ue=gu;break;case Is:ue=wu;break;case"scroll":ue=pu;break;case"wheel":ue=Tu;break;case"copy":case"cut":case"paste":ue=_s;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Ia}var fe=(r&4)!==0,at=!fe&&i==="scroll",O=fe?X!==null?X+"Capture":null:X;fe=[];for(var H=K,q;H!==null;){q=H;var ne=q.stateNode;if(q.tag===5&&ne!==null&&(q=ne,O!==null&&(ne=po(H,O),ne!=null&&fe.push(l(H,ne,q)))),at)break;H=H.return}0<fe.length&&(X=new ue(X,he,null,u,ee),te.push({event:X,listeners:fe}))}}if((r&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",X&&u!==ns&&(he=u.relatedTarget||u.fromElement)&&(ai(he)||he[je]))break e;if((ue||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,ue?(he=u.relatedTarget||u.toElement,ue=K,he=he?ai(he):null,he!==null&&(at=Un(he),he!==at||he.tag!==5&&he.tag!==6)&&(he=null)):(ue=null,he=K),ue!==he)){if(fe=vs,ne="onMouseLeave",O="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(fe=Ia,ne="onPointerLeave",O="onPointerEnter",H="pointer"),at=ue==null?X:ui(ue),q=he==null?X:ui(he),X=new fe(ne,H+"leave",ue,u,ee),X.target=at,X.relatedTarget=q,ne=null,ai(ee)===K&&(fe=new fe(O,H+"enter",he,u,ee),fe.target=q,fe.relatedTarget=at,ne=fe),at=ne,ue&&he)t:{for(fe=ue,O=he,H=0,q=fe;q;q=x(q))H++;for(q=0,ne=O;ne;ne=x(ne))q++;for(;0<H-q;)fe=x(fe),H--;for(;0<q-H;)O=x(O),q--;for(;H--;){if(fe===O||O!==null&&fe===O.alternate)break t;fe=x(fe),O=x(O)}fe=null}else fe=null;ue!==null&&S(te,X,ue,fe,!1),he!==null&&at!==null&&S(te,at,he,fe,!0)}}e:{if(X=K?ui(K):window,ue=X.nodeName&&X.nodeName.toLowerCase(),ue==="select"||ue==="input"&&X.type==="file")var ge=Eu;else if(La(X))if(sn)ge=Ss;else{ge=zi;var we=yr}else(ue=X.nodeName)&&ue.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(ge=_r);if(ge&&(ge=ge(i,K))){pr(te,ge,u,ee);break e}we&&we(i,X,K),i==="focusout"&&(we=X._wrapperState)&&we.controlled&&X.type==="number"&&Qr(X,"number",X.value)}switch(we=K?ui(K):window,i){case"focusin":(La(we)||we.contentEditable==="true")&&(Hi=we,Gi=K,ko=null);break;case"focusout":ko=Gi=Hi=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Va(te,u,ee);break;case"selectionchange":if(xr)break;case"keydown":case"keyup":Va(te,u,ee)}var Te;if(Bn)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Sn?Vi(i,u)&&(Ee="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ra&&u.locale!=="ko"&&(Sn||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Sn&&(Te=ps()):(Fn=ee,At="value"in Fn?Fn.value:Fn.textContent,Sn=!0)),we=p(K,Ee),0<we.length&&(Ee=new xs(Ee,i,null,u,ee),te.push({event:Ee,listeners:we}),Te?Ee.data=Te:(Te=Cs(u),Te!==null&&(Ee.data=Te)))),(Te=Cn?Cu(i,u):zn(i,u))&&(K=p(K,"onBeforeInput"),0<K.length&&(ee=new xs("onBeforeInput","beforeinput",null,u,ee),te.push({event:ee,listeners:K}),ee.data=Te))}Rs(te,r)})}function l(i,r,u){return{instance:i,listener:r,currentTarget:u}}function p(i,r){for(var u=r+"Capture",m=[];i!==null;){var w=i,C=w.stateNode;w.tag===5&&C!==null&&(w=C,C=po(i,u),C!=null&&m.unshift(l(i,C,w)),C=po(i,r),C!=null&&m.push(l(i,C,w))),i=i.return}return m}function x(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function S(i,r,u,m,w){for(var C=r._reactName,k=[];u!==null&&u!==m;){var R=u,V=R.alternate,K=R.stateNode;if(V!==null&&V===m)break;R.tag===5&&K!==null&&(R=K,w?(V=po(u,C),V!=null&&k.unshift(l(u,V,R))):w||(V=po(u,C),V!=null&&k.push(l(u,V,R)))),u=u.return}k.length!==0&&i.push({event:r,listeners:k})}var P=/\r\n?/g,U=/\u0000|\uFFFD/g;function G(i){return(typeof i=="string"?i:""+i).replace(P,`
`).replace(U,"")}function W(i,r,u){if(r=G(r),G(i)!==r&&u)throw Error(n(425))}function Q(){}var oe=null,_e=null;function Ae(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var dt=typeof setTimeout=="function"?setTimeout:void 0,lt=typeof clearTimeout=="function"?clearTimeout:void 0,Mt=typeof Promise=="function"?Promise:void 0,St=typeof queueMicrotask=="function"?queueMicrotask:typeof Mt<"u"?function(i){return Mt.resolve(null).then(i).catch(Ki)}:dt;function Ki(i){setTimeout(function(){throw i})}function Ls(i,r){var u=r,m=0;do{var w=u.nextSibling;if(i.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(m===0){i.removeChild(w),Jt(r);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=w}while(u);Jt(r)}function qn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return i}function qa(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(r===0)return i;r--}else u==="/$"&&r++}i=i.previousSibling}return null}var si=Math.random().toString(36).slice(2),un="__reactFiber$"+si,$i="__reactProps$"+si,je="__reactContainer$"+si,Ji="__reactEvents$"+si,bu="__reactListeners$"+si,ku="__reactHandles$"+si;function ai(i){var r=i[un];if(r)return r;for(var u=i.parentNode;u;){if(r=u[je]||u[un]){if(u=r.alternate,r.child!==null||u!==null&&u.child!==null)for(i=qa(i);i!==null;){if(u=i[un])return u;i=qa(i)}return r}i=u,u=i.parentNode}return null}function li(i){return i=i[un]||i[je],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ui(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Cr(i){return i[$i]||null}var Pu=[],Sr=-1;function Zi(i){return{current:i}}function Qe(i){0>Sr||(i.current=Pu[Sr],Pu[Sr]=null,Sr--)}function Ze(i,r){Sr++,Pu[Sr]=i.current,i.current=r}var Yi={},Et=Zi(Yi),zt=Zi(!1),Ao=Yi;function Er(i,r){var u=i.type.contextTypes;if(!u)return Yi;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===r)return m.__reactInternalMemoizedMaskedChildContext;var w={},C;for(C in u)w[C]=r[C];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=r,i.__reactInternalMemoizedMaskedChildContext=w),w}function Ht(i){return i=i.childContextTypes,i!=null}function ja(){Qe(zt),Qe(Et)}function Ad(i,r,u){if(Et.current!==Yi)throw Error(n(168));Ze(Et,r),Ze(zt,u)}function Rd(i,r,u){var m=i.stateNode;if(r=r.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var w in m)if(!(w in r))throw Error(n(108,Fe(i)||"Unknown",w));return Z({},u,m)}function Wa(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Yi,Ao=Et.current,Ze(Et,i),Ze(zt,zt.current),!0}function Md(i,r,u){var m=i.stateNode;if(!m)throw Error(n(169));u?(i=Rd(i,r,Ao),m.__reactInternalMemoizedMergedChildContext=i,Qe(zt),Qe(Et),Ze(Et,i)):Qe(zt),Ze(zt,u)}var ci=null,Ka=!1,Iu=!1;function Ld(i){ci===null?ci=[i]:ci.push(i)}function Mg(i){Ka=!0,Ld(i)}function Qi(){if(!Iu&&ci!==null){Iu=!0;var i=0,r=Ve;try{var u=ci;for(Ve=1;i<u.length;i++){var m=u[i];do m=m(!0);while(m!==null)}ci=null,Ka=!1}catch(w){throw ci!==null&&(ci=ci.slice(i+1)),xa(us,Qi),w}finally{Ve=r,Iu=!1}}return null}var Nr=[],br=0,$a=null,Ja=0,cn=[],dn=0,Ro=null,di=1,hi="";function Mo(i,r){Nr[br++]=Ja,Nr[br++]=$a,$a=i,Ja=r}function Dd(i,r,u){cn[dn++]=di,cn[dn++]=hi,cn[dn++]=Ro,Ro=i;var m=di;i=hi;var w=32-ke(m)-1;m&=~(1<<w),u+=1;var C=32-ke(r)+w;if(30<C){var k=w-w%5;C=(m&(1<<k)-1).toString(32),m>>=k,w-=k,di=1<<32-ke(r)+w|u<<w|m,hi=C+i}else di=1<<C|u<<w|m,hi=i}function Au(i){i.return!==null&&(Mo(i,1),Dd(i,1,0))}function Ru(i){for(;i===$a;)$a=Nr[--br],Nr[br]=null,Ja=Nr[--br],Nr[br]=null;for(;i===Ro;)Ro=cn[--dn],cn[dn]=null,hi=cn[--dn],cn[dn]=null,di=cn[--dn],cn[dn]=null}var en=null,tn=null,Xe=!1,Nn=null;function Ud(i,r){var u=mn(5,null,null,0);u.elementType="DELETED",u.stateNode=r,u.return=i,r=i.deletions,r===null?(i.deletions=[u],i.flags|=16):r.push(u)}function Fd(i,r){switch(i.tag){case 5:var u=i.type;return r=r.nodeType!==1||u.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(i.stateNode=r,en=i,tn=qn(r.firstChild),!0):!1;case 6:return r=i.pendingProps===""||r.nodeType!==3?null:r,r!==null?(i.stateNode=r,en=i,tn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(u=Ro!==null?{id:di,overflow:hi}:null,i.memoizedState={dehydrated:r,treeContext:u,retryLane:1073741824},u=mn(18,null,null,0),u.stateNode=r,u.return=i,i.child=u,en=i,tn=null,!0):!1;default:return!1}}function Mu(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Lu(i){if(Xe){var r=tn;if(r){var u=r;if(!Fd(i,r)){if(Mu(i))throw Error(n(418));r=qn(u.nextSibling);var m=en;r&&Fd(i,r)?Ud(m,u):(i.flags=i.flags&-4097|2,Xe=!1,en=i)}}else{if(Mu(i))throw Error(n(418));i.flags=i.flags&-4097|2,Xe=!1,en=i}}}function Vd(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;en=i}function Za(i){if(i!==en)return!1;if(!Xe)return Vd(i),Xe=!0,!1;var r;if((r=i.tag!==3)&&!(r=i.tag!==5)&&(r=i.type,r=r!=="head"&&r!=="body"&&!Ae(i.type,i.memoizedProps)),r&&(r=tn)){if(Mu(i))throw Bd(),Error(n(418));for(;r;)Ud(i,r),r=qn(r.nextSibling)}if(Vd(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(r===0){tn=qn(i.nextSibling);break e}r--}else u!=="$"&&u!=="$!"&&u!=="$?"||r++}i=i.nextSibling}tn=null}}else tn=en?qn(i.stateNode.nextSibling):null;return!0}function Bd(){for(var i=tn;i;)i=qn(i.nextSibling)}function kr(){tn=en=null,Xe=!1}function Du(i){Nn===null?Nn=[i]:Nn.push(i)}var Lg=Y.ReactCurrentBatchConfig;function Ds(i,r,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,i));var w=m,C=""+i;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===C?r.ref:(r=function(k){var R=w.refs;k===null?delete R[C]:R[C]=k},r._stringRef=C,r)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Ya(i,r){throw i=Object.prototype.toString.call(r),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i))}function zd(i){var r=i._init;return r(i._payload)}function Hd(i){function r(O,H){if(i){var q=O.deletions;q===null?(O.deletions=[H],O.flags|=16):q.push(H)}}function u(O,H){if(!i)return null;for(;H!==null;)r(O,H),H=H.sibling;return null}function m(O,H){for(O=new Map;H!==null;)H.key!==null?O.set(H.key,H):O.set(H.index,H),H=H.sibling;return O}function w(O,H){return O=so(O,H),O.index=0,O.sibling=null,O}function C(O,H,q){return O.index=q,i?(q=O.alternate,q!==null?(q=q.index,q<H?(O.flags|=2,H):q):(O.flags|=2,H)):(O.flags|=1048576,H)}function k(O){return i&&O.alternate===null&&(O.flags|=2),O}function R(O,H,q,ne){return H===null||H.tag!==6?(H=Nc(q,O.mode,ne),H.return=O,H):(H=w(H,q),H.return=O,H)}function V(O,H,q,ne){var ge=q.type;return ge===ae?ee(O,H,q.props.children,ne,q.key):H!==null&&(H.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===qe&&zd(ge)===H.type)?(ne=w(H,q.props),ne.ref=Ds(O,H,q),ne.return=O,ne):(ne=wl(q.type,q.key,q.props,null,O.mode,ne),ne.ref=Ds(O,H,q),ne.return=O,ne)}function K(O,H,q,ne){return H===null||H.tag!==4||H.stateNode.containerInfo!==q.containerInfo||H.stateNode.implementation!==q.implementation?(H=bc(q,O.mode,ne),H.return=O,H):(H=w(H,q.children||[]),H.return=O,H)}function ee(O,H,q,ne,ge){return H===null||H.tag!==7?(H=Ho(q,O.mode,ne,ge),H.return=O,H):(H=w(H,q),H.return=O,H)}function te(O,H,q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Nc(""+H,O.mode,q),H.return=O,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ie:return q=wl(H.type,H.key,H.props,null,O.mode,q),q.ref=Ds(O,null,H),q.return=O,q;case se:return H=bc(H,O.mode,q),H.return=O,H;case qe:var ne=H._init;return te(O,ne(H._payload),q)}if(Ni(H)||xe(H))return H=Ho(H,O.mode,q,null),H.return=O,H;Ya(O,H)}return null}function X(O,H,q,ne){var ge=H!==null?H.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:R(O,H,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ie:return q.key===ge?V(O,H,q,ne):null;case se:return q.key===ge?K(O,H,q,ne):null;case qe:return ge=q._init,X(O,H,ge(q._payload),ne)}if(Ni(q)||xe(q))return ge!==null?null:ee(O,H,q,ne,null);Ya(O,q)}return null}function ue(O,H,q,ne,ge){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return O=O.get(q)||null,R(H,O,""+ne,ge);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case ie:return O=O.get(ne.key===null?q:ne.key)||null,V(H,O,ne,ge);case se:return O=O.get(ne.key===null?q:ne.key)||null,K(H,O,ne,ge);case qe:var we=ne._init;return ue(O,H,q,we(ne._payload),ge)}if(Ni(ne)||xe(ne))return O=O.get(q)||null,ee(H,O,ne,ge,null);Ya(H,ne)}return null}function he(O,H,q,ne){for(var ge=null,we=null,Te=H,Ee=H=0,gt=null;Te!==null&&Ee<q.length;Ee++){Te.index>Ee?(gt=Te,Te=null):gt=Te.sibling;var Ge=X(O,Te,q[Ee],ne);if(Ge===null){Te===null&&(Te=gt);break}i&&Te&&Ge.alternate===null&&r(O,Te),H=C(Ge,H,Ee),we===null?ge=Ge:we.sibling=Ge,we=Ge,Te=gt}if(Ee===q.length)return u(O,Te),Xe&&Mo(O,Ee),ge;if(Te===null){for(;Ee<q.length;Ee++)Te=te(O,q[Ee],ne),Te!==null&&(H=C(Te,H,Ee),we===null?ge=Te:we.sibling=Te,we=Te);return Xe&&Mo(O,Ee),ge}for(Te=m(O,Te);Ee<q.length;Ee++)gt=ue(Te,O,Ee,q[Ee],ne),gt!==null&&(i&&gt.alternate!==null&&Te.delete(gt.key===null?Ee:gt.key),H=C(gt,H,Ee),we===null?ge=gt:we.sibling=gt,we=gt);return i&&Te.forEach(function(ao){return r(O,ao)}),Xe&&Mo(O,Ee),ge}function fe(O,H,q,ne){var ge=xe(q);if(typeof ge!="function")throw Error(n(150));if(q=ge.call(q),q==null)throw Error(n(151));for(var we=ge=null,Te=H,Ee=H=0,gt=null,Ge=q.next();Te!==null&&!Ge.done;Ee++,Ge=q.next()){Te.index>Ee?(gt=Te,Te=null):gt=Te.sibling;var ao=X(O,Te,Ge.value,ne);if(ao===null){Te===null&&(Te=gt);break}i&&Te&&ao.alternate===null&&r(O,Te),H=C(ao,H,Ee),we===null?ge=ao:we.sibling=ao,we=ao,Te=gt}if(Ge.done)return u(O,Te),Xe&&Mo(O,Ee),ge;if(Te===null){for(;!Ge.done;Ee++,Ge=q.next())Ge=te(O,Ge.value,ne),Ge!==null&&(H=C(Ge,H,Ee),we===null?ge=Ge:we.sibling=Ge,we=Ge);return Xe&&Mo(O,Ee),ge}for(Te=m(O,Te);!Ge.done;Ee++,Ge=q.next())Ge=ue(Te,O,Ee,Ge.value,ne),Ge!==null&&(i&&Ge.alternate!==null&&Te.delete(Ge.key===null?Ee:Ge.key),H=C(Ge,H,Ee),we===null?ge=Ge:we.sibling=Ge,we=Ge);return i&&Te.forEach(function(fv){return r(O,fv)}),Xe&&Mo(O,Ee),ge}function at(O,H,q,ne){if(typeof q=="object"&&q!==null&&q.type===ae&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ie:e:{for(var ge=q.key,we=H;we!==null;){if(we.key===ge){if(ge=q.type,ge===ae){if(we.tag===7){u(O,we.sibling),H=w(we,q.props.children),H.return=O,O=H;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===qe&&zd(ge)===we.type){u(O,we.sibling),H=w(we,q.props),H.ref=Ds(O,we,q),H.return=O,O=H;break e}u(O,we);break}else r(O,we);we=we.sibling}q.type===ae?(H=Ho(q.props.children,O.mode,ne,q.key),H.return=O,O=H):(ne=wl(q.type,q.key,q.props,null,O.mode,ne),ne.ref=Ds(O,H,q),ne.return=O,O=ne)}return k(O);case se:e:{for(we=q.key;H!==null;){if(H.key===we)if(H.tag===4&&H.stateNode.containerInfo===q.containerInfo&&H.stateNode.implementation===q.implementation){u(O,H.sibling),H=w(H,q.children||[]),H.return=O,O=H;break e}else{u(O,H);break}else r(O,H);H=H.sibling}H=bc(q,O.mode,ne),H.return=O,O=H}return k(O);case qe:return we=q._init,at(O,H,we(q._payload),ne)}if(Ni(q))return he(O,H,q,ne);if(xe(q))return fe(O,H,q,ne);Ya(O,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,H!==null&&H.tag===6?(u(O,H.sibling),H=w(H,q),H.return=O,O=H):(u(O,H),H=Nc(q,O.mode,ne),H.return=O,O=H),k(O)):u(O,H)}return at}var Pr=Hd(!0),Gd=Hd(!1),Qa=Zi(null),Xa=null,Ir=null,Uu=null;function Fu(){Uu=Ir=Xa=null}function Vu(i){var r=Qa.current;Qe(Qa),i._currentValue=r}function Bu(i,r,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,m!==null&&(m.childLanes|=r)):m!==null&&(m.childLanes&r)!==r&&(m.childLanes|=r),i===u)break;i=i.return}}function Ar(i,r){Xa=i,Uu=Ir=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&r)!==0&&(Gt=!0),i.firstContext=null)}function hn(i){var r=i._currentValue;if(Uu!==i)if(i={context:i,memoizedValue:r,next:null},Ir===null){if(Xa===null)throw Error(n(308));Ir=i,Xa.dependencies={lanes:0,firstContext:i}}else Ir=Ir.next=i;return r}var Lo=null;function zu(i){Lo===null?Lo=[i]:Lo.push(i)}function Od(i,r,u,m){var w=r.interleaved;return w===null?(u.next=u,zu(r)):(u.next=w.next,w.next=u),r.interleaved=u,fi(i,m)}function fi(i,r){i.lanes|=r;var u=i.alternate;for(u!==null&&(u.lanes|=r),u=i,i=i.return;i!==null;)i.childLanes|=r,u=i.alternate,u!==null&&(u.childLanes|=r),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Xi=!1;function Hu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function pi(i,r){return{eventTime:i,lane:r,tag:0,payload:null,callback:null,next:null}}function eo(i,r,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(ze&2)!==0){var w=m.pending;return w===null?r.next=r:(r.next=w.next,w.next=r),m.pending=r,fi(i,u)}return w=m.interleaved,w===null?(r.next=r,zu(m)):(r.next=w.next,w.next=r),m.interleaved=r,fi(i,u)}function el(i,r,u){if(r=r.updateQueue,r!==null&&(r=r.shared,(u&4194240)!==0)){var m=r.lanes;m&=i.pendingLanes,u|=m,r.lanes=u,wn(i,u)}}function jd(i,r){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var w=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};C===null?w=C=k:C=C.next=k,u=u.next}while(u!==null);C===null?w=C=r:C=C.next=r}else w=C=r;u={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:C,shared:m.shared,effects:m.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=r:i.next=r,u.lastBaseUpdate=r}function tl(i,r,u,m){var w=i.updateQueue;Xi=!1;var C=w.firstBaseUpdate,k=w.lastBaseUpdate,R=w.shared.pending;if(R!==null){w.shared.pending=null;var V=R,K=V.next;V.next=null,k===null?C=K:k.next=K,k=V;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==k&&(R===null?ee.firstBaseUpdate=K:R.next=K,ee.lastBaseUpdate=V))}if(C!==null){var te=w.baseState;k=0,ee=K=V=null,R=C;do{var X=R.lane,ue=R.eventTime;if((m&X)===X){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var he=i,fe=R;switch(X=r,ue=u,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){te=he.call(ue,te,X);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,X=typeof he=="function"?he.call(ue,te,X):he,X==null)break e;te=Z({},te,X);break e;case 2:Xi=!0}}R.callback!==null&&R.lane!==0&&(i.flags|=64,X=w.effects,X===null?w.effects=[R]:X.push(R))}else ue={eventTime:ue,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?(K=ee=ue,V=te):ee=ee.next=ue,k|=X;if(R=R.next,R===null){if(R=w.shared.pending,R===null)break;X=R,R=X.next,X.next=null,w.lastBaseUpdate=X,w.shared.pending=null}}while(!0);if(ee===null&&(V=te),w.baseState=V,w.firstBaseUpdate=K,w.lastBaseUpdate=ee,r=w.shared.interleaved,r!==null){w=r;do k|=w.lane,w=w.next;while(w!==r)}else C===null&&(w.shared.lanes=0);Fo|=k,i.lanes=k,i.memoizedState=te}}function Wd(i,r,u){if(i=r.effects,r.effects=null,i!==null)for(r=0;r<i.length;r++){var m=i[r],w=m.callback;if(w!==null){if(m.callback=null,m=u,typeof w!="function")throw Error(n(191,w));w.call(m)}}}var Us={},jn=Zi(Us),Fs=Zi(Us),Vs=Zi(Us);function Do(i){if(i===Us)throw Error(n(174));return i}function Gu(i,r){switch(Ze(Vs,r),Ze(Fs,i),Ze(jn,Us),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:$o(null,"");break;default:i=i===8?r.parentNode:r,r=i.namespaceURI||null,i=i.tagName,r=$o(r,i)}Qe(jn),Ze(jn,r)}function Rr(){Qe(jn),Qe(Fs),Qe(Vs)}function Kd(i){Do(Vs.current);var r=Do(jn.current),u=$o(r,i.type);r!==u&&(Ze(Fs,i),Ze(jn,u))}function Ou(i){Fs.current===i&&(Qe(jn),Qe(Fs))}var nt=Zi(0);function nl(i){for(var r=i;r!==null;){if(r.tag===13){var u=r.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var qu=[];function ju(){for(var i=0;i<qu.length;i++)qu[i]._workInProgressVersionPrimary=null;qu.length=0}var il=Y.ReactCurrentDispatcher,Wu=Y.ReactCurrentBatchConfig,Uo=0,it=null,ht=null,pt=null,ol=!1,Bs=!1,zs=0,Dg=0;function Nt(){throw Error(n(321))}function Ku(i,r){if(r===null)return!1;for(var u=0;u<r.length&&u<i.length;u++)if(!Qt(i[u],r[u]))return!1;return!0}function $u(i,r,u,m,w,C){if(Uo=C,it=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,il.current=i===null||i.memoizedState===null?Bg:zg,i=u(m,w),Bs){C=0;do{if(Bs=!1,zs=0,25<=C)throw Error(n(301));C+=1,pt=ht=null,r.updateQueue=null,il.current=Hg,i=u(m,w)}while(Bs)}if(il.current=al,r=ht!==null&&ht.next!==null,Uo=0,pt=ht=it=null,ol=!1,r)throw Error(n(300));return i}function Ju(){var i=zs!==0;return zs=0,i}function Wn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?it.memoizedState=pt=i:pt=pt.next=i,pt}function fn(){if(ht===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=ht.next;var r=pt===null?it.memoizedState:pt.next;if(r!==null)pt=r,ht=i;else{if(i===null)throw Error(n(310));ht=i,i={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},pt===null?it.memoizedState=pt=i:pt=pt.next=i}return pt}function Hs(i,r){return typeof r=="function"?r(i):r}function Zu(i){var r=fn(),u=r.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=ht,w=m.baseQueue,C=u.pending;if(C!==null){if(w!==null){var k=w.next;w.next=C.next,C.next=k}m.baseQueue=w=C,u.pending=null}if(w!==null){C=w.next,m=m.baseState;var R=k=null,V=null,K=C;do{var ee=K.lane;if((Uo&ee)===ee)V!==null&&(V=V.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),m=K.hasEagerState?K.eagerState:i(m,K.action);else{var te={lane:ee,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};V===null?(R=V=te,k=m):V=V.next=te,it.lanes|=ee,Fo|=ee}K=K.next}while(K!==null&&K!==C);V===null?k=m:V.next=R,Qt(m,r.memoizedState)||(Gt=!0),r.memoizedState=m,r.baseState=k,r.baseQueue=V,u.lastRenderedState=m}if(i=u.interleaved,i!==null){w=i;do C=w.lane,it.lanes|=C,Fo|=C,w=w.next;while(w!==i)}else w===null&&(u.lanes=0);return[r.memoizedState,u.dispatch]}function Yu(i){var r=fn(),u=r.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,w=u.pending,C=r.memoizedState;if(w!==null){u.pending=null;var k=w=w.next;do C=i(C,k.action),k=k.next;while(k!==w);Qt(C,r.memoizedState)||(Gt=!0),r.memoizedState=C,r.baseQueue===null&&(r.baseState=C),u.lastRenderedState=C}return[C,m]}function $d(){}function Jd(i,r){var u=it,m=fn(),w=r(),C=!Qt(m.memoizedState,w);if(C&&(m.memoizedState=w,Gt=!0),m=m.queue,Qu(Qd.bind(null,u,m,i),[i]),m.getSnapshot!==r||C||pt!==null&&pt.memoizedState.tag&1){if(u.flags|=2048,Gs(9,Yd.bind(null,u,m,w,r),void 0,null),mt===null)throw Error(n(349));(Uo&30)!==0||Zd(u,r,w)}return w}function Zd(i,r,u){i.flags|=16384,i={getSnapshot:r,value:u},r=it.updateQueue,r===null?(r={lastEffect:null,stores:null},it.updateQueue=r,r.stores=[i]):(u=r.stores,u===null?r.stores=[i]:u.push(i))}function Yd(i,r,u,m){r.value=u,r.getSnapshot=m,Xd(r)&&eh(i)}function Qd(i,r,u){return u(function(){Xd(r)&&eh(i)})}function Xd(i){var r=i.getSnapshot;i=i.value;try{var u=r();return!Qt(i,u)}catch{return!0}}function eh(i){var r=fi(i,1);r!==null&&In(r,i,1,-1)}function th(i){var r=Wn();return typeof i=="function"&&(i=i()),r.memoizedState=r.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:i},r.queue=i,i=i.dispatch=Vg.bind(null,it,i),[r.memoizedState,i]}function Gs(i,r,u,m){return i={tag:i,create:r,destroy:u,deps:m,next:null},r=it.updateQueue,r===null?(r={lastEffect:null,stores:null},it.updateQueue=r,r.lastEffect=i.next=i):(u=r.lastEffect,u===null?r.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,r.lastEffect=i)),i}function nh(){return fn().memoizedState}function rl(i,r,u,m){var w=Wn();it.flags|=i,w.memoizedState=Gs(1|r,u,void 0,m===void 0?null:m)}function sl(i,r,u,m){var w=fn();m=m===void 0?null:m;var C=void 0;if(ht!==null){var k=ht.memoizedState;if(C=k.destroy,m!==null&&Ku(m,k.deps)){w.memoizedState=Gs(r,u,C,m);return}}it.flags|=i,w.memoizedState=Gs(1|r,u,C,m)}function ih(i,r){return rl(8390656,8,i,r)}function Qu(i,r){return sl(2048,8,i,r)}function oh(i,r){return sl(4,2,i,r)}function rh(i,r){return sl(4,4,i,r)}function sh(i,r){if(typeof r=="function")return i=i(),r(i),function(){r(null)};if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function ah(i,r,u){return u=u!=null?u.concat([i]):null,sl(4,4,sh.bind(null,r,i),u)}function Xu(){}function lh(i,r){var u=fn();r=r===void 0?null:r;var m=u.memoizedState;return m!==null&&r!==null&&Ku(r,m[1])?m[0]:(u.memoizedState=[i,r],i)}function uh(i,r){var u=fn();r=r===void 0?null:r;var m=u.memoizedState;return m!==null&&r!==null&&Ku(r,m[1])?m[0]:(i=i(),u.memoizedState=[i,r],i)}function ch(i,r,u){return(Uo&21)===0?(i.baseState&&(i.baseState=!1,Gt=!0),i.memoizedState=u):(Qt(u,r)||(u=Ta(),it.lanes|=u,Fo|=u,i.baseState=!0),r)}function Ug(i,r){var u=Ve;Ve=u!==0&&4>u?u:4,i(!0);var m=Wu.transition;Wu.transition={};try{i(!1),r()}finally{Ve=u,Wu.transition=m}}function dh(){return fn().memoizedState}function Fg(i,r,u){var m=oo(i);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},hh(i))fh(r,u);else if(u=Od(i,r,u,m),u!==null){var w=Dt();In(u,i,m,w),ph(u,r,m)}}function Vg(i,r,u){var m=oo(i),w={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(hh(i))fh(r,w);else{var C=i.alternate;if(i.lanes===0&&(C===null||C.lanes===0)&&(C=r.lastRenderedReducer,C!==null))try{var k=r.lastRenderedState,R=C(k,u);if(w.hasEagerState=!0,w.eagerState=R,Qt(R,k)){var V=r.interleaved;V===null?(w.next=w,zu(r)):(w.next=V.next,V.next=w),r.interleaved=w;return}}catch{}finally{}u=Od(i,r,w,m),u!==null&&(w=Dt(),In(u,i,m,w),ph(u,r,m))}}function hh(i){var r=i.alternate;return i===it||r!==null&&r===it}function fh(i,r){Bs=ol=!0;var u=i.pending;u===null?r.next=r:(r.next=u.next,u.next=r),i.pending=r}function ph(i,r,u){if((u&4194240)!==0){var m=r.lanes;m&=i.pendingLanes,u|=m,r.lanes=u,wn(i,u)}}var al={readContext:hn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},Bg={readContext:hn,useCallback:function(i,r){return Wn().memoizedState=[i,r===void 0?null:r],i},useContext:hn,useEffect:ih,useImperativeHandle:function(i,r,u){return u=u!=null?u.concat([i]):null,rl(4194308,4,sh.bind(null,r,i),u)},useLayoutEffect:function(i,r){return rl(4194308,4,i,r)},useInsertionEffect:function(i,r){return rl(4,2,i,r)},useMemo:function(i,r){var u=Wn();return r=r===void 0?null:r,i=i(),u.memoizedState=[i,r],i},useReducer:function(i,r,u){var m=Wn();return r=u!==void 0?u(r):r,m.memoizedState=m.baseState=r,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:r},m.queue=i,i=i.dispatch=Fg.bind(null,it,i),[m.memoizedState,i]},useRef:function(i){var r=Wn();return i={current:i},r.memoizedState=i},useState:th,useDebugValue:Xu,useDeferredValue:function(i){return Wn().memoizedState=i},useTransition:function(){var i=th(!1),r=i[0];return i=Ug.bind(null,i[1]),Wn().memoizedState=i,[r,i]},useMutableSource:function(){},useSyncExternalStore:function(i,r,u){var m=it,w=Wn();if(Xe){if(u===void 0)throw Error(n(407));u=u()}else{if(u=r(),mt===null)throw Error(n(349));(Uo&30)!==0||Zd(m,r,u)}w.memoizedState=u;var C={value:u,getSnapshot:r};return w.queue=C,ih(Qd.bind(null,m,C,i),[i]),m.flags|=2048,Gs(9,Yd.bind(null,m,C,u,r),void 0,null),u},useId:function(){var i=Wn(),r=mt.identifierPrefix;if(Xe){var u=hi,m=di;u=(m&~(1<<32-ke(m)-1)).toString(32)+u,r=":"+r+"R"+u,u=zs++,0<u&&(r+="H"+u.toString(32)),r+=":"}else u=Dg++,r=":"+r+"r"+u.toString(32)+":";return i.memoizedState=r},unstable_isNewReconciler:!1},zg={readContext:hn,useCallback:lh,useContext:hn,useEffect:Qu,useImperativeHandle:ah,useInsertionEffect:oh,useLayoutEffect:rh,useMemo:uh,useReducer:Zu,useRef:nh,useState:function(){return Zu(Hs)},useDebugValue:Xu,useDeferredValue:function(i){var r=fn();return ch(r,ht.memoizedState,i)},useTransition:function(){var i=Zu(Hs)[0],r=fn().memoizedState;return[i,r]},useMutableSource:$d,useSyncExternalStore:Jd,useId:dh,unstable_isNewReconciler:!1},Hg={readContext:hn,useCallback:lh,useContext:hn,useEffect:Qu,useImperativeHandle:ah,useInsertionEffect:oh,useLayoutEffect:rh,useMemo:uh,useReducer:Yu,useRef:nh,useState:function(){return Yu(Hs)},useDebugValue:Xu,useDeferredValue:function(i){var r=fn();return ht===null?r.memoizedState=i:ch(r,ht.memoizedState,i)},useTransition:function(){var i=Yu(Hs)[0],r=fn().memoizedState;return[i,r]},useMutableSource:$d,useSyncExternalStore:Jd,useId:dh,unstable_isNewReconciler:!1};function bn(i,r){if(i&&i.defaultProps){r=Z({},r),i=i.defaultProps;for(var u in i)r[u]===void 0&&(r[u]=i[u]);return r}return r}function ec(i,r,u,m){r=i.memoizedState,u=u(m,r),u=u==null?r:Z({},r,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ll={isMounted:function(i){return(i=i._reactInternals)?Un(i)===i:!1},enqueueSetState:function(i,r,u){i=i._reactInternals;var m=Dt(),w=oo(i),C=pi(m,w);C.payload=r,u!=null&&(C.callback=u),r=eo(i,C,w),r!==null&&(In(r,i,w,m),el(r,i,w))},enqueueReplaceState:function(i,r,u){i=i._reactInternals;var m=Dt(),w=oo(i),C=pi(m,w);C.tag=1,C.payload=r,u!=null&&(C.callback=u),r=eo(i,C,w),r!==null&&(In(r,i,w,m),el(r,i,w))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var u=Dt(),m=oo(i),w=pi(u,m);w.tag=2,r!=null&&(w.callback=r),r=eo(i,w,m),r!==null&&(In(r,i,m,u),el(r,i,m))}};function mh(i,r,u,m,w,C,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,C,k):r.prototype&&r.prototype.isPureReactComponent?!Hn(u,m)||!Hn(w,C):!0}function gh(i,r,u){var m=!1,w=Yi,C=r.contextType;return typeof C=="object"&&C!==null?C=hn(C):(w=Ht(r)?Ao:Et.current,m=r.contextTypes,C=(m=m!=null)?Er(i,w):Yi),r=new r(u,C),i.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ll,i.stateNode=r,r._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=C),r}function vh(i,r,u,m){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(u,m),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(u,m),r.state!==i&&ll.enqueueReplaceState(r,r.state,null)}function tc(i,r,u,m){var w=i.stateNode;w.props=u,w.state=i.memoizedState,w.refs={},Hu(i);var C=r.contextType;typeof C=="object"&&C!==null?w.context=hn(C):(C=Ht(r)?Ao:Et.current,w.context=Er(i,C)),w.state=i.memoizedState,C=r.getDerivedStateFromProps,typeof C=="function"&&(ec(i,r,C,u),w.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(r=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),r!==w.state&&ll.enqueueReplaceState(w,w.state,null),tl(i,u,w,m),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function Mr(i,r){try{var u="",m=r;do u+=pe(m),m=m.return;while(m);var w=u}catch(C){w=`
Error generating stack: `+C.message+`
`+C.stack}return{value:i,source:r,stack:w,digest:null}}function nc(i,r,u){return{value:i,source:null,stack:u??null,digest:r??null}}function ic(i,r){try{console.error(r.value)}catch(u){setTimeout(function(){throw u})}}var Gg=typeof WeakMap=="function"?WeakMap:Map;function yh(i,r,u){u=pi(-1,u),u.tag=3,u.payload={element:null};var m=r.value;return u.callback=function(){ml||(ml=!0,yc=m),ic(i,r)},u}function _h(i,r,u){u=pi(-1,u),u.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var w=r.value;u.payload=function(){return m(w)},u.callback=function(){ic(i,r)}}var C=i.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(u.callback=function(){ic(i,r),typeof m!="function"&&(no===null?no=new Set([this]):no.add(this));var k=r.stack;this.componentDidCatch(r.value,{componentStack:k!==null?k:""})}),u}function xh(i,r,u){var m=i.pingCache;if(m===null){m=i.pingCache=new Gg;var w=new Set;m.set(r,w)}else w=m.get(r),w===void 0&&(w=new Set,m.set(r,w));w.has(u)||(w.add(u),i=nv.bind(null,i,r,u),r.then(i,i))}function wh(i){do{var r;if((r=i.tag===13)&&(r=i.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return i;i=i.return}while(i!==null);return null}function Th(i,r,u,m,w){return(i.mode&1)===0?(i===r?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(r=pi(-1,1),r.tag=2,eo(u,r,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=w,i)}var Og=Y.ReactCurrentOwner,Gt=!1;function Lt(i,r,u,m){r.child=i===null?Gd(r,null,u,m):Pr(r,i.child,u,m)}function Ch(i,r,u,m,w){u=u.render;var C=r.ref;return Ar(r,w),m=$u(i,r,u,m,C,w),u=Ju(),i!==null&&!Gt?(r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~w,mi(i,r,w)):(Xe&&u&&Au(r),r.flags|=1,Lt(i,r,m,w),r.child)}function Sh(i,r,u,m,w){if(i===null){var C=u.type;return typeof C=="function"&&!Ec(C)&&C.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(r.tag=15,r.type=C,Eh(i,r,C,m,w)):(i=wl(u.type,null,m,r,r.mode,w),i.ref=r.ref,i.return=r,r.child=i)}if(C=i.child,(i.lanes&w)===0){var k=C.memoizedProps;if(u=u.compare,u=u!==null?u:Hn,u(k,m)&&i.ref===r.ref)return mi(i,r,w)}return r.flags|=1,i=so(C,m),i.ref=r.ref,i.return=r,r.child=i}function Eh(i,r,u,m,w){if(i!==null){var C=i.memoizedProps;if(Hn(C,m)&&i.ref===r.ref)if(Gt=!1,r.pendingProps=m=C,(i.lanes&w)!==0)(i.flags&131072)!==0&&(Gt=!0);else return r.lanes=i.lanes,mi(i,r,w)}return oc(i,r,u,m,w)}function Nh(i,r,u){var m=r.pendingProps,w=m.children,C=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Dr,nn),nn|=u;else{if((u&1073741824)===0)return i=C!==null?C.baseLanes|u:u,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:i,cachePool:null,transitions:null},r.updateQueue=null,Ze(Dr,nn),nn|=i,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=C!==null?C.baseLanes:u,Ze(Dr,nn),nn|=m}else C!==null?(m=C.baseLanes|u,r.memoizedState=null):m=u,Ze(Dr,nn),nn|=m;return Lt(i,r,w,u),r.child}function bh(i,r){var u=r.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(r.flags|=512,r.flags|=2097152)}function oc(i,r,u,m,w){var C=Ht(u)?Ao:Et.current;return C=Er(r,C),Ar(r,w),u=$u(i,r,u,m,C,w),m=Ju(),i!==null&&!Gt?(r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~w,mi(i,r,w)):(Xe&&m&&Au(r),r.flags|=1,Lt(i,r,u,w),r.child)}function kh(i,r,u,m,w){if(Ht(u)){var C=!0;Wa(r)}else C=!1;if(Ar(r,w),r.stateNode===null)cl(i,r),gh(r,u,m),tc(r,u,m,w),m=!0;else if(i===null){var k=r.stateNode,R=r.memoizedProps;k.props=R;var V=k.context,K=u.contextType;typeof K=="object"&&K!==null?K=hn(K):(K=Ht(u)?Ao:Et.current,K=Er(r,K));var ee=u.getDerivedStateFromProps,te=typeof ee=="function"||typeof k.getSnapshotBeforeUpdate=="function";te||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==m||V!==K)&&vh(r,k,m,K),Xi=!1;var X=r.memoizedState;k.state=X,tl(r,m,k,w),V=r.memoizedState,R!==m||X!==V||zt.current||Xi?(typeof ee=="function"&&(ec(r,u,ee,m),V=r.memoizedState),(R=Xi||mh(r,u,R,m,X,V,K))?(te||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(r.flags|=4194308)):(typeof k.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=m,r.memoizedState=V),k.props=m,k.state=V,k.context=K,m=R):(typeof k.componentDidMount=="function"&&(r.flags|=4194308),m=!1)}else{k=r.stateNode,qd(i,r),R=r.memoizedProps,K=r.type===r.elementType?R:bn(r.type,R),k.props=K,te=r.pendingProps,X=k.context,V=u.contextType,typeof V=="object"&&V!==null?V=hn(V):(V=Ht(u)?Ao:Et.current,V=Er(r,V));var ue=u.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==te||X!==V)&&vh(r,k,m,V),Xi=!1,X=r.memoizedState,k.state=X,tl(r,m,k,w);var he=r.memoizedState;R!==te||X!==he||zt.current||Xi?(typeof ue=="function"&&(ec(r,u,ue,m),he=r.memoizedState),(K=Xi||mh(r,u,K,m,X,he,V)||!1)?(ee||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(m,he,V),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(m,he,V)),typeof k.componentDidUpdate=="function"&&(r.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof k.componentDidUpdate!="function"||R===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),r.memoizedProps=m,r.memoizedState=he),k.props=m,k.state=he,k.context=V,m=K):(typeof k.componentDidUpdate!="function"||R===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),m=!1)}return rc(i,r,u,m,C,w)}function rc(i,r,u,m,w,C){bh(i,r);var k=(r.flags&128)!==0;if(!m&&!k)return w&&Md(r,u,!1),mi(i,r,C);m=r.stateNode,Og.current=r;var R=k&&typeof u.getDerivedStateFromError!="function"?null:m.render();return r.flags|=1,i!==null&&k?(r.child=Pr(r,i.child,null,C),r.child=Pr(r,null,R,C)):Lt(i,r,R,C),r.memoizedState=m.state,w&&Md(r,u,!0),r.child}function Ph(i){var r=i.stateNode;r.pendingContext?Ad(i,r.pendingContext,r.pendingContext!==r.context):r.context&&Ad(i,r.context,!1),Gu(i,r.containerInfo)}function Ih(i,r,u,m,w){return kr(),Du(w),r.flags|=256,Lt(i,r,u,m),r.child}var sc={dehydrated:null,treeContext:null,retryLane:0};function ac(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ah(i,r,u){var m=r.pendingProps,w=nt.current,C=!1,k=(r.flags&128)!==0,R;if((R=k)||(R=i!==null&&i.memoizedState===null?!1:(w&2)!==0),R?(C=!0,r.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),Ze(nt,w&1),i===null)return Lu(r),i=r.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((r.mode&1)===0?r.lanes=1:i.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(k=m.children,i=m.fallback,C?(m=r.mode,C=r.child,k={mode:"hidden",children:k},(m&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=k):C=Tl(k,m,0,null),i=Ho(i,m,u,null),C.return=r,i.return=r,C.sibling=i,r.child=C,r.child.memoizedState=ac(u),r.memoizedState=sc,i):lc(r,k));if(w=i.memoizedState,w!==null&&(R=w.dehydrated,R!==null))return qg(i,r,k,m,R,w,u);if(C){C=m.fallback,k=r.mode,w=i.child,R=w.sibling;var V={mode:"hidden",children:m.children};return(k&1)===0&&r.child!==w?(m=r.child,m.childLanes=0,m.pendingProps=V,r.deletions=null):(m=so(w,V),m.subtreeFlags=w.subtreeFlags&14680064),R!==null?C=so(R,C):(C=Ho(C,k,u,null),C.flags|=2),C.return=r,m.return=r,m.sibling=C,r.child=m,m=C,C=r.child,k=i.child.memoizedState,k=k===null?ac(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},C.memoizedState=k,C.childLanes=i.childLanes&~u,r.memoizedState=sc,m}return C=i.child,i=C.sibling,m=so(C,{mode:"visible",children:m.children}),(r.mode&1)===0&&(m.lanes=u),m.return=r,m.sibling=null,i!==null&&(u=r.deletions,u===null?(r.deletions=[i],r.flags|=16):u.push(i)),r.child=m,r.memoizedState=null,m}function lc(i,r){return r=Tl({mode:"visible",children:r},i.mode,0,null),r.return=i,i.child=r}function ul(i,r,u,m){return m!==null&&Du(m),Pr(r,i.child,null,u),i=lc(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function qg(i,r,u,m,w,C,k){if(u)return r.flags&256?(r.flags&=-257,m=nc(Error(n(422))),ul(i,r,k,m)):r.memoizedState!==null?(r.child=i.child,r.flags|=128,null):(C=m.fallback,w=r.mode,m=Tl({mode:"visible",children:m.children},w,0,null),C=Ho(C,w,k,null),C.flags|=2,m.return=r,C.return=r,m.sibling=C,r.child=m,(r.mode&1)!==0&&Pr(r,i.child,null,k),r.child.memoizedState=ac(k),r.memoizedState=sc,C);if((r.mode&1)===0)return ul(i,r,k,null);if(w.data==="$!"){if(m=w.nextSibling&&w.nextSibling.dataset,m)var R=m.dgst;return m=R,C=Error(n(419)),m=nc(C,m,void 0),ul(i,r,k,m)}if(R=(k&i.childLanes)!==0,Gt||R){if(m=mt,m!==null){switch(k&-k){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(m.suspendedLanes|k))!==0?0:w,w!==0&&w!==C.retryLane&&(C.retryLane=w,fi(i,w),In(m,i,w,-1))}return Sc(),m=nc(Error(n(421))),ul(i,r,k,m)}return w.data==="$?"?(r.flags|=128,r.child=i.child,r=iv.bind(null,i),w._reactRetry=r,null):(i=C.treeContext,tn=qn(w.nextSibling),en=r,Xe=!0,Nn=null,i!==null&&(cn[dn++]=di,cn[dn++]=hi,cn[dn++]=Ro,di=i.id,hi=i.overflow,Ro=r),r=lc(r,m.children),r.flags|=4096,r)}function Rh(i,r,u){i.lanes|=r;var m=i.alternate;m!==null&&(m.lanes|=r),Bu(i.return,r,u)}function uc(i,r,u,m,w){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:w}:(C.isBackwards=r,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=u,C.tailMode=w)}function Mh(i,r,u){var m=r.pendingProps,w=m.revealOrder,C=m.tail;if(Lt(i,r,m.children,u),m=nt.current,(m&2)!==0)m=m&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Rh(i,u,r);else if(i.tag===19)Rh(i,u,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(Ze(nt,m),(r.mode&1)===0)r.memoizedState=null;else switch(w){case"forwards":for(u=r.child,w=null;u!==null;)i=u.alternate,i!==null&&nl(i)===null&&(w=u),u=u.sibling;u=w,u===null?(w=r.child,r.child=null):(w=u.sibling,u.sibling=null),uc(r,!1,w,u,C);break;case"backwards":for(u=null,w=r.child,r.child=null;w!==null;){if(i=w.alternate,i!==null&&nl(i)===null){r.child=w;break}i=w.sibling,w.sibling=u,u=w,w=i}uc(r,!0,u,null,C);break;case"together":uc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function cl(i,r){(r.mode&1)===0&&i!==null&&(i.alternate=null,r.alternate=null,r.flags|=2)}function mi(i,r,u){if(i!==null&&(r.dependencies=i.dependencies),Fo|=r.lanes,(u&r.childLanes)===0)return null;if(i!==null&&r.child!==i.child)throw Error(n(153));if(r.child!==null){for(i=r.child,u=so(i,i.pendingProps),r.child=u,u.return=r;i.sibling!==null;)i=i.sibling,u=u.sibling=so(i,i.pendingProps),u.return=r;u.sibling=null}return r.child}function jg(i,r,u){switch(r.tag){case 3:Ph(r),kr();break;case 5:Kd(r);break;case 1:Ht(r.type)&&Wa(r);break;case 4:Gu(r,r.stateNode.containerInfo);break;case 10:var m=r.type._context,w=r.memoizedProps.value;Ze(Qa,m._currentValue),m._currentValue=w;break;case 13:if(m=r.memoizedState,m!==null)return m.dehydrated!==null?(Ze(nt,nt.current&1),r.flags|=128,null):(u&r.child.childLanes)!==0?Ah(i,r,u):(Ze(nt,nt.current&1),i=mi(i,r,u),i!==null?i.sibling:null);Ze(nt,nt.current&1);break;case 19:if(m=(u&r.childLanes)!==0,(i.flags&128)!==0){if(m)return Mh(i,r,u);r.flags|=128}if(w=r.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Ze(nt,nt.current),m)break;return null;case 22:case 23:return r.lanes=0,Nh(i,r,u)}return mi(i,r,u)}var Lh,cc,Dh,Uh;Lh=function(i,r){for(var u=r.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},cc=function(){},Dh=function(i,r,u,m){var w=i.memoizedProps;if(w!==m){i=r.stateNode,Do(jn.current);var C=null;switch(u){case"input":w=Jr(i,w),m=Jr(i,m),C=[];break;case"select":w=Z({},w,{value:void 0}),m=Z({},m,{value:void 0}),C=[];break;case"textarea":w=Wo(i,w),m=Wo(i,m),C=[];break;default:typeof w.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=Q)}ts(u,m);var k;u=null;for(K in w)if(!m.hasOwnProperty(K)&&w.hasOwnProperty(K)&&w[K]!=null)if(K==="style"){var R=w[K];for(k in R)R.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(a.hasOwnProperty(K)?C||(C=[]):(C=C||[]).push(K,null));for(K in m){var V=m[K];if(R=w!=null?w[K]:void 0,m.hasOwnProperty(K)&&V!==R&&(V!=null||R!=null))if(K==="style")if(R){for(k in R)!R.hasOwnProperty(k)||V&&V.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in V)V.hasOwnProperty(k)&&R[k]!==V[k]&&(u||(u={}),u[k]=V[k])}else u||(C||(C=[]),C.push(K,u)),u=V;else K==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,R=R?R.__html:void 0,V!=null&&R!==V&&(C=C||[]).push(K,V)):K==="children"?typeof V!="string"&&typeof V!="number"||(C=C||[]).push(K,""+V):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(a.hasOwnProperty(K)?(V!=null&&K==="onScroll"&&Ke("scroll",i),C||R===V||(C=[])):(C=C||[]).push(K,V))}u&&(C=C||[]).push("style",u);var K=C;(r.updateQueue=K)&&(r.flags|=4)}},Uh=function(i,r,u,m){u!==m&&(r.flags|=4)};function Os(i,r){if(!Xe)switch(i.tailMode){case"hidden":r=i.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function bt(i){var r=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(r)for(var w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags&14680064,m|=w.flags&14680064,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=m,i.childLanes=u,r}function Wg(i,r,u){var m=r.pendingProps;switch(Ru(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(r),null;case 1:return Ht(r.type)&&ja(),bt(r),null;case 3:return m=r.stateNode,Rr(),Qe(zt),Qe(Et),ju(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Za(r)?r.flags|=4:i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nn!==null&&(wc(Nn),Nn=null))),cc(i,r),bt(r),null;case 5:Ou(r);var w=Do(Vs.current);if(u=r.type,i!==null&&r.stateNode!=null)Dh(i,r,u,m,w),i.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!m){if(r.stateNode===null)throw Error(n(166));return bt(r),null}if(i=Do(jn.current),Za(r)){m=r.stateNode,u=r.type;var C=r.memoizedProps;switch(m[un]=r,m[$i]=C,i=(r.mode&1)!==0,u){case"dialog":Ke("cancel",m),Ke("close",m);break;case"iframe":case"object":case"embed":Ke("load",m);break;case"video":case"audio":for(w=0;w<ji.length;w++)Ke(ji[w],m);break;case"source":Ke("error",m);break;case"img":case"image":case"link":Ke("error",m),Ke("load",m);break;case"details":Ke("toggle",m);break;case"input":Zr(m,C),Ke("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!C.multiple},Ke("invalid",m);break;case"textarea":Xr(m,C),Ke("invalid",m)}ts(u,C),w=null;for(var k in C)if(C.hasOwnProperty(k)){var R=C[k];k==="children"?typeof R=="string"?m.textContent!==R&&(C.suppressHydrationWarning!==!0&&W(m.textContent,R,i),w=["children",R]):typeof R=="number"&&m.textContent!==""+R&&(C.suppressHydrationWarning!==!0&&W(m.textContent,R,i),w=["children",""+R]):a.hasOwnProperty(k)&&R!=null&&k==="onScroll"&&Ke("scroll",m)}switch(u){case"input":Ci(m),ho(m,C,!0);break;case"textarea":Ci(m),la(m);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(m.onclick=Q)}m=w,r.updateQueue=m,m!==null&&(r.flags|=4)}else{k=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ko(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=k.createElement(u,{is:m.is}):(i=k.createElement(u),u==="select"&&(k=i,m.multiple?k.multiple=!0:m.size&&(k.size=m.size))):i=k.createElementNS(i,u),i[un]=r,i[$i]=m,Lh(i,r,!1,!1),r.stateNode=i;e:{switch(k=$n(u,m),u){case"dialog":Ke("cancel",i),Ke("close",i),w=m;break;case"iframe":case"object":case"embed":Ke("load",i),w=m;break;case"video":case"audio":for(w=0;w<ji.length;w++)Ke(ji[w],i);w=m;break;case"source":Ke("error",i),w=m;break;case"img":case"image":case"link":Ke("error",i),Ke("load",i),w=m;break;case"details":Ke("toggle",i),w=m;break;case"input":Zr(i,m),w=Jr(i,m),Ke("invalid",i);break;case"option":w=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},w=Z({},m,{value:void 0}),Ke("invalid",i);break;case"textarea":Xr(i,m),w=Wo(i,m),Ke("invalid",i);break;default:w=m}ts(u,w),R=w;for(C in R)if(R.hasOwnProperty(C)){var V=R[C];C==="style"?Jo(i,V):C==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&ua(i,V)):C==="children"?typeof V=="string"?(u!=="textarea"||V!=="")&&bi(i,V):typeof V=="number"&&bi(i,""+V):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(a.hasOwnProperty(C)?V!=null&&C==="onScroll"&&Ke("scroll",i):V!=null&&F(i,C,V,k))}switch(u){case"input":Ci(i),ho(i,m,!1);break;case"textarea":Ci(i),la(i);break;case"option":m.value!=null&&i.setAttribute("value",""+Le(m.value));break;case"select":i.multiple=!!m.multiple,C=m.value,C!=null?Dn(i,!!m.multiple,C,!1):m.defaultValue!=null&&Dn(i,!!m.multiple,m.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=Q)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return bt(r),null;case 6:if(i&&r.stateNode!=null)Uh(i,r,i.memoizedProps,m);else{if(typeof m!="string"&&r.stateNode===null)throw Error(n(166));if(u=Do(Vs.current),Do(jn.current),Za(r)){if(m=r.stateNode,u=r.memoizedProps,m[un]=r,(C=m.nodeValue!==u)&&(i=en,i!==null))switch(i.tag){case 3:W(m.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&W(m.nodeValue,u,(i.mode&1)!==0)}C&&(r.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[un]=r,r.stateNode=m}return bt(r),null;case 13:if(Qe(nt),m=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Xe&&tn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Bd(),kr(),r.flags|=98560,C=!1;else if(C=Za(r),m!==null&&m.dehydrated!==null){if(i===null){if(!C)throw Error(n(318));if(C=r.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[un]=r}else kr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),C=!1}else Nn!==null&&(wc(Nn),Nn=null),C=!0;if(!C)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=u,r):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(r.child.flags|=8192,(r.mode&1)!==0&&(i===null||(nt.current&1)!==0?ft===0&&(ft=3):Sc())),r.updateQueue!==null&&(r.flags|=4),bt(r),null);case 4:return Rr(),cc(i,r),i===null&&Wi(r.stateNode.containerInfo),bt(r),null;case 10:return Vu(r.type._context),bt(r),null;case 17:return Ht(r.type)&&ja(),bt(r),null;case 19:if(Qe(nt),C=r.memoizedState,C===null)return bt(r),null;if(m=(r.flags&128)!==0,k=C.rendering,k===null)if(m)Os(C,!1);else{if(ft!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(k=nl(i),k!==null){for(r.flags|=128,Os(C,!1),m=k.updateQueue,m!==null&&(r.updateQueue=m,r.flags|=4),r.subtreeFlags=0,m=u,u=r.child;u!==null;)C=u,i=m,C.flags&=14680066,k=C.alternate,k===null?(C.childLanes=0,C.lanes=i,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=k.childLanes,C.lanes=k.lanes,C.child=k.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=k.memoizedProps,C.memoizedState=k.memoizedState,C.updateQueue=k.updateQueue,C.type=k.type,i=k.dependencies,C.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ze(nt,nt.current&1|2),r.child}i=i.sibling}C.tail!==null&&et()>Ur&&(r.flags|=128,m=!0,Os(C,!1),r.lanes=4194304)}else{if(!m)if(i=nl(k),i!==null){if(r.flags|=128,m=!0,u=i.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),Os(C,!0),C.tail===null&&C.tailMode==="hidden"&&!k.alternate&&!Xe)return bt(r),null}else 2*et()-C.renderingStartTime>Ur&&u!==1073741824&&(r.flags|=128,m=!0,Os(C,!1),r.lanes=4194304);C.isBackwards?(k.sibling=r.child,r.child=k):(u=C.last,u!==null?u.sibling=k:r.child=k,C.last=k)}return C.tail!==null?(r=C.tail,C.rendering=r,C.tail=r.sibling,C.renderingStartTime=et(),r.sibling=null,u=nt.current,Ze(nt,m?u&1|2:u&1),r):(bt(r),null);case 22:case 23:return Cc(),m=r.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(r.flags|=8192),m&&(r.mode&1)!==0?(nn&1073741824)!==0&&(bt(r),r.subtreeFlags&6&&(r.flags|=8192)):bt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Kg(i,r){switch(Ru(r),r.tag){case 1:return Ht(r.type)&&ja(),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Rr(),Qe(zt),Qe(Et),ju(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 5:return Ou(r),null;case 13:if(Qe(nt),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(n(340));kr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Qe(nt),null;case 4:return Rr(),null;case 10:return Vu(r.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var dl=!1,kt=!1,$g=typeof WeakSet=="function"?WeakSet:Set,de=null;function Lr(i,r){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){st(i,r,m)}else u.current=null}function dc(i,r,u){try{u()}catch(m){st(i,r,m)}}var Fh=!1;function Jg(i,r){if(oe=Co,i=Ns(),bs(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var w=m.anchorOffset,C=m.focusNode;m=m.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break e}var k=0,R=-1,V=-1,K=0,ee=0,te=i,X=null;t:for(;;){for(var ue;te!==u||w!==0&&te.nodeType!==3||(R=k+w),te!==C||m!==0&&te.nodeType!==3||(V=k+m),te.nodeType===3&&(k+=te.nodeValue.length),(ue=te.firstChild)!==null;)X=te,te=ue;for(;;){if(te===i)break t;if(X===u&&++K===w&&(R=k),X===C&&++ee===m&&(V=k),(ue=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=ue}u=R===-1||V===-1?null:{start:R,end:V}}else u=null}u=u||{start:0,end:0}}else u=null;for(_e={focusedElem:i,selectionRange:u},Co=!1,de=r;de!==null;)if(r=de,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,de=i;else for(;de!==null;){r=de;try{var he=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,at=he.memoizedState,O=r.stateNode,H=O.getSnapshotBeforeUpdate(r.elementType===r.type?fe:bn(r.type,fe),at);O.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var q=r.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ne){st(r,r.return,ne)}if(i=r.sibling,i!==null){i.return=r.return,de=i;break}de=r.return}return he=Fh,Fh=!1,he}function qs(i,r,u){var m=r.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var w=m=m.next;do{if((w.tag&i)===i){var C=w.destroy;w.destroy=void 0,C!==void 0&&dc(r,u,C)}w=w.next}while(w!==m)}}function hl(i,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var u=r=r.next;do{if((u.tag&i)===i){var m=u.create;u.destroy=m()}u=u.next}while(u!==r)}}function hc(i){var r=i.ref;if(r!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof r=="function"?r(i):r.current=i}}function Vh(i){var r=i.alternate;r!==null&&(i.alternate=null,Vh(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&(delete r[un],delete r[$i],delete r[Ji],delete r[bu],delete r[ku])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Bh(i){return i.tag===5||i.tag===3||i.tag===4}function zh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Bh(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fc(i,r,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,r?u.nodeType===8?u.parentNode.insertBefore(i,r):u.insertBefore(i,r):(u.nodeType===8?(r=u.parentNode,r.insertBefore(i,u)):(r=u,r.appendChild(i)),u=u._reactRootContainer,u!=null||r.onclick!==null||(r.onclick=Q));else if(m!==4&&(i=i.child,i!==null))for(fc(i,r,u),i=i.sibling;i!==null;)fc(i,r,u),i=i.sibling}function pc(i,r,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,r?u.insertBefore(i,r):u.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(pc(i,r,u),i=i.sibling;i!==null;)pc(i,r,u),i=i.sibling}var _t=null,kn=!1;function to(i,r,u){for(u=u.child;u!==null;)Hh(i,r,u),u=u.sibling}function Hh(i,r,u){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(vo,u)}catch{}switch(u.tag){case 5:kt||Lr(u,r);case 6:var m=_t,w=kn;_t=null,to(i,r,u),_t=m,kn=w,_t!==null&&(kn?(i=_t,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):_t.removeChild(u.stateNode));break;case 18:_t!==null&&(kn?(i=_t,u=u.stateNode,i.nodeType===8?Ls(i.parentNode,u):i.nodeType===1&&Ls(i,u),Jt(i)):Ls(_t,u.stateNode));break;case 4:m=_t,w=kn,_t=u.stateNode.containerInfo,kn=!0,to(i,r,u),_t=m,kn=w;break;case 0:case 11:case 14:case 15:if(!kt&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){w=m=m.next;do{var C=w,k=C.destroy;C=C.tag,k!==void 0&&((C&2)!==0||(C&4)!==0)&&dc(u,r,k),w=w.next}while(w!==m)}to(i,r,u);break;case 1:if(!kt&&(Lr(u,r),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(R){st(u,r,R)}to(i,r,u);break;case 21:to(i,r,u);break;case 22:u.mode&1?(kt=(m=kt)||u.memoizedState!==null,to(i,r,u),kt=m):to(i,r,u);break;default:to(i,r,u)}}function Gh(i){var r=i.updateQueue;if(r!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new $g),r.forEach(function(m){var w=ov.bind(null,i,m);u.has(m)||(u.add(m),m.then(w,w))})}}function Pn(i,r){var u=r.deletions;if(u!==null)for(var m=0;m<u.length;m++){var w=u[m];try{var C=i,k=r,R=k;e:for(;R!==null;){switch(R.tag){case 5:_t=R.stateNode,kn=!1;break e;case 3:_t=R.stateNode.containerInfo,kn=!0;break e;case 4:_t=R.stateNode.containerInfo,kn=!0;break e}R=R.return}if(_t===null)throw Error(n(160));Hh(C,k,w),_t=null,kn=!1;var V=w.alternate;V!==null&&(V.return=null),w.return=null}catch(K){st(w,r,K)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Oh(r,i),r=r.sibling}function Oh(i,r){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Pn(r,i),Kn(i),m&4){try{qs(3,i,i.return),hl(3,i)}catch(fe){st(i,i.return,fe)}try{qs(5,i,i.return)}catch(fe){st(i,i.return,fe)}}break;case 1:Pn(r,i),Kn(i),m&512&&u!==null&&Lr(u,u.return);break;case 5:if(Pn(r,i),Kn(i),m&512&&u!==null&&Lr(u,u.return),i.flags&32){var w=i.stateNode;try{bi(w,"")}catch(fe){st(i,i.return,fe)}}if(m&4&&(w=i.stateNode,w!=null)){var C=i.memoizedProps,k=u!==null?u.memoizedProps:C,R=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{R==="input"&&C.type==="radio"&&C.name!=null&&Yr(w,C),$n(R,k);var K=$n(R,C);for(k=0;k<V.length;k+=2){var ee=V[k],te=V[k+1];ee==="style"?Jo(w,te):ee==="dangerouslySetInnerHTML"?ua(w,te):ee==="children"?bi(w,te):F(w,ee,te,K)}switch(R){case"input":co(w,C);break;case"textarea":aa(w,C);break;case"select":var X=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!C.multiple;var ue=C.value;ue!=null?Dn(w,!!C.multiple,ue,!1):X!==!!C.multiple&&(C.defaultValue!=null?Dn(w,!!C.multiple,C.defaultValue,!0):Dn(w,!!C.multiple,C.multiple?[]:"",!1))}w[$i]=C}catch(fe){st(i,i.return,fe)}}break;case 6:if(Pn(r,i),Kn(i),m&4){if(i.stateNode===null)throw Error(n(162));w=i.stateNode,C=i.memoizedProps;try{w.nodeValue=C}catch(fe){st(i,i.return,fe)}}break;case 3:if(Pn(r,i),Kn(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Jt(r.containerInfo)}catch(fe){st(i,i.return,fe)}break;case 4:Pn(r,i),Kn(i);break;case 13:Pn(r,i),Kn(i),w=i.child,w.flags&8192&&(C=w.memoizedState!==null,w.stateNode.isHidden=C,!C||w.alternate!==null&&w.alternate.memoizedState!==null||(vc=et())),m&4&&Gh(i);break;case 22:if(ee=u!==null&&u.memoizedState!==null,i.mode&1?(kt=(K=kt)||ee,Pn(r,i),kt=K):Pn(r,i),Kn(i),m&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ee&&(i.mode&1)!==0)for(de=i,ee=i.child;ee!==null;){for(te=de=ee;de!==null;){switch(X=de,ue=X.child,X.tag){case 0:case 11:case 14:case 15:qs(4,X,X.return);break;case 1:Lr(X,X.return);var he=X.stateNode;if(typeof he.componentWillUnmount=="function"){m=X,u=X.return;try{r=m,he.props=r.memoizedProps,he.state=r.memoizedState,he.componentWillUnmount()}catch(fe){st(m,u,fe)}}break;case 5:Lr(X,X.return);break;case 22:if(X.memoizedState!==null){Wh(te);continue}}ue!==null?(ue.return=X,de=ue):Wh(te)}ee=ee.sibling}e:for(ee=null,te=i;;){if(te.tag===5){if(ee===null){ee=te;try{w=te.stateNode,K?(C=w.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(R=te.stateNode,V=te.memoizedProps.style,k=V!=null&&V.hasOwnProperty("display")?V.display:null,R.style.display=es("display",k))}catch(fe){st(i,i.return,fe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=K?"":te.memoizedProps}catch(fe){st(i,i.return,fe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===i)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===i)break e;for(;te.sibling===null;){if(te.return===null||te.return===i)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Pn(r,i),Kn(i),m&4&&Gh(i);break;case 21:break;default:Pn(r,i),Kn(i)}}function Kn(i){var r=i.flags;if(r&2){try{e:{for(var u=i.return;u!==null;){if(Bh(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var w=m.stateNode;m.flags&32&&(bi(w,""),m.flags&=-33);var C=zh(i);pc(i,C,w);break;case 3:case 4:var k=m.stateNode.containerInfo,R=zh(i);fc(i,R,k);break;default:throw Error(n(161))}}catch(V){st(i,i.return,V)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Zg(i,r,u){de=i,qh(i)}function qh(i,r,u){for(var m=(i.mode&1)!==0;de!==null;){var w=de,C=w.child;if(w.tag===22&&m){var k=w.memoizedState!==null||dl;if(!k){var R=w.alternate,V=R!==null&&R.memoizedState!==null||kt;R=dl;var K=kt;if(dl=k,(kt=V)&&!K)for(de=w;de!==null;)k=de,V=k.child,k.tag===22&&k.memoizedState!==null?Kh(w):V!==null?(V.return=k,de=V):Kh(w);for(;C!==null;)de=C,qh(C),C=C.sibling;de=w,dl=R,kt=K}jh(i)}else(w.subtreeFlags&8772)!==0&&C!==null?(C.return=w,de=C):jh(i)}}function jh(i){for(;de!==null;){var r=de;if((r.flags&8772)!==0){var u=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:kt||hl(5,r);break;case 1:var m=r.stateNode;if(r.flags&4&&!kt)if(u===null)m.componentDidMount();else{var w=r.elementType===r.type?u.memoizedProps:bn(r.type,u.memoizedProps);m.componentDidUpdate(w,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var C=r.updateQueue;C!==null&&Wd(r,C,m);break;case 3:var k=r.updateQueue;if(k!==null){if(u=null,r.child!==null)switch(r.child.tag){case 5:u=r.child.stateNode;break;case 1:u=r.child.stateNode}Wd(r,k,u)}break;case 5:var R=r.stateNode;if(u===null&&r.flags&4){u=R;var V=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&u.focus();break;case"img":V.src&&(u.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var K=r.alternate;if(K!==null){var ee=K.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&Jt(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}kt||r.flags&512&&hc(r)}catch(X){st(r,r.return,X)}}if(r===i){de=null;break}if(u=r.sibling,u!==null){u.return=r.return,de=u;break}de=r.return}}function Wh(i){for(;de!==null;){var r=de;if(r===i){de=null;break}var u=r.sibling;if(u!==null){u.return=r.return,de=u;break}de=r.return}}function Kh(i){for(;de!==null;){var r=de;try{switch(r.tag){case 0:case 11:case 15:var u=r.return;try{hl(4,r)}catch(V){st(r,u,V)}break;case 1:var m=r.stateNode;if(typeof m.componentDidMount=="function"){var w=r.return;try{m.componentDidMount()}catch(V){st(r,w,V)}}var C=r.return;try{hc(r)}catch(V){st(r,C,V)}break;case 5:var k=r.return;try{hc(r)}catch(V){st(r,k,V)}}}catch(V){st(r,r.return,V)}if(r===i){de=null;break}var R=r.sibling;if(R!==null){R.return=r.return,de=R;break}de=r.return}}var Yg=Math.ceil,fl=Y.ReactCurrentDispatcher,mc=Y.ReactCurrentOwner,pn=Y.ReactCurrentBatchConfig,ze=0,mt=null,ut=null,xt=0,nn=0,Dr=Zi(0),ft=0,js=null,Fo=0,pl=0,gc=0,Ws=null,Ot=null,vc=0,Ur=1/0,gi=null,ml=!1,yc=null,no=null,gl=!1,io=null,vl=0,Ks=0,_c=null,yl=-1,_l=0;function Dt(){return(ze&6)!==0?et():yl!==-1?yl:yl=et()}function oo(i){return(i.mode&1)===0?1:(ze&2)!==0&&xt!==0?xt&-xt:Lg.transition!==null?(_l===0&&(_l=Ta()),_l):(i=Ve,i!==0||(i=window.event,i=i===void 0?16:Ue(i.type)),i)}function In(i,r,u,m){if(50<Ks)throw Ks=0,_c=null,Error(n(185));Kt(i,u,m),((ze&2)===0||i!==mt)&&(i===mt&&((ze&2)===0&&(pl|=u),ft===4&&ro(i,xt)),qt(i,m),u===1&&ze===0&&(r.mode&1)===0&&(Ur=et()+500,Ka&&Qi()))}function qt(i,r){var u=i.callbackNode;nr(i,r);var m=Je(i,i===mt?xt:0);if(m===0)u!==null&&ls(u),i.callbackNode=null,i.callbackPriority=0;else if(r=m&-m,i.callbackPriority!==r){if(u!=null&&ls(u),r===1)i.tag===0?Mg(Jh.bind(null,i)):Ld(Jh.bind(null,i)),St(function(){(ze&6)===0&&Qi()}),u=null;else{switch(Mi(m)){case 1:u=us;break;case 4:u=wa;break;case 16:u=er;break;case 536870912:u=Pi;break;default:u=er}u=of(u,$h.bind(null,i))}i.callbackPriority=r,i.callbackNode=u}}function $h(i,r){if(yl=-1,_l=0,(ze&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Fr()&&i.callbackNode!==u)return null;var m=Je(i,i===mt?xt:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||r)r=xl(i,m);else{r=m;var w=ze;ze|=2;var C=Yh();(mt!==i||xt!==r)&&(gi=null,Ur=et()+500,Bo(i,r));do try{ev();break}catch(R){Zh(i,R)}while(!0);Fu(),fl.current=C,ze=w,ut!==null?r=0:(mt=null,xt=0,r=ft)}if(r!==0){if(r===2&&(w=Tt(i),w!==0&&(m=w,r=xc(i,w))),r===1)throw u=js,Bo(i,0),ro(i,m),qt(i,et()),u;if(r===6)ro(i,m);else{if(w=i.current.alternate,(m&30)===0&&!Qg(w)&&(r=xl(i,m),r===2&&(C=Tt(i),C!==0&&(m=C,r=xc(i,C))),r===1))throw u=js,Bo(i,0),ro(i,m),qt(i,et()),u;switch(i.finishedWork=w,i.finishedLanes=m,r){case 0:case 1:throw Error(n(345));case 2:zo(i,Ot,gi);break;case 3:if(ro(i,m),(m&130023424)===m&&(r=vc+500-et(),10<r)){if(Je(i,0)!==0)break;if(w=i.suspendedLanes,(w&m)!==m){Dt(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=dt(zo.bind(null,i,Ot,gi),r);break}zo(i,Ot,gi);break;case 4:if(ro(i,m),(m&4194240)===m)break;for(r=i.eventTimes,w=-1;0<m;){var k=31-ke(m);C=1<<k,k=r[k],k>w&&(w=k),m&=~C}if(m=w,m=et()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Yg(m/1960))-m,10<m){i.timeoutHandle=dt(zo.bind(null,i,Ot,gi),m);break}zo(i,Ot,gi);break;case 5:zo(i,Ot,gi);break;default:throw Error(n(329))}}}return qt(i,et()),i.callbackNode===u?$h.bind(null,i):null}function xc(i,r){var u=Ws;return i.current.memoizedState.isDehydrated&&(Bo(i,r).flags|=256),i=xl(i,r),i!==2&&(r=Ot,Ot=u,r!==null&&wc(r)),i}function wc(i){Ot===null?Ot=i:Ot.push.apply(Ot,i)}function Qg(i){for(var r=i;;){if(r.flags&16384){var u=r.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var w=u[m],C=w.getSnapshot;w=w.value;try{if(!Qt(C(),w))return!1}catch{return!1}}}if(u=r.child,r.subtreeFlags&16384&&u!==null)u.return=r,r=u;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ro(i,r){for(r&=~gc,r&=~pl,i.suspendedLanes|=r,i.pingedLanes&=~r,i=i.expirationTimes;0<r;){var u=31-ke(r),m=1<<u;i[u]=-1,r&=~m}}function Jh(i){if((ze&6)!==0)throw Error(n(327));Fr();var r=Je(i,0);if((r&1)===0)return qt(i,et()),null;var u=xl(i,r);if(i.tag!==0&&u===2){var m=Tt(i);m!==0&&(r=m,u=xc(i,m))}if(u===1)throw u=js,Bo(i,0),ro(i,r),qt(i,et()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=r,zo(i,Ot,gi),qt(i,et()),null}function Tc(i,r){var u=ze;ze|=1;try{return i(r)}finally{ze=u,ze===0&&(Ur=et()+500,Ka&&Qi())}}function Vo(i){io!==null&&io.tag===0&&(ze&6)===0&&Fr();var r=ze;ze|=1;var u=pn.transition,m=Ve;try{if(pn.transition=null,Ve=1,i)return i()}finally{Ve=m,pn.transition=u,ze=r,(ze&6)===0&&Qi()}}function Cc(){nn=Dr.current,Qe(Dr)}function Bo(i,r){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,lt(u)),ut!==null)for(u=ut.return;u!==null;){var m=u;switch(Ru(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&ja();break;case 3:Rr(),Qe(zt),Qe(Et),ju();break;case 5:Ou(m);break;case 4:Rr();break;case 13:Qe(nt);break;case 19:Qe(nt);break;case 10:Vu(m.type._context);break;case 22:case 23:Cc()}u=u.return}if(mt=i,ut=i=so(i.current,null),xt=nn=r,ft=0,js=null,gc=pl=Fo=0,Ot=Ws=null,Lo!==null){for(r=0;r<Lo.length;r++)if(u=Lo[r],m=u.interleaved,m!==null){u.interleaved=null;var w=m.next,C=u.pending;if(C!==null){var k=C.next;C.next=w,m.next=k}u.pending=m}Lo=null}return i}function Zh(i,r){do{var u=ut;try{if(Fu(),il.current=al,ol){for(var m=it.memoizedState;m!==null;){var w=m.queue;w!==null&&(w.pending=null),m=m.next}ol=!1}if(Uo=0,pt=ht=it=null,Bs=!1,zs=0,mc.current=null,u===null||u.return===null){ft=1,js=r,ut=null;break}e:{var C=i,k=u.return,R=u,V=r;if(r=xt,R.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var K=V,ee=R,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var X=ee.alternate;X?(ee.updateQueue=X.updateQueue,ee.memoizedState=X.memoizedState,ee.lanes=X.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=wh(k);if(ue!==null){ue.flags&=-257,Th(ue,k,R,C,r),ue.mode&1&&xh(C,K,r),r=ue,V=K;var he=r.updateQueue;if(he===null){var fe=new Set;fe.add(V),r.updateQueue=fe}else he.add(V);break e}else{if((r&1)===0){xh(C,K,r),Sc();break e}V=Error(n(426))}}else if(Xe&&R.mode&1){var at=wh(k);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),Th(at,k,R,C,r),Du(Mr(V,R));break e}}C=V=Mr(V,R),ft!==4&&(ft=2),Ws===null?Ws=[C]:Ws.push(C),C=k;do{switch(C.tag){case 3:C.flags|=65536,r&=-r,C.lanes|=r;var O=yh(C,V,r);jd(C,O);break e;case 1:R=V;var H=C.type,q=C.stateNode;if((C.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(no===null||!no.has(q)))){C.flags|=65536,r&=-r,C.lanes|=r;var ne=_h(C,R,r);jd(C,ne);break e}}C=C.return}while(C!==null)}Xh(u)}catch(ge){r=ge,ut===u&&u!==null&&(ut=u=u.return);continue}break}while(!0)}function Yh(){var i=fl.current;return fl.current=al,i===null?al:i}function Sc(){(ft===0||ft===3||ft===2)&&(ft=4),mt===null||(Fo&268435455)===0&&(pl&268435455)===0||ro(mt,xt)}function xl(i,r){var u=ze;ze|=2;var m=Yh();(mt!==i||xt!==r)&&(gi=null,Bo(i,r));do try{Xg();break}catch(w){Zh(i,w)}while(!0);if(Fu(),ze=u,fl.current=m,ut!==null)throw Error(n(261));return mt=null,xt=0,ft}function Xg(){for(;ut!==null;)Qh(ut)}function ev(){for(;ut!==null&&!du();)Qh(ut)}function Qh(i){var r=nf(i.alternate,i,nn);i.memoizedProps=i.pendingProps,r===null?Xh(i):ut=r,mc.current=null}function Xh(i){var r=i;do{var u=r.alternate;if(i=r.return,(r.flags&32768)===0){if(u=Wg(u,r,nn),u!==null){ut=u;return}}else{if(u=Kg(u,r),u!==null){u.flags&=32767,ut=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{ft=6,ut=null;return}}if(r=r.sibling,r!==null){ut=r;return}ut=r=i}while(r!==null);ft===0&&(ft=5)}function zo(i,r,u){var m=Ve,w=pn.transition;try{pn.transition=null,Ve=1,tv(i,r,u,m)}finally{pn.transition=w,Ve=m}return null}function tv(i,r,u,m){do Fr();while(io!==null);if((ze&6)!==0)throw Error(n(327));u=i.finishedWork;var w=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var C=u.lanes|u.childLanes;if(rt(i,C),i===mt&&(ut=mt=null,xt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||gl||(gl=!0,of(er,function(){return Fr(),null})),C=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||C){C=pn.transition,pn.transition=null;var k=Ve;Ve=1;var R=ze;ze|=4,mc.current=null,Jg(i,u),Oh(u,i),an(_e),Co=!!oe,_e=oe=null,i.current=u,Zg(u),Xo(),ze=R,Ve=k,pn.transition=C}else i.current=u;if(gl&&(gl=!1,io=i,vl=w),C=i.pendingLanes,C===0&&(no=null),yo(u.stateNode),qt(i,et()),r!==null)for(m=i.onRecoverableError,u=0;u<r.length;u++)w=r[u],m(w.value,{componentStack:w.stack,digest:w.digest});if(ml)throw ml=!1,i=yc,yc=null,i;return(vl&1)!==0&&i.tag!==0&&Fr(),C=i.pendingLanes,(C&1)!==0?i===_c?Ks++:(Ks=0,_c=i):Ks=0,Qi(),null}function Fr(){if(io!==null){var i=Mi(vl),r=pn.transition,u=Ve;try{if(pn.transition=null,Ve=16>i?16:i,io===null)var m=!1;else{if(i=io,io=null,vl=0,(ze&6)!==0)throw Error(n(331));var w=ze;for(ze|=4,de=i.current;de!==null;){var C=de,k=C.child;if((de.flags&16)!==0){var R=C.deletions;if(R!==null){for(var V=0;V<R.length;V++){var K=R[V];for(de=K;de!==null;){var ee=de;switch(ee.tag){case 0:case 11:case 15:qs(8,ee,C)}var te=ee.child;if(te!==null)te.return=ee,de=te;else for(;de!==null;){ee=de;var X=ee.sibling,ue=ee.return;if(Vh(ee),ee===K){de=null;break}if(X!==null){X.return=ue,de=X;break}de=ue}}}var he=C.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var at=fe.sibling;fe.sibling=null,fe=at}while(fe!==null)}}de=C}}if((C.subtreeFlags&2064)!==0&&k!==null)k.return=C,de=k;else e:for(;de!==null;){if(C=de,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:qs(9,C,C.return)}var O=C.sibling;if(O!==null){O.return=C.return,de=O;break e}de=C.return}}var H=i.current;for(de=H;de!==null;){k=de;var q=k.child;if((k.subtreeFlags&2064)!==0&&q!==null)q.return=k,de=q;else e:for(k=H;de!==null;){if(R=de,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:hl(9,R)}}catch(ge){st(R,R.return,ge)}if(R===k){de=null;break e}var ne=R.sibling;if(ne!==null){ne.return=R.return,de=ne;break e}de=R.return}}if(ze=w,Qi(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(vo,i)}catch{}m=!0}return m}finally{Ve=u,pn.transition=r}}return!1}function ef(i,r,u){r=Mr(u,r),r=yh(i,r,1),i=eo(i,r,1),r=Dt(),i!==null&&(Kt(i,1,r),qt(i,r))}function st(i,r,u){if(i.tag===3)ef(i,i,u);else for(;r!==null;){if(r.tag===3){ef(r,i,u);break}else if(r.tag===1){var m=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(no===null||!no.has(m))){i=Mr(u,i),i=_h(r,i,1),r=eo(r,i,1),i=Dt(),r!==null&&(Kt(r,1,i),qt(r,i));break}}r=r.return}}function nv(i,r,u){var m=i.pingCache;m!==null&&m.delete(r),r=Dt(),i.pingedLanes|=i.suspendedLanes&u,mt===i&&(xt&u)===u&&(ft===4||ft===3&&(xt&130023424)===xt&&500>et()-vc?Bo(i,0):gc|=u),qt(i,r)}function tf(i,r){r===0&&((i.mode&1)===0?r=1:(r=Ai,Ai<<=1,(Ai&130023424)===0&&(Ai=4194304)));var u=Dt();i=fi(i,r),i!==null&&(Kt(i,r,u),qt(i,u))}function iv(i){var r=i.memoizedState,u=0;r!==null&&(u=r.retryLane),tf(i,u)}function ov(i,r){var u=0;switch(i.tag){case 13:var m=i.stateNode,w=i.memoizedState;w!==null&&(u=w.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(r),tf(i,u)}var nf;nf=function(i,r,u){if(i!==null)if(i.memoizedProps!==r.pendingProps||zt.current)Gt=!0;else{if((i.lanes&u)===0&&(r.flags&128)===0)return Gt=!1,jg(i,r,u);Gt=(i.flags&131072)!==0}else Gt=!1,Xe&&(r.flags&1048576)!==0&&Dd(r,Ja,r.index);switch(r.lanes=0,r.tag){case 2:var m=r.type;cl(i,r),i=r.pendingProps;var w=Er(r,Et.current);Ar(r,u),w=$u(null,r,m,i,w,u);var C=Ju();return r.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ht(m)?(C=!0,Wa(r)):C=!1,r.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Hu(r),w.updater=ll,r.stateNode=w,w._reactInternals=r,tc(r,m,i,u),r=rc(null,r,m,!0,C,u)):(r.tag=0,Xe&&C&&Au(r),Lt(null,r,w,u),r=r.child),r;case 16:m=r.elementType;e:{switch(cl(i,r),i=r.pendingProps,w=m._init,m=w(m._payload),r.type=m,w=r.tag=sv(m),i=bn(m,i),w){case 0:r=oc(null,r,m,i,u);break e;case 1:r=kh(null,r,m,i,u);break e;case 11:r=Ch(null,r,m,i,u);break e;case 14:r=Sh(null,r,m,bn(m.type,i),u);break e}throw Error(n(306,m,""))}return r;case 0:return m=r.type,w=r.pendingProps,w=r.elementType===m?w:bn(m,w),oc(i,r,m,w,u);case 1:return m=r.type,w=r.pendingProps,w=r.elementType===m?w:bn(m,w),kh(i,r,m,w,u);case 3:e:{if(Ph(r),i===null)throw Error(n(387));m=r.pendingProps,C=r.memoizedState,w=C.element,qd(i,r),tl(r,m,null,u);var k=r.memoizedState;if(m=k.element,C.isDehydrated)if(C={element:m,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},r.updateQueue.baseState=C,r.memoizedState=C,r.flags&256){w=Mr(Error(n(423)),r),r=Ih(i,r,m,u,w);break e}else if(m!==w){w=Mr(Error(n(424)),r),r=Ih(i,r,m,u,w);break e}else for(tn=qn(r.stateNode.containerInfo.firstChild),en=r,Xe=!0,Nn=null,u=Gd(r,null,m,u),r.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(kr(),m===w){r=mi(i,r,u);break e}Lt(i,r,m,u)}r=r.child}return r;case 5:return Kd(r),i===null&&Lu(r),m=r.type,w=r.pendingProps,C=i!==null?i.memoizedProps:null,k=w.children,Ae(m,w)?k=null:C!==null&&Ae(m,C)&&(r.flags|=32),bh(i,r),Lt(i,r,k,u),r.child;case 6:return i===null&&Lu(r),null;case 13:return Ah(i,r,u);case 4:return Gu(r,r.stateNode.containerInfo),m=r.pendingProps,i===null?r.child=Pr(r,null,m,u):Lt(i,r,m,u),r.child;case 11:return m=r.type,w=r.pendingProps,w=r.elementType===m?w:bn(m,w),Ch(i,r,m,w,u);case 7:return Lt(i,r,r.pendingProps,u),r.child;case 8:return Lt(i,r,r.pendingProps.children,u),r.child;case 12:return Lt(i,r,r.pendingProps.children,u),r.child;case 10:e:{if(m=r.type._context,w=r.pendingProps,C=r.memoizedProps,k=w.value,Ze(Qa,m._currentValue),m._currentValue=k,C!==null)if(Qt(C.value,k)){if(C.children===w.children&&!zt.current){r=mi(i,r,u);break e}}else for(C=r.child,C!==null&&(C.return=r);C!==null;){var R=C.dependencies;if(R!==null){k=C.child;for(var V=R.firstContext;V!==null;){if(V.context===m){if(C.tag===1){V=pi(-1,u&-u),V.tag=2;var K=C.updateQueue;if(K!==null){K=K.shared;var ee=K.pending;ee===null?V.next=V:(V.next=ee.next,ee.next=V),K.pending=V}}C.lanes|=u,V=C.alternate,V!==null&&(V.lanes|=u),Bu(C.return,u,r),R.lanes|=u;break}V=V.next}}else if(C.tag===10)k=C.type===r.type?null:C.child;else if(C.tag===18){if(k=C.return,k===null)throw Error(n(341));k.lanes|=u,R=k.alternate,R!==null&&(R.lanes|=u),Bu(k,u,r),k=C.sibling}else k=C.child;if(k!==null)k.return=C;else for(k=C;k!==null;){if(k===r){k=null;break}if(C=k.sibling,C!==null){C.return=k.return,k=C;break}k=k.return}C=k}Lt(i,r,w.children,u),r=r.child}return r;case 9:return w=r.type,m=r.pendingProps.children,Ar(r,u),w=hn(w),m=m(w),r.flags|=1,Lt(i,r,m,u),r.child;case 14:return m=r.type,w=bn(m,r.pendingProps),w=bn(m.type,w),Sh(i,r,m,w,u);case 15:return Eh(i,r,r.type,r.pendingProps,u);case 17:return m=r.type,w=r.pendingProps,w=r.elementType===m?w:bn(m,w),cl(i,r),r.tag=1,Ht(m)?(i=!0,Wa(r)):i=!1,Ar(r,u),gh(r,m,w),tc(r,m,w,u),rc(null,r,m,!0,i,u);case 19:return Mh(i,r,u);case 22:return Nh(i,r,u)}throw Error(n(156,r.tag))};function of(i,r){return xa(i,r)}function rv(i,r,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(i,r,u,m){return new rv(i,r,u,m)}function Ec(i){return i=i.prototype,!(!i||!i.isReactComponent)}function sv(i){if(typeof i=="function")return Ec(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Be)return 11;if(i===It)return 14}return 2}function so(i,r){var u=i.alternate;return u===null?(u=mn(i.tag,r,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=r,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,r=i.dependencies,u.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function wl(i,r,u,m,w,C){var k=2;if(m=i,typeof i=="function")Ec(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case ae:return Ho(u.children,w,C,r);case Pe:k=8,w|=8;break;case le:return i=mn(12,u,r,w|2),i.elementType=le,i.lanes=C,i;case Re:return i=mn(13,u,r,w),i.elementType=Re,i.lanes=C,i;case He:return i=mn(19,u,r,w),i.elementType=He,i.lanes=C,i;case Me:return Tl(u,w,C,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ce:k=10;break e;case Ie:k=9;break e;case Be:k=11;break e;case It:k=14;break e;case qe:k=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return r=mn(k,u,r,w),r.elementType=i,r.type=m,r.lanes=C,r}function Ho(i,r,u,m){return i=mn(7,i,m,r),i.lanes=u,i}function Tl(i,r,u,m){return i=mn(22,i,m,r),i.elementType=Me,i.lanes=u,i.stateNode={isHidden:!1},i}function Nc(i,r,u){return i=mn(6,i,null,r),i.lanes=u,i}function bc(i,r,u){return r=mn(4,i.children!==null?i.children:[],i.key,r),r.lanes=u,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function av(i,r,u,m,w){this.tag=r,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ri(0),this.expirationTimes=Ri(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.identifierPrefix=m,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function kc(i,r,u,m,w,C,k,R,V){return i=new av(i,r,u,R,V),r===1?(r=1,C===!0&&(r|=8)):r=0,C=mn(3,null,null,r),i.current=C,C.stateNode=i,C.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hu(C),i}function lv(i,r,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:m==null?null:""+m,children:i,containerInfo:r,implementation:u}}function rf(i){if(!i)return Yi;i=i._reactInternals;e:{if(Un(i)!==i||i.tag!==1)throw Error(n(170));var r=i;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Ht(u))return Rd(i,u,r)}return r}function sf(i,r,u,m,w,C,k,R,V){return i=kc(u,m,!0,i,w,C,k,R,V),i.context=rf(null),u=i.current,m=Dt(),w=oo(u),C=pi(m,w),C.callback=r??null,eo(u,C,w),i.current.lanes=w,Kt(i,w,m),qt(i,m),i}function Cl(i,r,u,m){var w=r.current,C=Dt(),k=oo(w);return u=rf(u),r.context===null?r.context=u:r.pendingContext=u,r=pi(C,k),r.payload={element:i},m=m===void 0?null:m,m!==null&&(r.callback=m),i=eo(w,r,k),i!==null&&(In(i,w,k,C),el(i,w,k)),k}function Sl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function af(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<r?u:r}}function Pc(i,r){af(i,r),(i=i.alternate)&&af(i,r)}function uv(){return null}var lf=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ic(i){this._internalRoot=i}El.prototype.render=Ic.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(n(409));Cl(i,r,null,null)},El.prototype.unmount=Ic.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Vo(function(){Cl(null,i,null,null)}),r[je]=null}};function El(i){this._internalRoot=i}El.prototype.unstable_scheduleHydration=function(i){if(i){var r=rr();i={blockedOn:null,target:i,priority:r};for(var u=0;u<ct.length&&r!==0&&r<ct[u].priority;u++);ct.splice(u,0,i),u===0&&sr(i)}};function Ac(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function uf(){}function cv(i,r,u,m,w){if(w){if(typeof m=="function"){var C=m;m=function(){var K=Sl(k);C.call(K)}}var k=sf(r,m,i,0,null,!1,!1,"",uf);return i._reactRootContainer=k,i[je]=k.current,Wi(i.nodeType===8?i.parentNode:i),Vo(),k}for(;w=i.lastChild;)i.removeChild(w);if(typeof m=="function"){var R=m;m=function(){var K=Sl(V);R.call(K)}}var V=kc(i,0,!1,null,null,!1,!1,"",uf);return i._reactRootContainer=V,i[je]=V.current,Wi(i.nodeType===8?i.parentNode:i),Vo(function(){Cl(r,V,u,m)}),V}function bl(i,r,u,m,w){var C=u._reactRootContainer;if(C){var k=C;if(typeof w=="function"){var R=w;w=function(){var V=Sl(k);R.call(V)}}Cl(r,k,i,w)}else k=cv(u,r,i,w,m);return Sl(k)}ir=function(i){switch(i.tag){case 3:var r=i.stateNode;if(r.current.memoizedState.isDehydrated){var u=Ne(r.pendingLanes);u!==0&&(wn(r,u|1),qt(r,et()),(ze&6)===0&&(Ur=et()+500,Qi()))}break;case 13:Vo(function(){var m=fi(i,1);if(m!==null){var w=Dt();In(m,i,1,w)}}),Pc(i,1)}},Qn=function(i){if(i.tag===13){var r=fi(i,134217728);if(r!==null){var u=Dt();In(r,i,134217728,u)}Pc(i,134217728)}},or=function(i){if(i.tag===13){var r=oo(i),u=fi(i,r);if(u!==null){var m=Dt();In(u,i,r,m)}Pc(i,r)}},rr=function(){return Ve},_o=function(i,r){var u=Ve;try{return Ve=i,r()}finally{Ve=u}},Zo=function(i,r,u){switch(r){case"input":if(co(i,u),r=u.name,u.type==="radio"&&r!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<u.length;r++){var m=u[r];if(m!==i&&m.form===i.form){var w=Cr(m);if(!w)throw Error(n(90));Si(m),co(m,w)}}}break;case"textarea":aa(i,u);break;case"select":r=u.value,r!=null&&Dn(i,!!u.multiple,r,!1)}},pa=Tc,ma=Vo;var dv={usingClientEntryPoint:!1,Events:[li,ui,Cr,ha,fa,Tc]},$s={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hv={bundleType:$s.bundleType,version:$s.version,rendererPackageName:$s.rendererPackageName,rendererConfig:$s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ya(i),i===null?null:i.stateNode},findFiberByHostInstance:$s.findFiberByHostInstance||uv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{vo=kl.inject(hv),Wt=kl}catch{}}return jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dv,jt.createPortal=function(i,r){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ac(r))throw Error(n(200));return lv(i,r,null,u)},jt.createRoot=function(i,r){if(!Ac(i))throw Error(n(299));var u=!1,m="",w=lf;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=kc(i,1,!1,null,null,u,!1,m,w),i[je]=r.current,Wi(i.nodeType===8?i.parentNode:i),new Ic(r)},jt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=ya(r),i=i===null?null:i.stateNode,i},jt.flushSync=function(i){return Vo(i)},jt.hydrate=function(i,r,u){if(!Nl(r))throw Error(n(200));return bl(null,i,r,!0,u)},jt.hydrateRoot=function(i,r,u){if(!Ac(i))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,w=!1,C="",k=lf;if(u!=null&&(u.unstable_strictMode===!0&&(w=!0),u.identifierPrefix!==void 0&&(C=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),r=sf(r,null,i,1,u??null,w,!1,C,k),i[je]=r.current,Wi(i),m)for(i=0;i<m.length;i++)u=m[i],w=u._getVersion,w=w(u._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[u,w]:r.mutableSourceEagerHydrationData.push(u,w);return new El(r)},jt.render=function(i,r,u){if(!Nl(r))throw Error(n(200));return bl(null,i,r,!1,u)},jt.unmountComponentAtNode=function(i){if(!Nl(i))throw Error(n(40));return i._reactRootContainer?(Vo(function(){bl(null,null,i,!1,function(){i._reactRootContainer=null,i[je]=null})}),!0):!1},jt.unstable_batchedUpdates=Tc,jt.unstable_renderSubtreeIntoContainer=function(i,r,u,m){if(!Nl(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return bl(i,r,u,!1,m)},jt.version="18.3.1-next-f1338f8080-20240426",jt}var vf;function sm(){if(vf)return Lc.exports;vf=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lc.exports=_v(),Lc.exports}var yf;function xv(){if(yf)return Pl;yf=1;var t=sm();return Pl.createRoot=t.createRoot,Pl.hydrateRoot=t.hydrateRoot,Pl}var wv=xv();const Tv=dd(wv);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _f="popstate";function Cv(t={}){function e(a,d){let{pathname:f="/",search:g="",hash:v=""}=qo(a.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Oc("",{pathname:f,search:g,hash:v},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function n(a,d){let f=a.document.querySelector("base"),g="";if(f&&f.getAttribute("href")){let v=a.location.href,y=v.indexOf("#");g=y===-1?v:v.slice(0,y)}return g+"#"+(typeof d=="string"?d:na(d))}function s(a,d){vn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(d)})`)}return Ev(e,n,s,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sv(){return Math.random().toString(36).substring(2,10)}function xf(t,e){return{usr:t.state,key:t.key,idx:e}}function Oc(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?qo(e):e,state:n,key:e&&e.key||s||Sv()}}function na({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function Ev(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:d=!1}=s,f=a.history,g="POP",v=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function E(){g="POP";let M=T(),j=M==null?null:M-y;y=M,v&&v({action:g,location:A.location,delta:j})}function N(M,j){g="PUSH";let B=Oc(A.location,M,j);n&&n(B,M),y=T()+1;let F=xf(B,y),Y=A.createHref(B);try{f.pushState(F,"",Y)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;a.location.assign(Y)}d&&v&&v({action:g,location:A.location,delta:1})}function b(M,j){g="REPLACE";let B=Oc(A.location,M,j);n&&n(B,M),y=T();let F=xf(B,y),Y=A.createHref(B);f.replaceState(F,"",Y),d&&v&&v({action:g,location:A.location,delta:0})}function I(M){return Nv(M)}let A={get action(){return g},get location(){return t(a,f)},listen(M){if(v)throw new Error("A history only accepts one active listener");return a.addEventListener(_f,E),v=M,()=>{a.removeEventListener(_f,E),v=null}},createHref(M){return e(a,M)},createURL:I,encodeLocation(M){let j=I(M);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:N,replace:b,go(M){return f.go(M)}};return A}function Nv(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:na(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function am(t,e,n="/"){return bv(t,e,n,!1)}function bv(t,e,n,s){let a=typeof e=="string"?qo(e):e,d=yi(a.pathname||"/",n);if(d==null)return null;let f=lm(t);kv(f);let g=null;for(let v=0;g==null&&v<f.length;++v){let y=Bv(d);g=Fv(f[v],y,s)}return g}function lm(t,e=[],n=[],s="",a=!1){let d=(f,g,v=a,y)=>{let T={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&v)return;ot(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let E=vi([s,T.relativePath]),N=n.concat(T);f.children&&f.children.length>0&&(ot(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),lm(f.children,e,N,E,v)),!(f.path==null&&!f.index)&&e.push({path:E,score:Dv(E,f.index),routesMeta:N})};return t.forEach((f,g)=>{var v;if(f.path===""||!((v=f.path)!=null&&v.includes("?")))d(f,g);else for(let y of um(f.path))d(f,g,!0,y)}),e}function um(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),d=n.replace(/\?$/,"");if(s.length===0)return a?[d,""]:[d];let f=um(s.join("/")),g=[];return g.push(...f.map(v=>v===""?d:[d,v].join("/"))),a&&g.push(...f),g.map(v=>t.startsWith("/")&&v===""?"/":v)}function kv(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Uv(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Pv=/^:[\w-]+$/,Iv=3,Av=2,Rv=1,Mv=10,Lv=-2,wf=t=>t==="*";function Dv(t,e){let n=t.split("/"),s=n.length;return n.some(wf)&&(s+=Lv),e&&(s+=Av),n.filter(a=>!wf(a)).reduce((a,d)=>a+(Pv.test(d)?Iv:d===""?Rv:Mv),s)}function Uv(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function Fv(t,e,n=!1){let{routesMeta:s}=t,a={},d="/",f=[];for(let g=0;g<s.length;++g){let v=s[g],y=g===s.length-1,T=d==="/"?e:e.slice(d.length)||"/",E=Hl({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},T),N=v.route;if(!E&&y&&n&&!s[s.length-1].route.index&&(E=Hl({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},T)),!E)return null;Object.assign(a,E.params),f.push({params:a,pathname:vi([d,E.pathname]),pathnameBase:Ov(vi([d,E.pathnameBase])),route:N}),E.pathnameBase!=="/"&&(d=vi([d,E.pathnameBase]))}return f}function Hl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=Vv(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let d=a[0],f=d.replace(/(.)\/+$/,"$1"),g=a.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:E},N)=>{if(T==="*"){let I=g[N]||"";f=d.slice(0,d.length-I.length).replace(/(.)\/+$/,"$1")}const b=g[N];return E&&!b?y[T]=void 0:y[T]=(b||"").replace(/%2F/g,"/"),y},{}),pathname:d,pathnameBase:f,pattern:t}}function Vv(t,e=!1,n=!0){vn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,v)=>(s.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Bv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var zv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Hv(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?qo(t):t,d;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?d=Tf(n.substring(1),"/"):d=Tf(n,e)):d=e,{pathname:d,search:qv(s),hash:jv(a)}}function Tf(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Fc(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cm(t){let e=Gv(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function dm(t,e,n,s=!1){let a;typeof t=="string"?a=qo(t):(a={...t},ot(!a.pathname||!a.pathname.includes("?"),Fc("?","pathname","search",a)),ot(!a.pathname||!a.pathname.includes("#"),Fc("#","pathname","hash",a)),ot(!a.search||!a.search.includes("#"),Fc("#","search","hash",a)));let d=t===""||a.pathname==="",f=d?"/":a.pathname,g;if(f==null)g=n;else{let E=e.length-1;if(!s&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),E-=1;a.pathname=N.join("/")}g=E>=0?e[E]:"/"}let v=Hv(a,g),y=f&&f!=="/"&&f.endsWith("/"),T=(d||f===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(y||T)&&(v.pathname+="/"),v}var vi=t=>t.join("/").replace(/\/\/+/g,"/"),Ov=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Wv=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Kv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function $v(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fm(t,e){let n=t;if(typeof n!="string"||!zv.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(hm)try{let d=new URL(window.location.href),f=n.startsWith("//")?new URL(d.protocol+n):new URL(n),g=yi(f.pathname,e);f.origin===d.origin&&g!=null?n=g+f.search+f.hash:a=!0}catch{vn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pm=["POST","PUT","PATCH","DELETE"];new Set(pm);var Jv=["GET",...pm];new Set(Jv);var qr=D.createContext(null);qr.displayName="DataRouter";var Jl=D.createContext(null);Jl.displayName="DataRouterState";var Zv=D.createContext(!1),mm=D.createContext({isTransitioning:!1});mm.displayName="ViewTransition";var Yv=D.createContext(new Map);Yv.displayName="Fetchers";var Qv=D.createContext(null);Qv.displayName="Await";var _n=D.createContext(null);_n.displayName="Navigation";var oa=D.createContext(null);oa.displayName="Location";var xi=D.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var fd=D.createContext(null);fd.displayName="RouteError";var gm="REACT_ROUTER_ERROR",Xv="REDIRECT",e0="ROUTE_ERROR_RESPONSE";function t0(t){if(t.startsWith(`${gm}:${Xv}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function n0(t){if(t.startsWith(`${gm}:${e0}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Wv(e.status,e.statusText,e.data)}catch{}}function i0(t,{relative:e}={}){ot(ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(_n),{hash:a,pathname:d,search:f}=sa(t,{relative:e}),g=d;return n!=="/"&&(g=d==="/"?n:vi([n,d])),s.createHref({pathname:g,search:f,hash:a})}function ra(){return D.useContext(oa)!=null}function Mn(){return ot(ra(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(oa).location}var vm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ym(t){D.useContext(_n).static||D.useLayoutEffect(t)}function pd(){let{isDataRoute:t}=D.useContext(xi);return t?g0():o0()}function o0(){ot(ra(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(qr),{basename:e,navigator:n}=D.useContext(_n),{matches:s}=D.useContext(xi),{pathname:a}=Mn(),d=JSON.stringify(cm(s)),f=D.useRef(!1);return ym(()=>{f.current=!0}),D.useCallback((v,y={})=>{if(vn(f.current,vm),!f.current)return;if(typeof v=="number"){n.go(v);return}let T=dm(v,JSON.parse(d),a,y.relative==="path");t==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:vi([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,d,a,t])}D.createContext(null);function sa(t,{relative:e}={}){let{matches:n}=D.useContext(xi),{pathname:s}=Mn(),a=JSON.stringify(cm(n));return D.useMemo(()=>dm(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function r0(t,e){return _m(t,e)}function _m(t,e,n,s,a){var B;ot(ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=D.useContext(_n),{matches:f}=D.useContext(xi),g=f[f.length-1],v=g?g.params:{},y=g?g.pathname:"/",T=g?g.pathnameBase:"/",E=g&&g.route;{let F=E&&E.path||"";wm(y,!E||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let N=Mn(),b;if(e){let F=typeof e=="string"?qo(e):e;ot(T==="/"||((B=F.pathname)==null?void 0:B.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${F.pathname}" was given in the \`location\` prop.`),b=F}else b=N;let I=b.pathname||"/",A=I;if(T!=="/"){let F=T.replace(/^\//,"").split("/");A="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let M=am(t,{pathname:A});vn(E||M!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),vn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=c0(M&&M.map(F=>Object.assign({},F,{params:Object.assign({},v,F.params),pathname:vi([T,d.encodeLocation?d.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?T:vi([T,d.encodeLocation?d.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),f,n,s,a);return e&&j?D.createElement(oa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},j):j}function s0(){let t=m0(),e=Kv(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},d={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",t),f=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:d},"ErrorBoundary")," or"," ",D.createElement("code",{style:d},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,f)}var a0=D.createElement(s0,null),xm=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=n0(t.digest);n&&(t=n)}let e=t!==void 0?D.createElement(xi.Provider,{value:this.props.routeContext},D.createElement(fd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?D.createElement(l0,{error:t},e):e}};xm.contextType=Zv;var Vc=new WeakMap;function l0({children:t,error:e}){let{basename:n}=D.useContext(_n);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=t0(e.digest);if(s){let a=Vc.get(e);if(a)throw a;let d=fm(s.location,n);if(hm&&!Vc.get(e))if(d.isExternal||s.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:s.replace}));throw Vc.set(e,f),f}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return t}function u0({routeContext:t,match:e,children:n}){let s=D.useContext(qr);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(xi.Provider,{value:t},n)}function c0(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let d=t,f=n==null?void 0:n.errors;if(f!=null){let T=d.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);ot(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),d=d.slice(0,Math.min(d.length,T+1))}let g=!1,v=-1;if(n)for(let T=0;T<d.length;T++){let E=d[T];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(v=T),E.route.id){let{loaderData:N,errors:b}=n,I=E.route.loader&&!N.hasOwnProperty(E.route.id)&&(!b||b[E.route.id]===void 0);if(E.route.lazy||I){g=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}let y=n&&s?(T,E)=>{var N,b;s(T,{location:n.location,params:((b=(N=n.matches)==null?void 0:N[0])==null?void 0:b.params)??{},unstable_pattern:$v(n.matches),errorInfo:E})}:void 0;return d.reduceRight((T,E,N)=>{let b,I=!1,A=null,M=null;n&&(b=f&&E.route.id?f[E.route.id]:void 0,A=E.route.errorElement||a0,g&&(v<0&&N===0?(wm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):v===N&&(I=!0,M=E.route.hydrateFallbackElement||null)));let j=e.concat(d.slice(0,N+1)),B=()=>{let F;return b?F=A:I?F=M:E.route.Component?F=D.createElement(E.route.Component,null):E.route.element?F=E.route.element:F=T,D.createElement(u0,{match:E,routeContext:{outlet:T,matches:j,isDataRoute:n!=null},children:F})};return n&&(E.route.ErrorBoundary||E.route.errorElement||N===0)?D.createElement(xm,{location:n.location,revalidation:n.revalidation,component:A,error:b,children:B(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:y}):B()},null)}function md(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d0(t){let e=D.useContext(qr);return ot(e,md(t)),e}function h0(t){let e=D.useContext(Jl);return ot(e,md(t)),e}function f0(t){let e=D.useContext(xi);return ot(e,md(t)),e}function gd(t){let e=f0(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function p0(){return gd("useRouteId")}function m0(){var s;let t=D.useContext(fd),e=h0("useRouteError"),n=gd("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function g0(){let{router:t}=d0("useNavigate"),e=gd("useNavigate"),n=D.useRef(!1);return ym(()=>{n.current=!0}),D.useCallback(async(a,d={})=>{vn(n.current,vm),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...d}))},[t,e])}var Cf={};function wm(t,e,n){!e&&!Cf[t]&&(Cf[t]=!0,vn(!1,n))}D.memo(v0);function v0({routes:t,future:e,state:n,onError:s}){return _m(t,void 0,n,s,e)}function Vr(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y0({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:d=!1,unstable_useTransitions:f}){ot(!ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=t.replace(/^\/*/,"/"),v=D.useMemo(()=>({basename:g,navigator:a,static:d,unstable_useTransitions:f,future:{}}),[g,a,d,f]);typeof n=="string"&&(n=qo(n));let{pathname:y="/",search:T="",hash:E="",state:N=null,key:b="default"}=n,I=D.useMemo(()=>{let A=yi(y,g);return A==null?null:{location:{pathname:A,search:T,hash:E,state:N,key:b},navigationType:s}},[g,y,T,E,N,b,s]);return vn(I!=null,`<Router basename="${g}"> is not able to match the URL "${y}${T}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:D.createElement(_n.Provider,{value:v},D.createElement(oa.Provider,{children:e,value:I}))}function _0({children:t,location:e}){return r0(qc(t),e)}function qc(t,e=[]){let n=[];return D.Children.forEach(t,(s,a)=>{if(!D.isValidElement(s))return;let d=[...e,a];if(s.type===D.Fragment){n.push.apply(n,qc(s.props.children,d));return}ot(s.type===Vr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||d.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=qc(s.props.children,d)),n.push(f)}),n}var Fl="get",Vl="application/x-www-form-urlencoded";function Zl(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function x0(t){return Zl(t)&&t.tagName.toLowerCase()==="button"}function w0(t){return Zl(t)&&t.tagName.toLowerCase()==="form"}function T0(t){return Zl(t)&&t.tagName.toLowerCase()==="input"}function C0(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function S0(t,e){return t.button===0&&(!e||e==="_self")&&!C0(t)}function jc(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function E0(t,e){let n=jc(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(d=>{n.append(a,d)})}),n}var Il=null;function N0(){if(Il===null)try{new FormData(document.createElement("form"),0),Il=!1}catch{Il=!0}return Il}var b0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bc(t){return t!=null&&!b0.has(t)?(vn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vl}"`),null):t}function k0(t,e){let n,s,a,d,f;if(w0(t)){let g=t.getAttribute("action");s=g?yi(g,e):null,n=t.getAttribute("method")||Fl,a=Bc(t.getAttribute("enctype"))||Vl,d=new FormData(t)}else if(x0(t)||T0(t)&&(t.type==="submit"||t.type==="image")){let g=t.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=t.getAttribute("formaction")||g.getAttribute("action");if(s=v?yi(v,e):null,n=t.getAttribute("formmethod")||g.getAttribute("method")||Fl,a=Bc(t.getAttribute("formenctype"))||Bc(g.getAttribute("enctype"))||Vl,d=new FormData(g,t),!N0()){let{name:y,type:T,value:E}=t;if(T==="image"){let N=y?`${y}.`:"";d.append(`${N}x`,"0"),d.append(`${N}y`,"0")}else y&&d.append(y,E)}}else{if(Zl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fl,s=null,a=Vl,f=t}return d&&a==="text/plain"&&(f=d,d=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function P0(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&yi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function I0(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A0(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function R0(t,e,n){let s=await Promise.all(t.map(async a=>{let d=e.routes[a.route.id];if(d){let f=await I0(d,n);return f.links?f.links():[]}return[]}));return U0(s.flat(1).filter(A0).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Sf(t,e,n,s,a,d){let f=(v,y)=>n[y]?v.route.id!==n[y].route.id:!0,g=(v,y)=>{var T;return n[y].pathname!==v.pathname||((T=n[y].route.path)==null?void 0:T.endsWith("*"))&&n[y].params["*"]!==v.params["*"]};return d==="assets"?e.filter((v,y)=>f(v,y)||g(v,y)):d==="data"?e.filter((v,y)=>{var E;let T=s.routes[v.route.id];if(!T||!T.hasLoader)return!1;if(f(v,y)||g(v,y))return!0;if(v.route.shouldRevalidate){let N=v.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(t,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function M0(t,e,{includeHydrateFallback:n}={}){return L0(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let d=[a.module];return a.clientActionModule&&(d=d.concat(a.clientActionModule)),a.clientLoaderModule&&(d=d.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(d=d.concat(a.hydrateFallbackModule)),a.imports&&(d=d.concat(a.imports)),d}).flat(1))}function L0(t){return[...new Set(t)]}function D0(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function U0(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let d=JSON.stringify(D0(a));return n.has(d)||(n.add(d),s.push({key:d,link:a})),s},[])}function Tm(){let t=D.useContext(qr);return vd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function F0(){let t=D.useContext(Jl);return vd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yd=D.createContext(void 0);yd.displayName="FrameworkContext";function Cm(){let t=D.useContext(yd);return vd(t,"You must render this element inside a <HydratedRouter> element"),t}function V0(t,e){let n=D.useContext(yd),[s,a]=D.useState(!1),[d,f]=D.useState(!1),{onFocus:g,onBlur:v,onMouseEnter:y,onMouseLeave:T,onTouchStart:E}=e,N=D.useRef(null);D.useEffect(()=>{if(t==="render"&&f(!0),t==="viewport"){let A=j=>{j.forEach(B=>{f(B.isIntersecting)})},M=new IntersectionObserver(A,{threshold:.5});return N.current&&M.observe(N.current),()=>{M.disconnect()}}},[t]),D.useEffect(()=>{if(s){let A=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(A)}}},[s]);let b=()=>{a(!0)},I=()=>{a(!1),f(!1)};return n?t!=="intent"?[d,N,{}]:[d,N,{onFocus:Zs(g,b),onBlur:Zs(v,I),onMouseEnter:Zs(y,b),onMouseLeave:Zs(T,I),onTouchStart:Zs(E,b)}]:[!1,N,{}]}function Zs(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function B0({page:t,...e}){let{router:n}=Tm(),s=D.useMemo(()=>am(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?D.createElement(H0,{page:t,matches:s,...e}):null}function z0(t){let{manifest:e,routeModules:n}=Cm(),[s,a]=D.useState([]);return D.useEffect(()=>{let d=!1;return R0(t,e,n).then(f=>{d||a(f)}),()=>{d=!0}},[t,e,n]),s}function H0({page:t,matches:e,...n}){let s=Mn(),{future:a,manifest:d,routeModules:f}=Cm(),{basename:g}=Tm(),{loaderData:v,matches:y}=F0(),T=D.useMemo(()=>Sf(t,e,y,d,s,"data"),[t,e,y,d,s]),E=D.useMemo(()=>Sf(t,e,y,d,s,"assets"),[t,e,y,d,s]),N=D.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let A=new Set,M=!1;if(e.forEach(B=>{var Y;let F=d.routes[B.route.id];!F||!F.hasLoader||(!T.some(ie=>ie.route.id===B.route.id)&&B.route.id in v&&((Y=f[B.route.id])!=null&&Y.shouldRevalidate)||F.hasClientLoader?M=!0:A.add(B.route.id))}),A.size===0)return[];let j=P0(t,g,a.unstable_trailingSlashAwareDataRequests,"data");return M&&A.size>0&&j.searchParams.set("_routes",e.filter(B=>A.has(B.route.id)).map(B=>B.route.id).join(",")),[j.pathname+j.search]},[g,a.unstable_trailingSlashAwareDataRequests,v,s,d,T,e,t,f]),b=D.useMemo(()=>M0(E,d),[E,d]),I=z0(E);return D.createElement(D.Fragment,null,N.map(A=>D.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),b.map(A=>D.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),I.map(({key:A,link:M})=>D.createElement("link",{key:A,nonce:n.nonce,...M,crossOrigin:M.crossOrigin??n.crossOrigin})))}function G0(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var O0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O0&&(window.__reactRouterVersion="7.13.0")}catch{}function q0({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=D.useRef();a.current==null&&(a.current=Cv({window:s,v5Compat:!0}));let d=a.current,[f,g]=D.useState({action:d.action,location:d.location}),v=D.useCallback(y=>{n===!1?g(y):D.startTransition(()=>g(y))},[n]);return D.useLayoutEffect(()=>d.listen(v),[d,v]),D.createElement(y0,{basename:t,children:e,location:f.location,navigationType:f.action,navigator:d,unstable_useTransitions:n})}var Sm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ta=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:d,replace:f,state:g,target:v,to:y,preventScrollReset:T,viewTransition:E,unstable_defaultShouldRevalidate:N,...b},I){let{basename:A,unstable_useTransitions:M}=D.useContext(_n),j=typeof y=="string"&&Sm.test(y),B=fm(y,A);y=B.to;let F=i0(y,{relative:a}),[Y,ie,se]=V0(s,b),ae=$0(y,{replace:f,state:g,target:v,preventScrollReset:T,relative:a,viewTransition:E,unstable_defaultShouldRevalidate:N,unstable_useTransitions:M});function Pe(Ce){e&&e(Ce),Ce.defaultPrevented||ae(Ce)}let le=D.createElement("a",{...b,...se,href:B.absoluteURL||F,onClick:B.isExternal||d?e:Pe,ref:G0(I,ie),target:v,"data-discover":!j&&n==="render"?"true":void 0});return Y&&!j?D.createElement(D.Fragment,null,le,D.createElement(B0,{page:F})):le});ta.displayName="Link";var j0=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:d,to:f,viewTransition:g,children:v,...y},T){let E=sa(f,{relative:y.relative}),N=Mn(),b=D.useContext(Jl),{navigator:I,basename:A}=D.useContext(_n),M=b!=null&&ey(E)&&g===!0,j=I.encodeLocation?I.encodeLocation(E).pathname:E.pathname,B=N.pathname,F=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&A&&(F=yi(F,A)||F);const Y=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ie=B===j||!a&&B.startsWith(j)&&B.charAt(Y)==="/",se=F!=null&&(F===j||!a&&F.startsWith(j)&&F.charAt(j.length)==="/"),ae={isActive:ie,isPending:se,isTransitioning:M},Pe=ie?e:void 0,le;typeof s=="function"?le=s(ae):le=[s,ie?"active":null,se?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let Ce=typeof d=="function"?d(ae):d;return D.createElement(ta,{...y,"aria-current":Pe,className:le,ref:T,style:Ce,to:f,viewTransition:g},typeof v=="function"?v(ae):v)});j0.displayName="NavLink";var W0=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:d,method:f=Fl,action:g,onSubmit:v,relative:y,preventScrollReset:T,viewTransition:E,unstable_defaultShouldRevalidate:N,...b},I)=>{let{unstable_useTransitions:A}=D.useContext(_n),M=Q0(),j=X0(g,{relative:y}),B=f.toLowerCase()==="get"?"get":"post",F=typeof g=="string"&&Sm.test(g),Y=ie=>{if(v&&v(ie),ie.defaultPrevented)return;ie.preventDefault();let se=ie.nativeEvent.submitter,ae=(se==null?void 0:se.getAttribute("formmethod"))||f,Pe=()=>M(se||ie.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:a,state:d,relative:y,preventScrollReset:T,viewTransition:E,unstable_defaultShouldRevalidate:N});A&&n!==!1?D.startTransition(()=>Pe()):Pe()};return D.createElement("form",{ref:I,method:B,action:j,onSubmit:s?v:Y,...b,"data-discover":!F&&t==="render"?"true":void 0})});W0.displayName="Form";function K0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Em(t){let e=D.useContext(qr);return ot(e,K0(t)),e}function $0(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:d,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:v}={}){let y=pd(),T=Mn(),E=sa(t,{relative:d});return D.useCallback(N=>{if(S0(N,e)){N.preventDefault();let b=n!==void 0?n:na(T)===na(E),I=()=>y(t,{replace:b,state:s,preventScrollReset:a,relative:d,viewTransition:f,unstable_defaultShouldRevalidate:g});v?D.startTransition(()=>I()):I()}},[T,y,E,n,s,e,t,a,d,f,g,v])}function J0(t){vn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(jc(t)),n=D.useRef(!1),s=Mn(),a=D.useMemo(()=>E0(s.search,n.current?null:e.current),[s.search]),d=pd(),f=D.useCallback((g,v)=>{const y=jc(typeof g=="function"?g(new URLSearchParams(a)):g);n.current=!0,d("?"+y,v)},[d,a]);return[a,f]}var Z0=0,Y0=()=>`__${String(++Z0)}__`;function Q0(){let{router:t}=Em("useSubmit"),{basename:e}=D.useContext(_n),n=p0(),s=t.fetch,a=t.navigate;return D.useCallback(async(d,f={})=>{let{action:g,method:v,encType:y,formData:T,body:E}=k0(d,e);if(f.navigate===!1){let N=f.fetcherKey||Y0();await s(N,n,f.action||g,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:E,formMethod:f.method||v,formEncType:f.encType||y,flushSync:f.flushSync})}else await a(f.action||g,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:E,formMethod:f.method||v,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,a,e,n])}function X0(t,{relative:e}={}){let{basename:n}=D.useContext(_n),s=D.useContext(xi);ot(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),d={...sa(t||".",{relative:e})},f=Mn();if(t==null){d.search=f.search;let g=new URLSearchParams(d.search),v=g.getAll("index");if(v.some(T=>T==="")){g.delete("index"),v.filter(E=>E).forEach(E=>g.append("index",E));let T=g.toString();d.search=T?`?${T}`:""}}return(!t||t===".")&&a.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(d.pathname=d.pathname==="/"?n:vi([n,d.pathname])),na(d)}function ey(t,{relative:e}={}){let n=D.useContext(mm);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Em("useViewTransitionState"),a=sa(t,{relative:e});if(!n.isTransitioning)return!1;let d=yi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=yi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Hl(a.pathname,f)!=null||Hl(a.pathname,d)!=null}var Yl=sm();const Nm=D.createContext(void 0),ty=({children:t})=>{const[e,n]=D.useState(()=>{try{const N=localStorage.getItem("sacnoi_cart");return N?JSON.parse(N):[]}catch{return[]}}),[s,a]=D.useState(!1);D.useEffect(()=>{localStorage.setItem("sacnoi_cart",JSON.stringify(e))},[e]);const d=N=>{n(b=>b.find(A=>A.id===N.id)?b.map(A=>A.id===N.id?{...A,quantity:A.quantity+1}:A):[...b,{...N,quantity:1}])},f=N=>{n(b=>b.filter(I=>I.id!==N))},g=(N,b)=>{n(I=>I.map(A=>{if(A.id===N){const M=Math.max(1,A.quantity+b);return{...A,quantity:M}}return A}))},v=()=>n([]),y=()=>a(!s),T=e.reduce((N,b)=>{const I=b.price.split(" ")[0].replace(/\./g,"").replace(/,/g,""),A=parseInt(I)||0;return N+A*b.quantity},0),E=e.reduce((N,b)=>N+b.quantity,0);return _.jsx(Nm.Provider,{value:{cart:e,isCartOpen:s,addToCart:d,removeFromCart:f,updateQuantity:g,clearCart:v,toggleCart:y,totalPrice:T,totalItems:E},children:t})},_d=()=>{const t=D.useContext(Nm);if(!t)throw new Error("useCart must be used within a CartProvider");return t};var ny={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iy,oy;function ry(){return{geminiUrl:iy,vertexUrl:oy}}function sy(t,e,n,s){var a,d;if(!(t!=null&&t.baseUrl)){const f=ry();return e?(a=f.vertexUrl)!==null&&a!==void 0?a:n:(d=f.geminiUrl)!==null&&d!==void 0?d:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wi{}function re(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(s,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const d=e[a];return d!=null?String(d):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function h(t,e,n){for(let d=0;d<e.length-1;d++){const f=e[d];if(f.endsWith("[]")){const g=f.slice(0,-2);if(!(g in t))if(Array.isArray(n))t[g]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(t[g])){const v=t[g];if(Array.isArray(n))for(let y=0;y<v.length;y++){const T=v[y];h(T,e.slice(d+1),n[y])}else for(const y of v)h(y,e.slice(d+1),n)}return}else if(f.endsWith("[0]")){const g=f.slice(0,-3);g in t||(t[g]=[{}]);const v=t[g];h(v[0],e.slice(d+1),n);return}(!t[f]||typeof t[f]!="object")&&(t[f]={}),t=t[f]}const s=e[e.length-1],a=t[s];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[s]=n}function c(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return n;const a=e[s];if(a.endsWith("[]")){const d=a.slice(0,-2);if(d in t){const f=t[d];return Array.isArray(f)?f.map(g=>c(g,e.slice(s+1),n)):n}else return n}else t=t[a]}return t}catch(s){if(s instanceof TypeError)return n;throw s}}function ay(t,e){for(const[n,s]of Object.entries(e)){const a=n.split("."),d=s.split("."),f=new Set;let g=-1;for(let v=0;v<a.length;v++)if(a[v]==="*"){g=v;break}if(g!==-1&&d.length>g)for(let v=g;v<d.length;v++){const y=d[v];y!=="*"&&!y.endsWith("[]")&&!y.endsWith("[0]")&&f.add(y)}Wc(t,a,d,0,f)}}function Wc(t,e,n,s,a){if(s>=e.length||typeof t!="object"||t===null)return;const d=e[s];if(d.endsWith("[]")){const f=d.slice(0,-2),g=t;if(f in g&&Array.isArray(g[f]))for(const v of g[f])Wc(v,e,n,s+1,a)}else if(d==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const f=t,g=Object.keys(f).filter(y=>!y.startsWith("_")&&!a.has(y)),v={};for(const y of g)v[y]=f[y];for(const[y,T]of Object.entries(v)){const E=[];for(const N of n.slice(s))N==="*"?E.push(y):E.push(N);h(f,E,T)}for(const y of g)delete f[y]}}else{const f=t;d in f&&Wc(f[d],e,n,s+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ly(t){const e={},n=c(t,["operationName"]);n!=null&&h(e,["operationName"],n);const s=c(t,["resourceName"]);return s!=null&&h(e,["_url","resourceName"],s),e}function uy(t){const e={},n=c(t,["name"]);n!=null&&h(e,["name"],n);const s=c(t,["metadata"]);s!=null&&h(e,["metadata"],s);const a=c(t,["done"]);a!=null&&h(e,["done"],a);const d=c(t,["error"]);d!=null&&h(e,["error"],d);const f=c(t,["response","generateVideoResponse"]);return f!=null&&h(e,["response"],dy(f)),e}function cy(t){const e={},n=c(t,["name"]);n!=null&&h(e,["name"],n);const s=c(t,["metadata"]);s!=null&&h(e,["metadata"],s);const a=c(t,["done"]);a!=null&&h(e,["done"],a);const d=c(t,["error"]);d!=null&&h(e,["error"],d);const f=c(t,["response"]);return f!=null&&h(e,["response"],hy(f)),e}function dy(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>fy(f))),h(e,["generatedVideos"],d)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function hy(t){const e={},n=c(t,["videos"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>py(f))),h(e,["generatedVideos"],d)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function fy(t){const e={},n=c(t,["video"]);return n!=null&&h(e,["video"],xy(n)),e}function py(t){const e={},n=c(t,["_self"]);return n!=null&&h(e,["video"],wy(n)),e}function my(t){const e={},n=c(t,["operationName"]);return n!=null&&h(e,["_url","operationName"],n),e}function gy(t){const e={},n=c(t,["operationName"]);return n!=null&&h(e,["_url","operationName"],n),e}function vy(t){const e={},n=c(t,["name"]);n!=null&&h(e,["name"],n);const s=c(t,["metadata"]);s!=null&&h(e,["metadata"],s);const a=c(t,["done"]);a!=null&&h(e,["done"],a);const d=c(t,["error"]);d!=null&&h(e,["error"],d);const f=c(t,["response"]);return f!=null&&h(e,["response"],yy(f)),e}function yy(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["parent"]);s!=null&&h(e,["parent"],s);const a=c(t,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function bm(t){const e={},n=c(t,["name"]);n!=null&&h(e,["name"],n);const s=c(t,["metadata"]);s!=null&&h(e,["metadata"],s);const a=c(t,["done"]);a!=null&&h(e,["done"],a);const d=c(t,["error"]);d!=null&&h(e,["error"],d);const f=c(t,["response"]);return f!=null&&h(e,["response"],_y(f)),e}function _y(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["parent"]);s!=null&&h(e,["parent"],s);const a=c(t,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function xy(t){const e={},n=c(t,["uri"]);n!=null&&h(e,["uri"],n);const s=c(t,["encodedVideo"]);s!=null&&h(e,["videoBytes"],xd(s));const a=c(t,["encoding"]);return a!=null&&h(e,["mimeType"],a),e}function wy(t){const e={},n=c(t,["gcsUri"]);n!=null&&h(e,["uri"],n);const s=c(t,["bytesBase64Encoded"]);s!=null&&h(e,["videoBytes"],xd(s));const a=c(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ef;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ef||(Ef={}));var Nf;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Nf||(Nf={}));var bf;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(bf||(bf={}));var lo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(lo||(lo={}));var kf;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(kf||(kf={}));var Pf;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Pf||(Pf={}));var If;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(If||(If={}));var Af;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Af||(Af={}));var Rf;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Rf||(Rf={}));var Mf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Mf||(Mf={}));var Lf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Lf||(Lf={}));var Df;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Df||(Df={}));var Uf;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Uf||(Uf={}));var Ff;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Ff||(Ff={}));var Vf;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Vf||(Vf={}));var Bf;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Bf||(Bf={}));var zf;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(zf||(zf={}));var Hf;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Hf||(Hf={}));var Gf;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Gf||(Gf={}));var Of;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Of||(Of={}));var qf;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(qf||(qf={}));var Gl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Gl||(Gl={}));var jf;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jf||(jf={}));var Wf;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Wf||(Wf={}));var Kf;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Kf||(Kf={}));var Kc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Kc||(Kc={}));var $f;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})($f||($f={}));var Jf;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Jf||(Jf={}));var $c;(function(t){t.COLLECTION="COLLECTION"})($c||($c={}));var Zf;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Zf||(Zf={}));var Yf;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Yf||(Yf={}));var Qf;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Qf||(Qf={}));var Xf;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Xf||(Xf={}));var ep;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ep||(ep={}));var tp;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(tp||(tp={}));var np;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(np||(np={}));var ip;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ip||(ip={}));var op;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(op||(op={}));var rp;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(rp||(rp={}));var sp;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(sp||(sp={}));var ap;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(ap||(ap={}));var lp;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(lp||(lp={}));var up;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(up||(up={}));var cp;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(cp||(cp={}));var dp;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(dp||(dp={}));var hp;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(hp||(hp={}));var fp;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(fp||(fp={}));var pp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(pp||(pp={}));var mp;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(mp||(mp={}));var gp;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(gp||(gp={}));var vp;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vp||(vp={}));var yp;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yp||(yp={}));var _p;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(_p||(_p={}));var xp;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xp||(xp={}));var wp;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wp||(wp={}));var Tp;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Tp||(Tp={}));var zr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(zr||(zr={}));class Jc{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ys{get text(){var e,n,s,a,d,f,g,v;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let y="",T=!1;const E=[];for(const N of(v=(g=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[b,I]of Object.entries(N))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(I!==null||I!==void 0)&&E.push(b);if(typeof N.text=="string"){if(typeof N.thought=="boolean"&&N.thought)continue;T=!0,y+=N.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),T?y:void 0}get data(){var e,n,s,a,d,f,g,v;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let y="";const T=[];for(const E of(v=(g=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[N,b]of Object.entries(E))N!=="inlineData"&&(b!==null||b!==void 0)&&T.push(N);E.inlineData&&typeof E.inlineData.data=="string"&&(y+=atob(E.inlineData.data))}return T.length>0&&console.warn(`there are non-data parts ${T} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),y.length>0?btoa(y):void 0}get functionCalls(){var e,n,s,a,d,f,g,v;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const y=(v=(g=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(T=>T.functionCall).map(T=>T.functionCall).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return y}get executableCode(){var e,n,s,a,d,f,g,v,y;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const T=(v=(g=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((T==null?void 0:T.length)!==0)return(y=T==null?void 0:T[0])===null||y===void 0?void 0:y.code}get codeExecutionResult(){var e,n,s,a,d,f,g,v,y;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const T=(v=(g=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((T==null?void 0:T.length)!==0)return(y=T==null?void 0:T[0])===null||y===void 0?void 0:y.output}}class Cp{}class Sp{}class Ty{}class Cy{}class Sy{}class Ey{}class Ep{}class Np{}class bp{}class Ny{}class Ol{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new Ol;let a;const d=e;return n?a=cy(d):a=uy(d),Object.assign(s,a),s}}class kp{}class Pp{}class Ip{}class Ap{}class by{}class ky{}class Py{}class wd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new wd,d=vy(e);return Object.assign(s,d),s}}class Iy{}class Ay{}class Ry{}class Rp{}class My{get text(){var e,n,s;let a="",d=!1;const f=[];for(const g of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[v,y]of Object.entries(g))v!=="text"&&v!=="thought"&&y!==null&&f.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,a+=g.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?a:void 0}get data(){var e,n,s;let a="";const d=[];for(const f of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[g,v]of Object.entries(f))g!=="inlineData"&&v!==null&&d.push(g);f.inlineData&&typeof f.inlineData.data=="string"&&(a+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Ly{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Td{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new Td,d=bm(e);return Object.assign(s,d),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function km(t,e){const n=Oe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Pm(t){return Array.isArray(t)?t.map(e=>ql(e)):[ql(t)]}function ql(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Im(t){const e=ql(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Am(t){const e=ql(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Mp(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Rm(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Mp(e)):[Mp(t)]}function Zc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Lp(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Dp(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Pt(t){if(t==null)throw new Error("ContentUnion is required");return Zc(t)?t:{role:"user",parts:Rm(t)}}function Cd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=Pt(n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const n=Pt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Pt(n)):[Pt(e)]}function gn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Lp(t)||Dp(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Pt(t)]}const e=[],n=[],s=Zc(t[0]);for(const a of t){const d=Zc(a);if(d!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(a);else{if(Lp(a)||Dp(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return s||e.push({role:"user",parts:Rm(n)}),e}function Dy(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(s=>s!=="null");if(n.length===1)e.type=Object.values(lo).includes(n[0].toUpperCase())?n[0].toUpperCase():lo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of n)e.anyOf.push({type:Object.values(lo).includes(s.toUpperCase())?s.toUpperCase():lo.TYPE_UNSPECIFIED})}}function Gr(t){const e={},n=["items"],s=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=t.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,t=d[1]):d[1].type==="null"&&(e.nullable=!0,t=d[0])),t.type instanceof Array&&Dy(t.type,e);for(const[f,g]of Object.entries(t))if(g!=null)if(f=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(lo).includes(g.toUpperCase())?g.toUpperCase():lo.TYPE_UNSPECIFIED}else if(n.includes(f))e[f]=Gr(g);else if(s.includes(f)){const v=[];for(const y of g){if(y.type=="null"){e.nullable=!0;continue}v.push(Gr(y))}e[f]=v}else if(a.includes(f)){const v={};for(const[y,T]of Object.entries(g))v[y]=Gr(T);e[f]=v}else{if(f==="additionalProperties")continue;e[f]=g}return e}function Sd(t){return Gr(t)}function Ed(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Nd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function jr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Gr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Gr(e.response));return t}function Wr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Uy(t,e,n,s=1){const a=!e.startsWith(`${n}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:a?`${n}/${e}`:e}function Ti(t,e){if(typeof e!="string")throw new Error("name must be a string");return Uy(t,e,"cachedContents")}function Mm(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function uo(t){return xd(t)}function Fy(t){return t!=null&&typeof t=="object"&&"name"in t}function Vy(t){return t!=null&&typeof t=="object"&&"video"in t}function By(t){return t!=null&&typeof t=="object"&&"uri"in t}function Lm(t){var e;let n;if(Fy(t)&&(n=t.name),!(By(t)&&(n=t.uri,n===void 0))&&!(Vy(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Dm(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Um(t){for(const e of["models","tunedModels","publisherModels"])if(zy(t,e))return t[e];return[]}function zy(t,e){return t!==null&&typeof t=="object"&&e in t}function Hy(t,e={}){const n=t,s={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(s.responseJsonSchema=n.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function Gy(t,e={}){const n=[],s=new Set;for(const a of t){const d=a.name;if(s.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s.add(d);const f=Hy(a,e);f.functionDeclarations&&n.push(...f.functionDeclarations)}return{functionDeclarations:n}}function Fm(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const s=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Oy(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Vm(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let d=!1;for(const f of a){if(typeof f!="object"||f===null)continue;const v=f.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){d=!0;break}}return d&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Kr(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Bm(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qy(t){const e={},n=c(t,["responsesFile"]);n!=null&&h(e,["fileName"],n);const s=c(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>S_(f))),h(e,["inlinedResponses"],d)}const a=c(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["inlinedEmbedContentResponses"],d)}return e}function jy(t){const e={},n=c(t,["predictionsFormat"]);n!=null&&h(e,["format"],n);const s=c(t,["gcsDestination","outputUriPrefix"]);s!=null&&h(e,["gcsUri"],s);const a=c(t,["bigqueryDestination","outputUri"]);return a!=null&&h(e,["bigqueryUri"],a),e}function Wy(t){const e={},n=c(t,["format"]);n!=null&&h(e,["predictionsFormat"],n);const s=c(t,["gcsUri"]);s!=null&&h(e,["gcsDestination","outputUriPrefix"],s);const a=c(t,["bigqueryUri"]);if(a!=null&&h(e,["bigqueryDestination","outputUri"],a),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Bl(t){const e={},n=c(t,["name"]);n!=null&&h(e,["name"],n);const s=c(t,["metadata","displayName"]);s!=null&&h(e,["displayName"],s);const a=c(t,["metadata","state"]);a!=null&&h(e,["state"],Bm(a));const d=c(t,["metadata","createTime"]);d!=null&&h(e,["createTime"],d);const f=c(t,["metadata","endTime"]);f!=null&&h(e,["endTime"],f);const g=c(t,["metadata","updateTime"]);g!=null&&h(e,["updateTime"],g);const v=c(t,["metadata","model"]);v!=null&&h(e,["model"],v);const y=c(t,["metadata","output"]);return y!=null&&h(e,["dest"],qy(Vm(y))),e}function Yc(t){const e={},n=c(t,["name"]);n!=null&&h(e,["name"],n);const s=c(t,["displayName"]);s!=null&&h(e,["displayName"],s);const a=c(t,["state"]);a!=null&&h(e,["state"],Bm(a));const d=c(t,["error"]);d!=null&&h(e,["error"],d);const f=c(t,["createTime"]);f!=null&&h(e,["createTime"],f);const g=c(t,["startTime"]);g!=null&&h(e,["startTime"],g);const v=c(t,["endTime"]);v!=null&&h(e,["endTime"],v);const y=c(t,["updateTime"]);y!=null&&h(e,["updateTime"],y);const T=c(t,["model"]);T!=null&&h(e,["model"],T);const E=c(t,["inputConfig"]);E!=null&&h(e,["src"],Ky(E));const N=c(t,["outputConfig"]);N!=null&&h(e,["dest"],jy(Vm(N)));const b=c(t,["completionStats"]);return b!=null&&h(e,["completionStats"],b),e}function Ky(t){const e={},n=c(t,["instancesFormat"]);n!=null&&h(e,["format"],n);const s=c(t,["gcsSource","uris"]);s!=null&&h(e,["gcsUri"],s);const a=c(t,["bigquerySource","inputUri"]);return a!=null&&h(e,["bigqueryUri"],a),e}function $y(t,e){const n={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=c(e,["fileName"]);s!=null&&h(n,["fileName"],s);const a=c(e,["inlinedRequests"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>C_(t,f))),h(n,["requests","requests"],d)}return n}function Jy(t){const e={},n=c(t,["format"]);n!=null&&h(e,["instancesFormat"],n);const s=c(t,["gcsUri"]);s!=null&&h(e,["gcsSource","uris"],s);const a=c(t,["bigqueryUri"]);if(a!=null&&h(e,["bigquerySource","inputUri"],a),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Zy(t){const e={},n=c(t,["data"]);if(n!=null&&h(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Yy(t,e){const n={},s=c(e,["name"]);return s!=null&&h(n,["_url","name"],Kr(t,s)),n}function Qy(t,e){const n={},s=c(e,["name"]);return s!=null&&h(n,["_url","name"],Kr(t,s)),n}function Xy(t){const e={},n=c(t,["content"]);n!=null&&h(e,["content"],n);const s=c(t,["citationMetadata"]);s!=null&&h(e,["citationMetadata"],e_(s));const a=c(t,["tokenCount"]);a!=null&&h(e,["tokenCount"],a);const d=c(t,["finishReason"]);d!=null&&h(e,["finishReason"],d);const f=c(t,["avgLogprobs"]);f!=null&&h(e,["avgLogprobs"],f);const g=c(t,["groundingMetadata"]);g!=null&&h(e,["groundingMetadata"],g);const v=c(t,["index"]);v!=null&&h(e,["index"],v);const y=c(t,["logprobsResult"]);y!=null&&h(e,["logprobsResult"],y);const T=c(t,["safetyRatings"]);if(T!=null){let N=T;Array.isArray(N)&&(N=N.map(b=>b)),h(e,["safetyRatings"],N)}const E=c(t,["urlContextMetadata"]);return E!=null&&h(e,["urlContextMetadata"],E),e}function e_(t){const e={},n=c(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),h(e,["citations"],s)}return e}function zm(t){const e={},n=c(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(d=>A_(d))),h(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&h(e,["role"],s),e}function t_(t,e){const n={},s=c(t,["displayName"]);if(e!==void 0&&s!=null&&h(e,["batch","displayName"],s),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function n_(t,e){const n={},s=c(t,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const a=c(t,["dest"]);return e!==void 0&&a!=null&&h(e,["outputConfig"],Wy(Oy(a))),n}function Up(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["src"]);a!=null&&h(n,["batch","inputConfig"],$y(t,Fm(t,a)));const d=c(e,["config"]);return d!=null&&t_(d,n),n}function i_(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["model"],Oe(t,s));const a=c(e,["src"]);a!=null&&h(n,["inputConfig"],Jy(Fm(t,a)));const d=c(e,["config"]);return d!=null&&n_(d,n),n}function o_(t,e){const n={},s=c(t,["displayName"]);return e!==void 0&&s!=null&&h(e,["batch","displayName"],s),n}function r_(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["src"]);a!=null&&h(n,["batch","inputConfig"],h_(t,a));const d=c(e,["config"]);return d!=null&&o_(d,n),n}function s_(t,e){const n={},s=c(e,["name"]);return s!=null&&h(n,["_url","name"],Kr(t,s)),n}function a_(t,e){const n={},s=c(e,["name"]);return s!=null&&h(n,["_url","name"],Kr(t,s)),n}function l_(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["name"]);s!=null&&h(e,["name"],s);const a=c(t,["done"]);a!=null&&h(e,["done"],a);const d=c(t,["error"]);return d!=null&&h(e,["error"],d),e}function u_(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["name"]);s!=null&&h(e,["name"],s);const a=c(t,["done"]);a!=null&&h(e,["done"],a);const d=c(t,["error"]);return d!=null&&h(e,["error"],d),e}function c_(t,e){const n={},s=c(e,["contents"]);if(s!=null){let d=Cd(t,s);Array.isArray(d)&&(d=d.map(f=>f)),h(n,["requests[]","request","content"],d)}const a=c(e,["config"]);return a!=null&&(h(n,["_self"],d_(a,n)),ay(n,{"requests[].*":"requests[].request.*"})),n}function d_(t,e){const n={},s=c(t,["taskType"]);e!==void 0&&s!=null&&h(e,["requests[]","taskType"],s);const a=c(t,["title"]);e!==void 0&&a!=null&&h(e,["requests[]","title"],a);const d=c(t,["outputDimensionality"]);if(e!==void 0&&d!=null&&h(e,["requests[]","outputDimensionality"],d),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function h_(t,e){const n={},s=c(e,["fileName"]);s!=null&&h(n,["file_name"],s);const a=c(e,["inlinedRequests"]);return a!=null&&h(n,["requests"],c_(t,a)),n}function f_(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const s=c(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function p_(t){const e={},n=c(t,["id"]);n!=null&&h(e,["id"],n);const s=c(t,["args"]);s!=null&&h(e,["args"],s);const a=c(t,["name"]);if(a!=null&&h(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function m_(t){const e={},n=c(t,["allowedFunctionNames"]);n!=null&&h(e,["allowedFunctionNames"],n);const s=c(t,["mode"]);if(s!=null&&h(e,["mode"],s),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function g_(t,e,n){const s={},a=c(e,["systemInstruction"]);n!==void 0&&a!=null&&h(n,["systemInstruction"],zm(Pt(a)));const d=c(e,["temperature"]);d!=null&&h(s,["temperature"],d);const f=c(e,["topP"]);f!=null&&h(s,["topP"],f);const g=c(e,["topK"]);g!=null&&h(s,["topK"],g);const v=c(e,["candidateCount"]);v!=null&&h(s,["candidateCount"],v);const y=c(e,["maxOutputTokens"]);y!=null&&h(s,["maxOutputTokens"],y);const T=c(e,["stopSequences"]);T!=null&&h(s,["stopSequences"],T);const E=c(e,["responseLogprobs"]);E!=null&&h(s,["responseLogprobs"],E);const N=c(e,["logprobs"]);N!=null&&h(s,["logprobs"],N);const b=c(e,["presencePenalty"]);b!=null&&h(s,["presencePenalty"],b);const I=c(e,["frequencyPenalty"]);I!=null&&h(s,["frequencyPenalty"],I);const A=c(e,["seed"]);A!=null&&h(s,["seed"],A);const M=c(e,["responseMimeType"]);M!=null&&h(s,["responseMimeType"],M);const j=c(e,["responseSchema"]);j!=null&&h(s,["responseSchema"],Sd(j));const B=c(e,["responseJsonSchema"]);if(B!=null&&h(s,["responseJsonSchema"],B),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=c(e,["safetySettings"]);if(n!==void 0&&F!=null){let Re=F;Array.isArray(Re)&&(Re=Re.map(He=>R_(He))),h(n,["safetySettings"],Re)}const Y=c(e,["tools"]);if(n!==void 0&&Y!=null){let Re=Wr(Y);Array.isArray(Re)&&(Re=Re.map(He=>L_(jr(He)))),h(n,["tools"],Re)}const ie=c(e,["toolConfig"]);if(n!==void 0&&ie!=null&&h(n,["toolConfig"],M_(ie)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=c(e,["cachedContent"]);n!==void 0&&se!=null&&h(n,["cachedContent"],Ti(t,se));const ae=c(e,["responseModalities"]);ae!=null&&h(s,["responseModalities"],ae);const Pe=c(e,["mediaResolution"]);Pe!=null&&h(s,["mediaResolution"],Pe);const le=c(e,["speechConfig"]);if(le!=null&&h(s,["speechConfig"],Ed(le)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ce=c(e,["thinkingConfig"]);Ce!=null&&h(s,["thinkingConfig"],Ce);const Ie=c(e,["imageConfig"]);Ie!=null&&h(s,["imageConfig"],T_(Ie));const Be=c(e,["enableEnhancedCivicAnswers"]);if(Be!=null&&h(s,["enableEnhancedCivicAnswers"],Be),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function v_(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(y=>Xy(y))),h(e,["candidates"],v)}const a=c(t,["modelVersion"]);a!=null&&h(e,["modelVersion"],a);const d=c(t,["promptFeedback"]);d!=null&&h(e,["promptFeedback"],d);const f=c(t,["responseId"]);f!=null&&h(e,["responseId"],f);const g=c(t,["usageMetadata"]);return g!=null&&h(e,["usageMetadata"],g),e}function y_(t,e){const n={},s=c(e,["name"]);return s!=null&&h(n,["_url","name"],Kr(t,s)),n}function __(t,e){const n={},s=c(e,["name"]);return s!=null&&h(n,["_url","name"],Kr(t,s)),n}function x_(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function w_(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function T_(t){const e={},n=c(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const s=c(t,["imageSize"]);if(s!=null&&h(e,["imageSize"],s),c(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function C_(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["request","model"],Oe(t,s));const a=c(e,["contents"]);if(a!=null){let g=gn(a);Array.isArray(g)&&(g=g.map(v=>zm(v))),h(n,["request","contents"],g)}const d=c(e,["metadata"]);d!=null&&h(n,["metadata"],d);const f=c(e,["config"]);return f!=null&&h(n,["request","generationConfig"],g_(t,f,c(n,["request"],{}))),n}function S_(t){const e={},n=c(t,["response"]);n!=null&&h(e,["response"],v_(n));const s=c(t,["error"]);return s!=null&&h(e,["error"],s),e}function E_(t,e){const n={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);if(e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function N_(t,e){const n={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);e!==void 0&&a!=null&&h(e,["_query","pageToken"],a);const d=c(t,["filter"]);return e!==void 0&&d!=null&&h(e,["_query","filter"],d),n}function b_(t){const e={},n=c(t,["config"]);return n!=null&&E_(n,e),e}function k_(t){const e={},n=c(t,["config"]);return n!=null&&N_(n,e),e}function P_(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const a=c(t,["operations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>Bl(f))),h(e,["batchJobs"],d)}return e}function I_(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const a=c(t,["batchPredictionJobs"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>Yc(f))),h(e,["batchJobs"],d)}return e}function A_(t){const e={},n=c(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const s=c(t,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const d=c(t,["fileData"]);d!=null&&h(e,["fileData"],f_(d));const f=c(t,["functionCall"]);f!=null&&h(e,["functionCall"],p_(f));const g=c(t,["functionResponse"]);g!=null&&h(e,["functionResponse"],g);const v=c(t,["inlineData"]);v!=null&&h(e,["inlineData"],Zy(v));const y=c(t,["text"]);y!=null&&h(e,["text"],y);const T=c(t,["thought"]);T!=null&&h(e,["thought"],T);const E=c(t,["thoughtSignature"]);E!=null&&h(e,["thoughtSignature"],E);const N=c(t,["videoMetadata"]);return N!=null&&h(e,["videoMetadata"],N),e}function R_(t){const e={},n=c(t,["category"]);if(n!=null&&h(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(t,["threshold"]);return s!=null&&h(e,["threshold"],s),e}function M_(t){const e={},n=c(t,["retrievalConfig"]);n!=null&&h(e,["retrievalConfig"],n);const s=c(t,["functionCallingConfig"]);return s!=null&&h(e,["functionCallingConfig"],m_(s)),e}function L_(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=c(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const s=c(t,["fileSearch"]);s!=null&&h(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&h(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=c(t,["functionDeclarations"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(E=>E)),h(e,["functionDeclarations"],T)}const f=c(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],x_(f));const g=c(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],w_(g));const v=c(t,["googleSearchRetrieval"]);v!=null&&h(e,["googleSearchRetrieval"],v);const y=c(t,["urlContext"]);return y!=null&&h(e,["urlContext"],y),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _i;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(_i||(_i={}));class jo{constructor(e,n,s,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,a)}init(e,n,s){var a,d;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!s||Object.keys(s).length===0?f={config:{}}:typeof s=="object"?f=Object.assign({},s):f=s,f.config&&(f.config.pageToken=n.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(d=(a=f.config)===null||a===void 0?void 0:a.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D_ extends wi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jo(_i.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Up(this.apiClient,e),s=n._url,a=re("{model}:batchGenerateContent",s),g=n.batch.inputConfig.requests,v=g.requests,y=[];for(const T of v){const E=Object.assign({},T);if(E.systemInstruction){const N=E.systemInstruction;delete E.systemInstruction;const b=E.request;b.systemInstruction=N,E.request=b}y.push(E)}return g.requests=y,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const s=n?Object.assign({},n):{},a=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${a}`),s.dest===void 0){const d=this.getGcsUri(e),f=this.getBigqueryUri(e);if(d)d.endsWith(".jsonl")?s.dest=`${d.slice(0,-6)}/dest`:s.dest=`${d}_dest_${a}`;else if(f)s.dest=`${f}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=i_(this.apiClient,e);return g=re("batchPredictionJobs",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),f.then(T=>Yc(T))}else{const y=Up(this.apiClient,e);return g=re("{model}:batchGenerateContent",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),f.then(T=>Bl(T))}}async createEmbeddingsInternal(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=r_(this.apiClient,e);return d=re("{model}:asyncBatchEmbedContent",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>Bl(v))}}async get(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=__(this.apiClient,e);return g=re("batchPredictionJobs/{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),f.then(T=>Yc(T))}else{const y=y_(this.apiClient,e);return g=re("batches/{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),f.then(T=>Bl(T))}}async cancel(e){var n,s,a,d;let f="",g={};if(this.apiClient.isVertexAI()){const v=Qy(this.apiClient,e);f=re("batchPredictionJobs/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=Yy(this.apiClient,e);f=re("batches/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=k_(e);return g=re("batchPredictionJobs",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=I_(T),N=new Rp;return Object.assign(N,E),N})}else{const y=b_(e);return g=re("batches",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=P_(T),N=new Rp;return Object.assign(N,E),N})}}async delete(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=a_(this.apiClient,e);return g=re("batchPredictionJobs/{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>u_(T))}else{const y=s_(this.apiClient,e);return g=re("batches/{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>l_(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U_(t){const e={},n=c(t,["data"]);if(n!=null&&h(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Fp(t){const e={},n=c(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(d=>rx(d))),h(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&h(e,["role"],s),e}function F_(t,e){const n={},s=c(t,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const a=c(t,["expireTime"]);e!==void 0&&a!=null&&h(e,["expireTime"],a);const d=c(t,["displayName"]);e!==void 0&&d!=null&&h(e,["displayName"],d);const f=c(t,["contents"]);if(e!==void 0&&f!=null){let T=gn(f);Array.isArray(T)&&(T=T.map(E=>Fp(E))),h(e,["contents"],T)}const g=c(t,["systemInstruction"]);e!==void 0&&g!=null&&h(e,["systemInstruction"],Fp(Pt(g)));const v=c(t,["tools"]);if(e!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>ax(E))),h(e,["tools"],T)}const y=c(t,["toolConfig"]);if(e!==void 0&&y!=null&&h(e,["toolConfig"],sx(y)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function V_(t,e){const n={},s=c(t,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const a=c(t,["expireTime"]);e!==void 0&&a!=null&&h(e,["expireTime"],a);const d=c(t,["displayName"]);e!==void 0&&d!=null&&h(e,["displayName"],d);const f=c(t,["contents"]);if(e!==void 0&&f!=null){let E=gn(f);Array.isArray(E)&&(E=E.map(N=>N)),h(e,["contents"],E)}const g=c(t,["systemInstruction"]);e!==void 0&&g!=null&&h(e,["systemInstruction"],Pt(g));const v=c(t,["tools"]);if(e!==void 0&&v!=null){let E=v;Array.isArray(E)&&(E=E.map(N=>lx(N))),h(e,["tools"],E)}const y=c(t,["toolConfig"]);e!==void 0&&y!=null&&h(e,["toolConfig"],y);const T=c(t,["kmsKeyName"]);return e!==void 0&&T!=null&&h(e,["encryption_spec","kmsKeyName"],T),n}function B_(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["model"],km(t,s));const a=c(e,["config"]);return a!=null&&F_(a,n),n}function z_(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["model"],km(t,s));const a=c(e,["config"]);return a!=null&&V_(a,n),n}function H_(t,e){const n={},s=c(e,["name"]);return s!=null&&h(n,["_url","name"],Ti(t,s)),n}function G_(t,e){const n={},s=c(e,["name"]);return s!=null&&h(n,["_url","name"],Ti(t,s)),n}function O_(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function q_(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function j_(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const s=c(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function W_(t){const e={},n=c(t,["id"]);n!=null&&h(e,["id"],n);const s=c(t,["args"]);s!=null&&h(e,["args"],s);const a=c(t,["name"]);if(a!=null&&h(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function K_(t){const e={},n=c(t,["allowedFunctionNames"]);n!=null&&h(e,["allowedFunctionNames"],n);const s=c(t,["mode"]);if(s!=null&&h(e,["mode"],s),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $_(t){const e={},n=c(t,["description"]);n!=null&&h(e,["description"],n);const s=c(t,["name"]);s!=null&&h(e,["name"],s);const a=c(t,["parameters"]);a!=null&&h(e,["parameters"],a);const d=c(t,["parametersJsonSchema"]);d!=null&&h(e,["parametersJsonSchema"],d);const f=c(t,["response"]);f!=null&&h(e,["response"],f);const g=c(t,["responseJsonSchema"]);if(g!=null&&h(e,["responseJsonSchema"],g),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function J_(t,e){const n={},s=c(e,["name"]);return s!=null&&h(n,["_url","name"],Ti(t,s)),n}function Z_(t,e){const n={},s=c(e,["name"]);return s!=null&&h(n,["_url","name"],Ti(t,s)),n}function Y_(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function Q_(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function X_(t,e){const n={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),n}function ex(t,e){const n={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),n}function tx(t){const e={},n=c(t,["config"]);return n!=null&&X_(n,e),e}function nx(t){const e={},n=c(t,["config"]);return n!=null&&ex(n,e),e}function ix(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const a=c(t,["cachedContents"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["cachedContents"],d)}return e}function ox(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const a=c(t,["cachedContents"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["cachedContents"],d)}return e}function rx(t){const e={},n=c(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const s=c(t,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const d=c(t,["fileData"]);d!=null&&h(e,["fileData"],j_(d));const f=c(t,["functionCall"]);f!=null&&h(e,["functionCall"],W_(f));const g=c(t,["functionResponse"]);g!=null&&h(e,["functionResponse"],g);const v=c(t,["inlineData"]);v!=null&&h(e,["inlineData"],U_(v));const y=c(t,["text"]);y!=null&&h(e,["text"],y);const T=c(t,["thought"]);T!=null&&h(e,["thought"],T);const E=c(t,["thoughtSignature"]);E!=null&&h(e,["thoughtSignature"],E);const N=c(t,["videoMetadata"]);return N!=null&&h(e,["videoMetadata"],N),e}function sx(t){const e={},n=c(t,["retrievalConfig"]);n!=null&&h(e,["retrievalConfig"],n);const s=c(t,["functionCallingConfig"]);return s!=null&&h(e,["functionCallingConfig"],K_(s)),e}function ax(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=c(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const s=c(t,["fileSearch"]);s!=null&&h(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&h(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=c(t,["functionDeclarations"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(E=>E)),h(e,["functionDeclarations"],T)}const f=c(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],Y_(f));const g=c(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],Q_(g));const v=c(t,["googleSearchRetrieval"]);v!=null&&h(e,["googleSearchRetrieval"],v);const y=c(t,["urlContext"]);return y!=null&&h(e,["urlContext"],y),e}function lx(t){const e={},n=c(t,["retrieval"]);n!=null&&h(e,["retrieval"],n);const s=c(t,["computerUse"]);if(s!=null&&h(e,["computerUse"],s),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(t,["codeExecution"]);a!=null&&h(e,["codeExecution"],a);const d=c(t,["enterpriseWebSearch"]);d!=null&&h(e,["enterpriseWebSearch"],d);const f=c(t,["functionDeclarations"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(N=>$_(N))),h(e,["functionDeclarations"],E)}const g=c(t,["googleMaps"]);g!=null&&h(e,["googleMaps"],g);const v=c(t,["googleSearch"]);v!=null&&h(e,["googleSearch"],v);const y=c(t,["googleSearchRetrieval"]);y!=null&&h(e,["googleSearchRetrieval"],y);const T=c(t,["urlContext"]);return T!=null&&h(e,["urlContext"],T),e}function ux(t,e){const n={},s=c(t,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const a=c(t,["expireTime"]);return e!==void 0&&a!=null&&h(e,["expireTime"],a),n}function cx(t,e){const n={},s=c(t,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const a=c(t,["expireTime"]);return e!==void 0&&a!=null&&h(e,["expireTime"],a),n}function dx(t,e){const n={},s=c(e,["name"]);s!=null&&h(n,["_url","name"],Ti(t,s));const a=c(e,["config"]);return a!=null&&ux(a,n),n}function hx(t,e){const n={},s=c(e,["name"]);s!=null&&h(n,["_url","name"],Ti(t,s));const a=c(e,["config"]);return a!=null&&cx(a,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fx extends wi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jo(_i.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=z_(this.apiClient,e);return g=re("cachedContents",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),f.then(T=>T)}else{const y=B_(this.apiClient,e);return g=re("cachedContents",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),f.then(T=>T)}}async get(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=Z_(this.apiClient,e);return g=re("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),f.then(T=>T)}else{const y=J_(this.apiClient,e);return g=re("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),f.then(T=>T)}}async delete(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=G_(this.apiClient,e);return g=re("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=q_(T),N=new Ip;return Object.assign(N,E),N})}else{const y=H_(this.apiClient,e);return g=re("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=O_(T),N=new Ip;return Object.assign(N,E),N})}}async update(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=hx(this.apiClient,e);return g=re("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),f.then(T=>T)}else{const y=dx(this.apiClient,e);return g=re("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),f.then(T=>T)}}async listInternal(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=nx(e);return g=re("cachedContents",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=ox(T),N=new Ap;return Object.assign(N,E),N})}else{const y=tx(e);return g=re("cachedContents",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=ix(T),N=new Ap;return Object.assign(N,E),N})}}}function jl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function Vp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function be(t){return this instanceof be?(this.v=t,this):new be(t)}function An(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,d=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",f),a[Symbol.asyncIterator]=function(){return this},a;function f(b){return function(I){return Promise.resolve(I).then(b,E)}}function g(b,I){s[b]&&(a[b]=function(A){return new Promise(function(M,j){d.push([b,A,M,j])>1||v(b,A)})},I&&(a[b]=I(a[b])))}function v(b,I){try{y(s[b](I))}catch(A){N(d[0][3],A)}}function y(b){b.value instanceof be?Promise.resolve(b.value.v).then(T,E):N(d[0][2],b)}function T(b){v("next",b)}function E(b){v("throw",b)}function N(b,I){b(I),d.shift(),d.length&&v(d[0][0],d[0][1])}}function Rn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Vp=="function"?Vp(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(d){n[d]=t[d]&&function(f){return new Promise(function(g,v){f=t[d](f),a(g,v,f.done,f.value)})}}function a(d,f,g,v){Promise.resolve(v).then(function(y){d({value:y,done:g})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function px(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Hm(n)}function Hm(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function mx(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Bp(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let s=0;for(;s<n;)if(t[s].role==="user")e.push(t[s]),s++;else{const a=[];let d=!0;for(;s<n&&t[s].role==="model";)a.push(t[s]),d&&!Hm(t[s])&&(d=!1),s++;d?e.push(...a):e.pop()}return e}class gx{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new vx(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class vx{constructor(e,n,s,a={},d=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=a,this.history=d,this.sendPromise=Promise.resolve(),mx(d)}async sendMessage(e){var n;await this.sendPromise;const s=Pt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var d,f,g;const v=await a,y=(f=(d=v.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content,T=v.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let N=[];T!=null&&(N=(g=T.slice(E))!==null&&g!==void 0?g:[]);const b=y?[y]:[];this.recordHistory(s,b,N)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var n;await this.sendPromise;const s=Pt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const d=await a;return this.processStreamResponse(d,s)}getHistory(e=!1){const n=e?Bp(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return An(this,arguments,function*(){var a,d,f,g,v,y;const T=[];try{for(var E=!0,N=Rn(e),b;b=yield be(N.next()),a=b.done,!a;E=!0){g=b.value,E=!1;const I=g;if(px(I)){const A=(y=(v=I.candidates)===null||v===void 0?void 0:v[0])===null||y===void 0?void 0:y.content;A!==void 0&&T.push(A)}yield yield be(I)}}catch(I){d={error:I}}finally{try{!E&&!a&&(f=N.return)&&(yield be(f.call(N)))}finally{if(d)throw d.error}}this.recordHistory(n,T)})}recordHistory(e,n,s){let a=[];n.length>0&&n.every(d=>d.role!==void 0)?a=n:a.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Bp(s)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ia extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ia.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yx(t){const e={},n=c(t,["file"]);return n!=null&&h(e,["file"],n),e}function _x(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function xx(t){const e={},n=c(t,["name"]);return n!=null&&h(e,["_url","file"],Lm(n)),e}function wx(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function Tx(t){const e={},n=c(t,["name"]);return n!=null&&h(e,["_url","file"],Lm(n)),e}function Cx(t,e){const n={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),n}function Sx(t){const e={},n=c(t,["config"]);return n!=null&&Cx(n,e),e}function Ex(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const a=c(t,["files"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["files"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nx extends wi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jo(_i.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Sx(e);return d=re("files",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(y=>{const T=y;return T.sdkHttpResponse={headers:v.headers},T})),a.then(v=>{const y=Ex(v),T=new Iy;return Object.assign(T,y),T})}}async createInternal(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yx(e);return d=re("upload/v1beta/files",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const y=_x(v),T=new Ay;return Object.assign(T,y),T})}}async get(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Tx(e);return d=re("files/{file}",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>v)}}async delete(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xx(e);return d=re("files/{file}",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(y=>{const T=y;return T.sdkHttpResponse={headers:v.headers},T})),a.then(v=>{const y=wx(v),T=new Ry;return Object.assign(T,y),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zl(t){const e={},n=c(t,["data"]);if(n!=null&&h(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function bx(t){const e={},n=c(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(d=>Ox(d))),h(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&h(e,["role"],s),e}function kx(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const s=c(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Px(t){const e={},n=c(t,["id"]);n!=null&&h(e,["id"],n);const s=c(t,["args"]);s!=null&&h(e,["args"],s);const a=c(t,["name"]);if(a!=null&&h(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ix(t){const e={},n=c(t,["description"]);n!=null&&h(e,["description"],n);const s=c(t,["name"]);s!=null&&h(e,["name"],s);const a=c(t,["parameters"]);a!=null&&h(e,["parameters"],a);const d=c(t,["parametersJsonSchema"]);d!=null&&h(e,["parametersJsonSchema"],d);const f=c(t,["response"]);f!=null&&h(e,["response"],f);const g=c(t,["responseJsonSchema"]);if(g!=null&&h(e,["responseJsonSchema"],g),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Ax(t){const e={},n=c(t,["modelSelectionConfig"]);n!=null&&h(e,["modelConfig"],n);const s=c(t,["responseJsonSchema"]);s!=null&&h(e,["responseJsonSchema"],s);const a=c(t,["audioTimestamp"]);a!=null&&h(e,["audioTimestamp"],a);const d=c(t,["candidateCount"]);d!=null&&h(e,["candidateCount"],d);const f=c(t,["enableAffectiveDialog"]);f!=null&&h(e,["enableAffectiveDialog"],f);const g=c(t,["frequencyPenalty"]);g!=null&&h(e,["frequencyPenalty"],g);const v=c(t,["logprobs"]);v!=null&&h(e,["logprobs"],v);const y=c(t,["maxOutputTokens"]);y!=null&&h(e,["maxOutputTokens"],y);const T=c(t,["mediaResolution"]);T!=null&&h(e,["mediaResolution"],T);const E=c(t,["presencePenalty"]);E!=null&&h(e,["presencePenalty"],E);const N=c(t,["responseLogprobs"]);N!=null&&h(e,["responseLogprobs"],N);const b=c(t,["responseMimeType"]);b!=null&&h(e,["responseMimeType"],b);const I=c(t,["responseModalities"]);I!=null&&h(e,["responseModalities"],I);const A=c(t,["responseSchema"]);A!=null&&h(e,["responseSchema"],A);const M=c(t,["routingConfig"]);M!=null&&h(e,["routingConfig"],M);const j=c(t,["seed"]);j!=null&&h(e,["seed"],j);const B=c(t,["speechConfig"]);B!=null&&h(e,["speechConfig"],B);const F=c(t,["stopSequences"]);F!=null&&h(e,["stopSequences"],F);const Y=c(t,["temperature"]);Y!=null&&h(e,["temperature"],Y);const ie=c(t,["thinkingConfig"]);ie!=null&&h(e,["thinkingConfig"],ie);const se=c(t,["topK"]);se!=null&&h(e,["topK"],se);const ae=c(t,["topP"]);if(ae!=null&&h(e,["topP"],ae),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Rx(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function Mx(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function Lx(t,e){const n={},s=c(t,["generationConfig"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig"],s);const a=c(t,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const d=c(t,["temperature"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","temperature"],d);const f=c(t,["topP"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topP"],f);const g=c(t,["topK"]);e!==void 0&&g!=null&&h(e,["setup","generationConfig","topK"],g);const v=c(t,["maxOutputTokens"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","maxOutputTokens"],v);const y=c(t,["mediaResolution"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","mediaResolution"],y);const T=c(t,["seed"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","seed"],T);const E=c(t,["speechConfig"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","speechConfig"],Nd(E));const N=c(t,["thinkingConfig"]);e!==void 0&&N!=null&&h(e,["setup","generationConfig","thinkingConfig"],N);const b=c(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],b);const I=c(t,["systemInstruction"]);e!==void 0&&I!=null&&h(e,["setup","systemInstruction"],bx(Pt(I)));const A=c(t,["tools"]);if(e!==void 0&&A!=null){let se=Wr(A);Array.isArray(se)&&(se=se.map(ae=>jx(jr(ae)))),h(e,["setup","tools"],se)}const M=c(t,["sessionResumption"]);e!==void 0&&M!=null&&h(e,["setup","sessionResumption"],qx(M));const j=c(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&h(e,["setup","inputAudioTranscription"],j);const B=c(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&h(e,["setup","outputAudioTranscription"],B);const F=c(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&h(e,["setup","realtimeInputConfig"],F);const Y=c(t,["contextWindowCompression"]);e!==void 0&&Y!=null&&h(e,["setup","contextWindowCompression"],Y);const ie=c(t,["proactivity"]);if(e!==void 0&&ie!=null&&h(e,["setup","proactivity"],ie),c(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Dx(t,e){const n={},s=c(t,["generationConfig"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig"],Ax(s));const a=c(t,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const d=c(t,["temperature"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","temperature"],d);const f=c(t,["topP"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topP"],f);const g=c(t,["topK"]);e!==void 0&&g!=null&&h(e,["setup","generationConfig","topK"],g);const v=c(t,["maxOutputTokens"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","maxOutputTokens"],v);const y=c(t,["mediaResolution"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","mediaResolution"],y);const T=c(t,["seed"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","seed"],T);const E=c(t,["speechConfig"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","speechConfig"],Nd(E));const N=c(t,["thinkingConfig"]);e!==void 0&&N!=null&&h(e,["setup","generationConfig","thinkingConfig"],N);const b=c(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],b);const I=c(t,["systemInstruction"]);e!==void 0&&I!=null&&h(e,["setup","systemInstruction"],Pt(I));const A=c(t,["tools"]);if(e!==void 0&&A!=null){let ae=Wr(A);Array.isArray(ae)&&(ae=ae.map(Pe=>Wx(jr(Pe)))),h(e,["setup","tools"],ae)}const M=c(t,["sessionResumption"]);e!==void 0&&M!=null&&h(e,["setup","sessionResumption"],M);const j=c(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&h(e,["setup","inputAudioTranscription"],j);const B=c(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&h(e,["setup","outputAudioTranscription"],B);const F=c(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&h(e,["setup","realtimeInputConfig"],F);const Y=c(t,["contextWindowCompression"]);e!==void 0&&Y!=null&&h(e,["setup","contextWindowCompression"],Y);const ie=c(t,["proactivity"]);e!==void 0&&ie!=null&&h(e,["setup","proactivity"],ie);const se=c(t,["explicitVadSignal"]);return e!==void 0&&se!=null&&h(e,["setup","explicitVadSignal"],se),n}function Ux(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["setup","model"],Oe(t,s));const a=c(e,["config"]);return a!=null&&h(n,["config"],Lx(a,n)),n}function Fx(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["setup","model"],Oe(t,s));const a=c(e,["config"]);return a!=null&&h(n,["config"],Dx(a,n)),n}function Vx(t){const e={},n=c(t,["musicGenerationConfig"]);return n!=null&&h(e,["musicGenerationConfig"],n),e}function Bx(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),h(e,["weightedPrompts"],s)}return e}function zx(t){const e={},n=c(t,["media"]);if(n!=null){let y=Pm(n);Array.isArray(y)&&(y=y.map(T=>zl(T))),h(e,["mediaChunks"],y)}const s=c(t,["audio"]);s!=null&&h(e,["audio"],zl(Am(s)));const a=c(t,["audioStreamEnd"]);a!=null&&h(e,["audioStreamEnd"],a);const d=c(t,["video"]);d!=null&&h(e,["video"],zl(Im(d)));const f=c(t,["text"]);f!=null&&h(e,["text"],f);const g=c(t,["activityStart"]);g!=null&&h(e,["activityStart"],g);const v=c(t,["activityEnd"]);return v!=null&&h(e,["activityEnd"],v),e}function Hx(t){const e={},n=c(t,["media"]);if(n!=null){let y=Pm(n);Array.isArray(y)&&(y=y.map(T=>T)),h(e,["mediaChunks"],y)}const s=c(t,["audio"]);s!=null&&h(e,["audio"],Am(s));const a=c(t,["audioStreamEnd"]);a!=null&&h(e,["audioStreamEnd"],a);const d=c(t,["video"]);d!=null&&h(e,["video"],Im(d));const f=c(t,["text"]);f!=null&&h(e,["text"],f);const g=c(t,["activityStart"]);g!=null&&h(e,["activityStart"],g);const v=c(t,["activityEnd"]);return v!=null&&h(e,["activityEnd"],v),e}function Gx(t){const e={},n=c(t,["setupComplete"]);n!=null&&h(e,["setupComplete"],n);const s=c(t,["serverContent"]);s!=null&&h(e,["serverContent"],s);const a=c(t,["toolCall"]);a!=null&&h(e,["toolCall"],a);const d=c(t,["toolCallCancellation"]);d!=null&&h(e,["toolCallCancellation"],d);const f=c(t,["usageMetadata"]);f!=null&&h(e,["usageMetadata"],Kx(f));const g=c(t,["goAway"]);g!=null&&h(e,["goAway"],g);const v=c(t,["sessionResumptionUpdate"]);v!=null&&h(e,["sessionResumptionUpdate"],v);const y=c(t,["voiceActivityDetectionSignal"]);y!=null&&h(e,["voiceActivityDetectionSignal"],y);const T=c(t,["voiceActivity"]);return T!=null&&h(e,["voiceActivity"],$x(T)),e}function Ox(t){const e={},n=c(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const s=c(t,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const d=c(t,["fileData"]);d!=null&&h(e,["fileData"],kx(d));const f=c(t,["functionCall"]);f!=null&&h(e,["functionCall"],Px(f));const g=c(t,["functionResponse"]);g!=null&&h(e,["functionResponse"],g);const v=c(t,["inlineData"]);v!=null&&h(e,["inlineData"],zl(v));const y=c(t,["text"]);y!=null&&h(e,["text"],y);const T=c(t,["thought"]);T!=null&&h(e,["thought"],T);const E=c(t,["thoughtSignature"]);E!=null&&h(e,["thoughtSignature"],E);const N=c(t,["videoMetadata"]);return N!=null&&h(e,["videoMetadata"],N),e}function qx(t){const e={},n=c(t,["handle"]);if(n!=null&&h(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jx(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=c(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const s=c(t,["fileSearch"]);s!=null&&h(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&h(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=c(t,["functionDeclarations"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(E=>E)),h(e,["functionDeclarations"],T)}const f=c(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],Rx(f));const g=c(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],Mx(g));const v=c(t,["googleSearchRetrieval"]);v!=null&&h(e,["googleSearchRetrieval"],v);const y=c(t,["urlContext"]);return y!=null&&h(e,["urlContext"],y),e}function Wx(t){const e={},n=c(t,["retrieval"]);n!=null&&h(e,["retrieval"],n);const s=c(t,["computerUse"]);if(s!=null&&h(e,["computerUse"],s),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(t,["codeExecution"]);a!=null&&h(e,["codeExecution"],a);const d=c(t,["enterpriseWebSearch"]);d!=null&&h(e,["enterpriseWebSearch"],d);const f=c(t,["functionDeclarations"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(N=>Ix(N))),h(e,["functionDeclarations"],E)}const g=c(t,["googleMaps"]);g!=null&&h(e,["googleMaps"],g);const v=c(t,["googleSearch"]);v!=null&&h(e,["googleSearch"],v);const y=c(t,["googleSearchRetrieval"]);y!=null&&h(e,["googleSearchRetrieval"],y);const T=c(t,["urlContext"]);return T!=null&&h(e,["urlContext"],T),e}function Kx(t){const e={},n=c(t,["promptTokenCount"]);n!=null&&h(e,["promptTokenCount"],n);const s=c(t,["cachedContentTokenCount"]);s!=null&&h(e,["cachedContentTokenCount"],s);const a=c(t,["candidatesTokenCount"]);a!=null&&h(e,["responseTokenCount"],a);const d=c(t,["toolUsePromptTokenCount"]);d!=null&&h(e,["toolUsePromptTokenCount"],d);const f=c(t,["thoughtsTokenCount"]);f!=null&&h(e,["thoughtsTokenCount"],f);const g=c(t,["totalTokenCount"]);g!=null&&h(e,["totalTokenCount"],g);const v=c(t,["promptTokensDetails"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(I=>I)),h(e,["promptTokensDetails"],b)}const y=c(t,["cacheTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(I=>I)),h(e,["cacheTokensDetails"],b)}const T=c(t,["candidatesTokensDetails"]);if(T!=null){let b=T;Array.isArray(b)&&(b=b.map(I=>I)),h(e,["responseTokensDetails"],b)}const E=c(t,["toolUsePromptTokensDetails"]);if(E!=null){let b=E;Array.isArray(b)&&(b=b.map(I=>I)),h(e,["toolUsePromptTokensDetails"],b)}const N=c(t,["trafficType"]);return N!=null&&h(e,["trafficType"],N),e}function $x(t){const e={},n=c(t,["type"]);return n!=null&&h(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jx(t){const e={},n=c(t,["data"]);if(n!=null&&h(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Zx(t){const e={},n=c(t,["content"]);n!=null&&h(e,["content"],n);const s=c(t,["citationMetadata"]);s!=null&&h(e,["citationMetadata"],Yx(s));const a=c(t,["tokenCount"]);a!=null&&h(e,["tokenCount"],a);const d=c(t,["finishReason"]);d!=null&&h(e,["finishReason"],d);const f=c(t,["avgLogprobs"]);f!=null&&h(e,["avgLogprobs"],f);const g=c(t,["groundingMetadata"]);g!=null&&h(e,["groundingMetadata"],g);const v=c(t,["index"]);v!=null&&h(e,["index"],v);const y=c(t,["logprobsResult"]);y!=null&&h(e,["logprobsResult"],y);const T=c(t,["safetyRatings"]);if(T!=null){let N=T;Array.isArray(N)&&(N=N.map(b=>b)),h(e,["safetyRatings"],N)}const E=c(t,["urlContextMetadata"]);return E!=null&&h(e,["urlContextMetadata"],E),e}function Yx(t){const e={},n=c(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),h(e,["citations"],s)}return e}function Qx(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["contents"]);if(a!=null){let d=gn(a);Array.isArray(d)&&(d=d.map(f=>f)),h(n,["contents"],d)}return n}function Xx(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["tokensInfo"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(d=>d)),h(e,["tokensInfo"],a)}return e}function ew(t){const e={},n=c(t,["values"]);n!=null&&h(e,["values"],n);const s=c(t,["statistics"]);return s!=null&&h(e,["statistics"],tw(s)),e}function tw(t){const e={},n=c(t,["truncated"]);n!=null&&h(e,["truncated"],n);const s=c(t,["token_count"]);return s!=null&&h(e,["tokenCount"],s),e}function Ql(t){const e={},n=c(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(d=>cT(d))),h(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&h(e,["role"],s),e}function nw(t){const e={},n=c(t,["controlType"]);n!=null&&h(e,["controlType"],n);const s=c(t,["enableControlImageComputation"]);return s!=null&&h(e,["computeControl"],s),e}function iw(t){const e={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function ow(t,e){const n={},s=c(t,["systemInstruction"]);e!==void 0&&s!=null&&h(e,["systemInstruction"],Pt(s));const a=c(t,["tools"]);if(e!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(g=>jm(g))),h(e,["tools"],f)}const d=c(t,["generationConfig"]);return e!==void 0&&d!=null&&h(e,["generationConfig"],Jw(d)),n}function rw(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["contents"]);if(a!=null){let f=gn(a);Array.isArray(f)&&(f=f.map(g=>Ql(g))),h(n,["contents"],f)}const d=c(e,["config"]);return d!=null&&iw(d),n}function sw(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["contents"]);if(a!=null){let f=gn(a);Array.isArray(f)&&(f=f.map(g=>g)),h(n,["contents"],f)}const d=c(e,["config"]);return d!=null&&ow(d,n),n}function aw(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["totalTokens"]);s!=null&&h(e,["totalTokens"],s);const a=c(t,["cachedContentTokenCount"]);return a!=null&&h(e,["cachedContentTokenCount"],a),e}function lw(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["totalTokens"]);return s!=null&&h(e,["totalTokens"],s),e}function uw(t,e){const n={},s=c(e,["model"]);return s!=null&&h(n,["_url","name"],Oe(t,s)),n}function cw(t,e){const n={},s=c(e,["model"]);return s!=null&&h(n,["_url","name"],Oe(t,s)),n}function dw(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function hw(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function fw(t,e){const n={},s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&h(e,["parameters","storageUri"],s);const a=c(t,["negativePrompt"]);e!==void 0&&a!=null&&h(e,["parameters","negativePrompt"],a);const d=c(t,["numberOfImages"]);e!==void 0&&d!=null&&h(e,["parameters","sampleCount"],d);const f=c(t,["aspectRatio"]);e!==void 0&&f!=null&&h(e,["parameters","aspectRatio"],f);const g=c(t,["guidanceScale"]);e!==void 0&&g!=null&&h(e,["parameters","guidanceScale"],g);const v=c(t,["seed"]);e!==void 0&&v!=null&&h(e,["parameters","seed"],v);const y=c(t,["safetyFilterLevel"]);e!==void 0&&y!=null&&h(e,["parameters","safetySetting"],y);const T=c(t,["personGeneration"]);e!==void 0&&T!=null&&h(e,["parameters","personGeneration"],T);const E=c(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&h(e,["parameters","includeSafetyAttributes"],E);const N=c(t,["includeRaiReason"]);e!==void 0&&N!=null&&h(e,["parameters","includeRaiReason"],N);const b=c(t,["language"]);e!==void 0&&b!=null&&h(e,["parameters","language"],b);const I=c(t,["outputMimeType"]);e!==void 0&&I!=null&&h(e,["parameters","outputOptions","mimeType"],I);const A=c(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&h(e,["parameters","outputOptions","compressionQuality"],A);const M=c(t,["addWatermark"]);e!==void 0&&M!=null&&h(e,["parameters","addWatermark"],M);const j=c(t,["labels"]);e!==void 0&&j!=null&&h(e,["labels"],j);const B=c(t,["editMode"]);e!==void 0&&B!=null&&h(e,["parameters","editMode"],B);const F=c(t,["baseSteps"]);return e!==void 0&&F!=null&&h(e,["parameters","editConfig","baseSteps"],F),n}function pw(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["prompt"]);a!=null&&h(n,["instances[0]","prompt"],a);const d=c(e,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>gT(v))),h(n,["instances[0]","referenceImages"],g)}const f=c(e,["config"]);return f!=null&&fw(f,n),n}function mw(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(d=>Xl(d))),h(e,["generatedImages"],a)}return e}function gw(t,e){const n={},s=c(t,["taskType"]);e!==void 0&&s!=null&&h(e,["requests[]","taskType"],s);const a=c(t,["title"]);e!==void 0&&a!=null&&h(e,["requests[]","title"],a);const d=c(t,["outputDimensionality"]);if(e!==void 0&&d!=null&&h(e,["requests[]","outputDimensionality"],d),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function vw(t,e){const n={},s=c(t,["taskType"]);e!==void 0&&s!=null&&h(e,["instances[]","task_type"],s);const a=c(t,["title"]);e!==void 0&&a!=null&&h(e,["instances[]","title"],a);const d=c(t,["outputDimensionality"]);e!==void 0&&d!=null&&h(e,["parameters","outputDimensionality"],d);const f=c(t,["mimeType"]);e!==void 0&&f!=null&&h(e,["instances[]","mimeType"],f);const g=c(t,["autoTruncate"]);return e!==void 0&&g!=null&&h(e,["parameters","autoTruncate"],g),n}function yw(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["contents"]);if(a!=null){let g=Cd(t,a);Array.isArray(g)&&(g=g.map(v=>v)),h(n,["requests[]","content"],g)}const d=c(e,["config"]);d!=null&&gw(d,n);const f=c(e,["model"]);return f!==void 0&&h(n,["requests[]","model"],Oe(t,f)),n}function _w(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["contents"]);if(a!=null){let f=Cd(t,a);Array.isArray(f)&&(f=f.map(g=>g)),h(n,["instances[]","content"],f)}const d=c(e,["config"]);return d!=null&&vw(d,n),n}function xw(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["embeddings"],d)}const a=c(t,["metadata"]);return a!=null&&h(e,["metadata"],a),e}function ww(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>ew(f))),h(e,["embeddings"],d)}const a=c(t,["metadata"]);return a!=null&&h(e,["metadata"],a),e}function Tw(t){const e={},n=c(t,["endpoint"]);n!=null&&h(e,["name"],n);const s=c(t,["deployedModelId"]);return s!=null&&h(e,["deployedModelId"],s),e}function Cw(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const s=c(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Sw(t){const e={},n=c(t,["id"]);n!=null&&h(e,["id"],n);const s=c(t,["args"]);s!=null&&h(e,["args"],s);const a=c(t,["name"]);if(a!=null&&h(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ew(t){const e={},n=c(t,["allowedFunctionNames"]);n!=null&&h(e,["allowedFunctionNames"],n);const s=c(t,["mode"]);if(s!=null&&h(e,["mode"],s),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Nw(t){const e={},n=c(t,["description"]);n!=null&&h(e,["description"],n);const s=c(t,["name"]);s!=null&&h(e,["name"],s);const a=c(t,["parameters"]);a!=null&&h(e,["parameters"],a);const d=c(t,["parametersJsonSchema"]);d!=null&&h(e,["parametersJsonSchema"],d);const f=c(t,["response"]);f!=null&&h(e,["response"],f);const g=c(t,["responseJsonSchema"]);if(g!=null&&h(e,["responseJsonSchema"],g),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function bw(t,e,n){const s={},a=c(e,["systemInstruction"]);n!==void 0&&a!=null&&h(n,["systemInstruction"],Ql(Pt(a)));const d=c(e,["temperature"]);d!=null&&h(s,["temperature"],d);const f=c(e,["topP"]);f!=null&&h(s,["topP"],f);const g=c(e,["topK"]);g!=null&&h(s,["topK"],g);const v=c(e,["candidateCount"]);v!=null&&h(s,["candidateCount"],v);const y=c(e,["maxOutputTokens"]);y!=null&&h(s,["maxOutputTokens"],y);const T=c(e,["stopSequences"]);T!=null&&h(s,["stopSequences"],T);const E=c(e,["responseLogprobs"]);E!=null&&h(s,["responseLogprobs"],E);const N=c(e,["logprobs"]);N!=null&&h(s,["logprobs"],N);const b=c(e,["presencePenalty"]);b!=null&&h(s,["presencePenalty"],b);const I=c(e,["frequencyPenalty"]);I!=null&&h(s,["frequencyPenalty"],I);const A=c(e,["seed"]);A!=null&&h(s,["seed"],A);const M=c(e,["responseMimeType"]);M!=null&&h(s,["responseMimeType"],M);const j=c(e,["responseSchema"]);j!=null&&h(s,["responseSchema"],Sd(j));const B=c(e,["responseJsonSchema"]);if(B!=null&&h(s,["responseJsonSchema"],B),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=c(e,["safetySettings"]);if(n!==void 0&&F!=null){let Re=F;Array.isArray(Re)&&(Re=Re.map(He=>vT(He))),h(n,["safetySettings"],Re)}const Y=c(e,["tools"]);if(n!==void 0&&Y!=null){let Re=Wr(Y);Array.isArray(Re)&&(Re=Re.map(He=>ST(jr(He)))),h(n,["tools"],Re)}const ie=c(e,["toolConfig"]);if(n!==void 0&&ie!=null&&h(n,["toolConfig"],CT(ie)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=c(e,["cachedContent"]);n!==void 0&&se!=null&&h(n,["cachedContent"],Ti(t,se));const ae=c(e,["responseModalities"]);ae!=null&&h(s,["responseModalities"],ae);const Pe=c(e,["mediaResolution"]);Pe!=null&&h(s,["mediaResolution"],Pe);const le=c(e,["speechConfig"]);if(le!=null&&h(s,["speechConfig"],Ed(le)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ce=c(e,["thinkingConfig"]);Ce!=null&&h(s,["thinkingConfig"],Ce);const Ie=c(e,["imageConfig"]);Ie!=null&&h(s,["imageConfig"],eT(Ie));const Be=c(e,["enableEnhancedCivicAnswers"]);if(Be!=null&&h(s,["enableEnhancedCivicAnswers"],Be),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function kw(t,e,n){const s={},a=c(e,["systemInstruction"]);n!==void 0&&a!=null&&h(n,["systemInstruction"],Pt(a));const d=c(e,["temperature"]);d!=null&&h(s,["temperature"],d);const f=c(e,["topP"]);f!=null&&h(s,["topP"],f);const g=c(e,["topK"]);g!=null&&h(s,["topK"],g);const v=c(e,["candidateCount"]);v!=null&&h(s,["candidateCount"],v);const y=c(e,["maxOutputTokens"]);y!=null&&h(s,["maxOutputTokens"],y);const T=c(e,["stopSequences"]);T!=null&&h(s,["stopSequences"],T);const E=c(e,["responseLogprobs"]);E!=null&&h(s,["responseLogprobs"],E);const N=c(e,["logprobs"]);N!=null&&h(s,["logprobs"],N);const b=c(e,["presencePenalty"]);b!=null&&h(s,["presencePenalty"],b);const I=c(e,["frequencyPenalty"]);I!=null&&h(s,["frequencyPenalty"],I);const A=c(e,["seed"]);A!=null&&h(s,["seed"],A);const M=c(e,["responseMimeType"]);M!=null&&h(s,["responseMimeType"],M);const j=c(e,["responseSchema"]);j!=null&&h(s,["responseSchema"],Sd(j));const B=c(e,["responseJsonSchema"]);B!=null&&h(s,["responseJsonSchema"],B);const F=c(e,["routingConfig"]);F!=null&&h(s,["routingConfig"],F);const Y=c(e,["modelSelectionConfig"]);Y!=null&&h(s,["modelConfig"],Y);const ie=c(e,["safetySettings"]);if(n!==void 0&&ie!=null){let Me=ie;Array.isArray(Me)&&(Me=Me.map($=>$)),h(n,["safetySettings"],Me)}const se=c(e,["tools"]);if(n!==void 0&&se!=null){let Me=Wr(se);Array.isArray(Me)&&(Me=Me.map($=>jm(jr($)))),h(n,["tools"],Me)}const ae=c(e,["toolConfig"]);n!==void 0&&ae!=null&&h(n,["toolConfig"],ae);const Pe=c(e,["labels"]);n!==void 0&&Pe!=null&&h(n,["labels"],Pe);const le=c(e,["cachedContent"]);n!==void 0&&le!=null&&h(n,["cachedContent"],Ti(t,le));const Ce=c(e,["responseModalities"]);Ce!=null&&h(s,["responseModalities"],Ce);const Ie=c(e,["mediaResolution"]);Ie!=null&&h(s,["mediaResolution"],Ie);const Be=c(e,["speechConfig"]);Be!=null&&h(s,["speechConfig"],Ed(Be));const Re=c(e,["audioTimestamp"]);Re!=null&&h(s,["audioTimestamp"],Re);const He=c(e,["thinkingConfig"]);He!=null&&h(s,["thinkingConfig"],He);const It=c(e,["imageConfig"]);if(It!=null&&h(s,["imageConfig"],tT(It)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const qe=c(e,["modelArmorConfig"]);return n!==void 0&&qe!=null&&h(n,["modelArmorConfig"],qe),s}function zp(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["contents"]);if(a!=null){let f=gn(a);Array.isArray(f)&&(f=f.map(g=>Ql(g))),h(n,["contents"],f)}const d=c(e,["config"]);return d!=null&&h(n,["generationConfig"],bw(t,d,n)),n}function Hp(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["contents"]);if(a!=null){let f=gn(a);Array.isArray(f)&&(f=f.map(g=>g)),h(n,["contents"],f)}const d=c(e,["config"]);return d!=null&&h(n,["generationConfig"],kw(t,d,n)),n}function Gp(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(y=>Zx(y))),h(e,["candidates"],v)}const a=c(t,["modelVersion"]);a!=null&&h(e,["modelVersion"],a);const d=c(t,["promptFeedback"]);d!=null&&h(e,["promptFeedback"],d);const f=c(t,["responseId"]);f!=null&&h(e,["responseId"],f);const g=c(t,["usageMetadata"]);return g!=null&&h(e,["usageMetadata"],g),e}function Op(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(T=>T)),h(e,["candidates"],y)}const a=c(t,["createTime"]);a!=null&&h(e,["createTime"],a);const d=c(t,["modelVersion"]);d!=null&&h(e,["modelVersion"],d);const f=c(t,["promptFeedback"]);f!=null&&h(e,["promptFeedback"],f);const g=c(t,["responseId"]);g!=null&&h(e,["responseId"],g);const v=c(t,["usageMetadata"]);return v!=null&&h(e,["usageMetadata"],v),e}function Pw(t,e){const n={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const a=c(t,["aspectRatio"]);e!==void 0&&a!=null&&h(e,["parameters","aspectRatio"],a);const d=c(t,["guidanceScale"]);if(e!==void 0&&d!=null&&h(e,["parameters","guidanceScale"],d),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&h(e,["parameters","safetySetting"],f);const g=c(t,["personGeneration"]);e!==void 0&&g!=null&&h(e,["parameters","personGeneration"],g);const v=c(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&h(e,["parameters","includeSafetyAttributes"],v);const y=c(t,["includeRaiReason"]);e!==void 0&&y!=null&&h(e,["parameters","includeRaiReason"],y);const T=c(t,["language"]);e!==void 0&&T!=null&&h(e,["parameters","language"],T);const E=c(t,["outputMimeType"]);e!==void 0&&E!=null&&h(e,["parameters","outputOptions","mimeType"],E);const N=c(t,["outputCompressionQuality"]);if(e!==void 0&&N!=null&&h(e,["parameters","outputOptions","compressionQuality"],N),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=c(t,["imageSize"]);if(e!==void 0&&b!=null&&h(e,["parameters","sampleImageSize"],b),c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Iw(t,e){const n={},s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&h(e,["parameters","storageUri"],s);const a=c(t,["negativePrompt"]);e!==void 0&&a!=null&&h(e,["parameters","negativePrompt"],a);const d=c(t,["numberOfImages"]);e!==void 0&&d!=null&&h(e,["parameters","sampleCount"],d);const f=c(t,["aspectRatio"]);e!==void 0&&f!=null&&h(e,["parameters","aspectRatio"],f);const g=c(t,["guidanceScale"]);e!==void 0&&g!=null&&h(e,["parameters","guidanceScale"],g);const v=c(t,["seed"]);e!==void 0&&v!=null&&h(e,["parameters","seed"],v);const y=c(t,["safetyFilterLevel"]);e!==void 0&&y!=null&&h(e,["parameters","safetySetting"],y);const T=c(t,["personGeneration"]);e!==void 0&&T!=null&&h(e,["parameters","personGeneration"],T);const E=c(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&h(e,["parameters","includeSafetyAttributes"],E);const N=c(t,["includeRaiReason"]);e!==void 0&&N!=null&&h(e,["parameters","includeRaiReason"],N);const b=c(t,["language"]);e!==void 0&&b!=null&&h(e,["parameters","language"],b);const I=c(t,["outputMimeType"]);e!==void 0&&I!=null&&h(e,["parameters","outputOptions","mimeType"],I);const A=c(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&h(e,["parameters","outputOptions","compressionQuality"],A);const M=c(t,["addWatermark"]);e!==void 0&&M!=null&&h(e,["parameters","addWatermark"],M);const j=c(t,["labels"]);e!==void 0&&j!=null&&h(e,["labels"],j);const B=c(t,["imageSize"]);e!==void 0&&B!=null&&h(e,["parameters","sampleImageSize"],B);const F=c(t,["enhancePrompt"]);return e!==void 0&&F!=null&&h(e,["parameters","enhancePrompt"],F),n}function Aw(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["prompt"]);a!=null&&h(n,["instances[0]","prompt"],a);const d=c(e,["config"]);return d!=null&&Pw(d,n),n}function Rw(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["prompt"]);a!=null&&h(n,["instances[0]","prompt"],a);const d=c(e,["config"]);return d!=null&&Iw(d,n),n}function Mw(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>jw(f))),h(e,["generatedImages"],d)}const a=c(t,["positivePromptSafetyAttributes"]);return a!=null&&h(e,["positivePromptSafetyAttributes"],Om(a)),e}function Lw(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>Xl(f))),h(e,["generatedImages"],d)}const a=c(t,["positivePromptSafetyAttributes"]);return a!=null&&h(e,["positivePromptSafetyAttributes"],qm(a)),e}function Dw(t,e){const n={},s=c(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=c(t,["durationSeconds"]);if(e!==void 0&&a!=null&&h(e,["parameters","durationSeconds"],a),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(t,["aspectRatio"]);e!==void 0&&d!=null&&h(e,["parameters","aspectRatio"],d);const f=c(t,["resolution"]);e!==void 0&&f!=null&&h(e,["parameters","resolution"],f);const g=c(t,["personGeneration"]);if(e!==void 0&&g!=null&&h(e,["parameters","personGeneration"],g),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=c(t,["negativePrompt"]);e!==void 0&&v!=null&&h(e,["parameters","negativePrompt"],v);const y=c(t,["enhancePrompt"]);if(e!==void 0&&y!=null&&h(e,["parameters","enhancePrompt"],y),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=c(t,["lastFrame"]);e!==void 0&&T!=null&&h(e,["instances[0]","lastFrame"],eu(T));const E=c(t,["referenceImages"]);if(e!==void 0&&E!=null){let N=E;Array.isArray(N)&&(N=N.map(b=>FT(b))),h(e,["instances[0]","referenceImages"],N)}if(c(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Uw(t,e){const n={},s=c(t,["numberOfVideos"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const a=c(t,["outputGcsUri"]);e!==void 0&&a!=null&&h(e,["parameters","storageUri"],a);const d=c(t,["fps"]);e!==void 0&&d!=null&&h(e,["parameters","fps"],d);const f=c(t,["durationSeconds"]);e!==void 0&&f!=null&&h(e,["parameters","durationSeconds"],f);const g=c(t,["seed"]);e!==void 0&&g!=null&&h(e,["parameters","seed"],g);const v=c(t,["aspectRatio"]);e!==void 0&&v!=null&&h(e,["parameters","aspectRatio"],v);const y=c(t,["resolution"]);e!==void 0&&y!=null&&h(e,["parameters","resolution"],y);const T=c(t,["personGeneration"]);e!==void 0&&T!=null&&h(e,["parameters","personGeneration"],T);const E=c(t,["pubsubTopic"]);e!==void 0&&E!=null&&h(e,["parameters","pubsubTopic"],E);const N=c(t,["negativePrompt"]);e!==void 0&&N!=null&&h(e,["parameters","negativePrompt"],N);const b=c(t,["enhancePrompt"]);e!==void 0&&b!=null&&h(e,["parameters","enhancePrompt"],b);const I=c(t,["generateAudio"]);e!==void 0&&I!=null&&h(e,["parameters","generateAudio"],I);const A=c(t,["lastFrame"]);e!==void 0&&A!=null&&h(e,["instances[0]","lastFrame"],Ln(A));const M=c(t,["referenceImages"]);if(e!==void 0&&M!=null){let F=M;Array.isArray(F)&&(F=F.map(Y=>VT(Y))),h(e,["instances[0]","referenceImages"],F)}const j=c(t,["mask"]);e!==void 0&&j!=null&&h(e,["instances[0]","mask"],UT(j));const B=c(t,["compressionQuality"]);return e!==void 0&&B!=null&&h(e,["parameters","compressionQuality"],B),n}function Fw(t){const e={},n=c(t,["name"]);n!=null&&h(e,["name"],n);const s=c(t,["metadata"]);s!=null&&h(e,["metadata"],s);const a=c(t,["done"]);a!=null&&h(e,["done"],a);const d=c(t,["error"]);d!=null&&h(e,["error"],d);const f=c(t,["response","generateVideoResponse"]);return f!=null&&h(e,["response"],Hw(f)),e}function Vw(t){const e={},n=c(t,["name"]);n!=null&&h(e,["name"],n);const s=c(t,["metadata"]);s!=null&&h(e,["metadata"],s);const a=c(t,["done"]);a!=null&&h(e,["done"],a);const d=c(t,["error"]);d!=null&&h(e,["error"],d);const f=c(t,["response"]);return f!=null&&h(e,["response"],Gw(f)),e}function Bw(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["prompt"]);a!=null&&h(n,["instances[0]","prompt"],a);const d=c(e,["image"]);d!=null&&h(n,["instances[0]","image"],eu(d));const f=c(e,["video"]);f!=null&&h(n,["instances[0]","video"],Wm(f));const g=c(e,["source"]);g!=null&&Ow(g,n);const v=c(e,["config"]);return v!=null&&Dw(v,n),n}function zw(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["prompt"]);a!=null&&h(n,["instances[0]","prompt"],a);const d=c(e,["image"]);d!=null&&h(n,["instances[0]","image"],Ln(d));const f=c(e,["video"]);f!=null&&h(n,["instances[0]","video"],Km(f));const g=c(e,["source"]);g!=null&&qw(g,n);const v=c(e,["config"]);return v!=null&&Uw(v,n),n}function Hw(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>Kw(f))),h(e,["generatedVideos"],d)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function Gw(t){const e={},n=c(t,["videos"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>$w(f))),h(e,["generatedVideos"],d)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function Ow(t,e){const n={},s=c(t,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const a=c(t,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],eu(a));const d=c(t,["video"]);return e!==void 0&&d!=null&&h(e,["instances[0]","video"],Wm(d)),n}function qw(t,e){const n={},s=c(t,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const a=c(t,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],Ln(a));const d=c(t,["video"]);return e!==void 0&&d!=null&&h(e,["instances[0]","video"],Km(d)),n}function jw(t){const e={},n=c(t,["_self"]);n!=null&&h(e,["image"],nT(n));const s=c(t,["raiFilteredReason"]);s!=null&&h(e,["raiFilteredReason"],s);const a=c(t,["_self"]);return a!=null&&h(e,["safetyAttributes"],Om(a)),e}function Xl(t){const e={},n=c(t,["_self"]);n!=null&&h(e,["image"],Gm(n));const s=c(t,["raiFilteredReason"]);s!=null&&h(e,["raiFilteredReason"],s);const a=c(t,["_self"]);a!=null&&h(e,["safetyAttributes"],qm(a));const d=c(t,["prompt"]);return d!=null&&h(e,["enhancedPrompt"],d),e}function Ww(t){const e={},n=c(t,["_self"]);n!=null&&h(e,["mask"],Gm(n));const s=c(t,["labels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(d=>d)),h(e,["labels"],a)}return e}function Kw(t){const e={},n=c(t,["video"]);return n!=null&&h(e,["video"],LT(n)),e}function $w(t){const e={},n=c(t,["_self"]);return n!=null&&h(e,["video"],DT(n)),e}function Jw(t){const e={},n=c(t,["modelSelectionConfig"]);n!=null&&h(e,["modelConfig"],n);const s=c(t,["responseJsonSchema"]);s!=null&&h(e,["responseJsonSchema"],s);const a=c(t,["audioTimestamp"]);a!=null&&h(e,["audioTimestamp"],a);const d=c(t,["candidateCount"]);d!=null&&h(e,["candidateCount"],d);const f=c(t,["enableAffectiveDialog"]);f!=null&&h(e,["enableAffectiveDialog"],f);const g=c(t,["frequencyPenalty"]);g!=null&&h(e,["frequencyPenalty"],g);const v=c(t,["logprobs"]);v!=null&&h(e,["logprobs"],v);const y=c(t,["maxOutputTokens"]);y!=null&&h(e,["maxOutputTokens"],y);const T=c(t,["mediaResolution"]);T!=null&&h(e,["mediaResolution"],T);const E=c(t,["presencePenalty"]);E!=null&&h(e,["presencePenalty"],E);const N=c(t,["responseLogprobs"]);N!=null&&h(e,["responseLogprobs"],N);const b=c(t,["responseMimeType"]);b!=null&&h(e,["responseMimeType"],b);const I=c(t,["responseModalities"]);I!=null&&h(e,["responseModalities"],I);const A=c(t,["responseSchema"]);A!=null&&h(e,["responseSchema"],A);const M=c(t,["routingConfig"]);M!=null&&h(e,["routingConfig"],M);const j=c(t,["seed"]);j!=null&&h(e,["seed"],j);const B=c(t,["speechConfig"]);B!=null&&h(e,["speechConfig"],B);const F=c(t,["stopSequences"]);F!=null&&h(e,["stopSequences"],F);const Y=c(t,["temperature"]);Y!=null&&h(e,["temperature"],Y);const ie=c(t,["thinkingConfig"]);ie!=null&&h(e,["thinkingConfig"],ie);const se=c(t,["topK"]);se!=null&&h(e,["topK"],se);const ae=c(t,["topP"]);if(ae!=null&&h(e,["topP"],ae),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Zw(t,e){const n={},s=c(e,["model"]);return s!=null&&h(n,["_url","name"],Oe(t,s)),n}function Yw(t,e){const n={},s=c(e,["model"]);return s!=null&&h(n,["_url","name"],Oe(t,s)),n}function Qw(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function Xw(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function eT(t){const e={},n=c(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const s=c(t,["imageSize"]);if(s!=null&&h(e,["imageSize"],s),c(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function tT(t){const e={},n=c(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const s=c(t,["imageSize"]);s!=null&&h(e,["imageSize"],s);const a=c(t,["personGeneration"]);a!=null&&h(e,["personGeneration"],a);const d=c(t,["outputMimeType"]);d!=null&&h(e,["imageOutputOptions","mimeType"],d);const f=c(t,["outputCompressionQuality"]);return f!=null&&h(e,["imageOutputOptions","compressionQuality"],f),e}function nT(t){const e={},n=c(t,["bytesBase64Encoded"]);n!=null&&h(e,["imageBytes"],uo(n));const s=c(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Gm(t){const e={},n=c(t,["gcsUri"]);n!=null&&h(e,["gcsUri"],n);const s=c(t,["bytesBase64Encoded"]);s!=null&&h(e,["imageBytes"],uo(s));const a=c(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function eu(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(t,["imageBytes"]);n!=null&&h(e,["bytesBase64Encoded"],uo(n));const s=c(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Ln(t){const e={},n=c(t,["gcsUri"]);n!=null&&h(e,["gcsUri"],n);const s=c(t,["imageBytes"]);s!=null&&h(e,["bytesBase64Encoded"],uo(s));const a=c(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function iT(t,e,n){const s={},a=c(e,["pageSize"]);n!==void 0&&a!=null&&h(n,["_query","pageSize"],a);const d=c(e,["pageToken"]);n!==void 0&&d!=null&&h(n,["_query","pageToken"],d);const f=c(e,["filter"]);n!==void 0&&f!=null&&h(n,["_query","filter"],f);const g=c(e,["queryBase"]);return n!==void 0&&g!=null&&h(n,["_url","models_url"],Dm(t,g)),s}function oT(t,e,n){const s={},a=c(e,["pageSize"]);n!==void 0&&a!=null&&h(n,["_query","pageSize"],a);const d=c(e,["pageToken"]);n!==void 0&&d!=null&&h(n,["_query","pageToken"],d);const f=c(e,["filter"]);n!==void 0&&f!=null&&h(n,["_query","filter"],f);const g=c(e,["queryBase"]);return n!==void 0&&g!=null&&h(n,["_url","models_url"],Dm(t,g)),s}function rT(t,e){const n={},s=c(e,["config"]);return s!=null&&iT(t,s,n),n}function sT(t,e){const n={},s=c(e,["config"]);return s!=null&&oT(t,s,n),n}function aT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const a=c(t,["_self"]);if(a!=null){let d=Um(a);Array.isArray(d)&&(d=d.map(f=>Qc(f))),h(e,["models"],d)}return e}function lT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const a=c(t,["_self"]);if(a!=null){let d=Um(a);Array.isArray(d)&&(d=d.map(f=>Xc(f))),h(e,["models"],d)}return e}function uT(t){const e={},n=c(t,["maskMode"]);n!=null&&h(e,["maskMode"],n);const s=c(t,["segmentationClasses"]);s!=null&&h(e,["maskClasses"],s);const a=c(t,["maskDilation"]);return a!=null&&h(e,["dilation"],a),e}function Qc(t){const e={},n=c(t,["name"]);n!=null&&h(e,["name"],n);const s=c(t,["displayName"]);s!=null&&h(e,["displayName"],s);const a=c(t,["description"]);a!=null&&h(e,["description"],a);const d=c(t,["version"]);d!=null&&h(e,["version"],d);const f=c(t,["_self"]);f!=null&&h(e,["tunedModelInfo"],ET(f));const g=c(t,["inputTokenLimit"]);g!=null&&h(e,["inputTokenLimit"],g);const v=c(t,["outputTokenLimit"]);v!=null&&h(e,["outputTokenLimit"],v);const y=c(t,["supportedGenerationMethods"]);y!=null&&h(e,["supportedActions"],y);const T=c(t,["temperature"]);T!=null&&h(e,["temperature"],T);const E=c(t,["maxTemperature"]);E!=null&&h(e,["maxTemperature"],E);const N=c(t,["topP"]);N!=null&&h(e,["topP"],N);const b=c(t,["topK"]);b!=null&&h(e,["topK"],b);const I=c(t,["thinking"]);return I!=null&&h(e,["thinking"],I),e}function Xc(t){const e={},n=c(t,["name"]);n!=null&&h(e,["name"],n);const s=c(t,["displayName"]);s!=null&&h(e,["displayName"],s);const a=c(t,["description"]);a!=null&&h(e,["description"],a);const d=c(t,["versionId"]);d!=null&&h(e,["version"],d);const f=c(t,["deployedModels"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(N=>Tw(N))),h(e,["endpoints"],E)}const g=c(t,["labels"]);g!=null&&h(e,["labels"],g);const v=c(t,["_self"]);v!=null&&h(e,["tunedModelInfo"],NT(v));const y=c(t,["defaultCheckpointId"]);y!=null&&h(e,["defaultCheckpointId"],y);const T=c(t,["checkpoints"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(N=>N)),h(e,["checkpoints"],E)}return e}function cT(t){const e={},n=c(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const s=c(t,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const d=c(t,["fileData"]);d!=null&&h(e,["fileData"],Cw(d));const f=c(t,["functionCall"]);f!=null&&h(e,["functionCall"],Sw(f));const g=c(t,["functionResponse"]);g!=null&&h(e,["functionResponse"],g);const v=c(t,["inlineData"]);v!=null&&h(e,["inlineData"],Jx(v));const y=c(t,["text"]);y!=null&&h(e,["text"],y);const T=c(t,["thought"]);T!=null&&h(e,["thought"],T);const E=c(t,["thoughtSignature"]);E!=null&&h(e,["thoughtSignature"],E);const N=c(t,["videoMetadata"]);return N!=null&&h(e,["videoMetadata"],N),e}function dT(t){const e={},n=c(t,["productImage"]);return n!=null&&h(e,["image"],Ln(n)),e}function hT(t,e){const n={},s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const a=c(t,["baseSteps"]);e!==void 0&&a!=null&&h(e,["parameters","baseSteps"],a);const d=c(t,["outputGcsUri"]);e!==void 0&&d!=null&&h(e,["parameters","storageUri"],d);const f=c(t,["seed"]);e!==void 0&&f!=null&&h(e,["parameters","seed"],f);const g=c(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&h(e,["parameters","safetySetting"],g);const v=c(t,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const y=c(t,["addWatermark"]);e!==void 0&&y!=null&&h(e,["parameters","addWatermark"],y);const T=c(t,["outputMimeType"]);e!==void 0&&T!=null&&h(e,["parameters","outputOptions","mimeType"],T);const E=c(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&h(e,["parameters","outputOptions","compressionQuality"],E);const N=c(t,["enhancePrompt"]);e!==void 0&&N!=null&&h(e,["parameters","enhancePrompt"],N);const b=c(t,["labels"]);return e!==void 0&&b!=null&&h(e,["labels"],b),n}function fT(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["source"]);a!=null&&mT(a,n);const d=c(e,["config"]);return d!=null&&hT(d,n),n}function pT(t){const e={},n=c(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Xl(a))),h(e,["generatedImages"],s)}return e}function mT(t,e){const n={},s=c(t,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const a=c(t,["personImage"]);e!==void 0&&a!=null&&h(e,["instances[0]","personImage","image"],Ln(a));const d=c(t,["productImages"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(g=>dT(g))),h(e,["instances[0]","productImages"],f)}return n}function gT(t){const e={},n=c(t,["referenceImage"]);n!=null&&h(e,["referenceImage"],Ln(n));const s=c(t,["referenceId"]);s!=null&&h(e,["referenceId"],s);const a=c(t,["referenceType"]);a!=null&&h(e,["referenceType"],a);const d=c(t,["maskImageConfig"]);d!=null&&h(e,["maskImageConfig"],uT(d));const f=c(t,["controlImageConfig"]);f!=null&&h(e,["controlImageConfig"],nw(f));const g=c(t,["styleImageConfig"]);g!=null&&h(e,["styleImageConfig"],g);const v=c(t,["subjectImageConfig"]);return v!=null&&h(e,["subjectImageConfig"],v),e}function Om(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&h(e,["categories"],n);const s=c(t,["safetyAttributes","scores"]);s!=null&&h(e,["scores"],s);const a=c(t,["contentType"]);return a!=null&&h(e,["contentType"],a),e}function qm(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&h(e,["categories"],n);const s=c(t,["safetyAttributes","scores"]);s!=null&&h(e,["scores"],s);const a=c(t,["contentType"]);return a!=null&&h(e,["contentType"],a),e}function vT(t){const e={},n=c(t,["category"]);if(n!=null&&h(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(t,["threshold"]);return s!=null&&h(e,["threshold"],s),e}function yT(t){const e={},n=c(t,["image"]);return n!=null&&h(e,["image"],Ln(n)),e}function _T(t,e){const n={},s=c(t,["mode"]);e!==void 0&&s!=null&&h(e,["parameters","mode"],s);const a=c(t,["maxPredictions"]);e!==void 0&&a!=null&&h(e,["parameters","maxPredictions"],a);const d=c(t,["confidenceThreshold"]);e!==void 0&&d!=null&&h(e,["parameters","confidenceThreshold"],d);const f=c(t,["maskDilation"]);e!==void 0&&f!=null&&h(e,["parameters","maskDilation"],f);const g=c(t,["binaryColorThreshold"]);e!==void 0&&g!=null&&h(e,["parameters","binaryColorThreshold"],g);const v=c(t,["labels"]);return e!==void 0&&v!=null&&h(e,["labels"],v),n}function xT(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["source"]);a!=null&&TT(a,n);const d=c(e,["config"]);return d!=null&&_T(d,n),n}function wT(t){const e={},n=c(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Ww(a))),h(e,["generatedMasks"],s)}return e}function TT(t,e){const n={},s=c(t,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const a=c(t,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],Ln(a));const d=c(t,["scribbleImage"]);return e!==void 0&&d!=null&&h(e,["instances[0]","scribble"],yT(d)),n}function CT(t){const e={},n=c(t,["retrievalConfig"]);n!=null&&h(e,["retrievalConfig"],n);const s=c(t,["functionCallingConfig"]);return s!=null&&h(e,["functionCallingConfig"],Ew(s)),e}function ST(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=c(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const s=c(t,["fileSearch"]);s!=null&&h(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&h(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=c(t,["functionDeclarations"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(E=>E)),h(e,["functionDeclarations"],T)}const f=c(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],Qw(f));const g=c(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],Xw(g));const v=c(t,["googleSearchRetrieval"]);v!=null&&h(e,["googleSearchRetrieval"],v);const y=c(t,["urlContext"]);return y!=null&&h(e,["urlContext"],y),e}function jm(t){const e={},n=c(t,["retrieval"]);n!=null&&h(e,["retrieval"],n);const s=c(t,["computerUse"]);if(s!=null&&h(e,["computerUse"],s),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(t,["codeExecution"]);a!=null&&h(e,["codeExecution"],a);const d=c(t,["enterpriseWebSearch"]);d!=null&&h(e,["enterpriseWebSearch"],d);const f=c(t,["functionDeclarations"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(N=>Nw(N))),h(e,["functionDeclarations"],E)}const g=c(t,["googleMaps"]);g!=null&&h(e,["googleMaps"],g);const v=c(t,["googleSearch"]);v!=null&&h(e,["googleSearch"],v);const y=c(t,["googleSearchRetrieval"]);y!=null&&h(e,["googleSearchRetrieval"],y);const T=c(t,["urlContext"]);return T!=null&&h(e,["urlContext"],T),e}function ET(t){const e={},n=c(t,["baseModel"]);n!=null&&h(e,["baseModel"],n);const s=c(t,["createTime"]);s!=null&&h(e,["createTime"],s);const a=c(t,["updateTime"]);return a!=null&&h(e,["updateTime"],a),e}function NT(t){const e={},n=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&h(e,["baseModel"],n);const s=c(t,["createTime"]);s!=null&&h(e,["createTime"],s);const a=c(t,["updateTime"]);return a!=null&&h(e,["updateTime"],a),e}function bT(t,e){const n={},s=c(t,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const a=c(t,["description"]);e!==void 0&&a!=null&&h(e,["description"],a);const d=c(t,["defaultCheckpointId"]);return e!==void 0&&d!=null&&h(e,["defaultCheckpointId"],d),n}function kT(t,e){const n={},s=c(t,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const a=c(t,["description"]);e!==void 0&&a!=null&&h(e,["description"],a);const d=c(t,["defaultCheckpointId"]);return e!==void 0&&d!=null&&h(e,["defaultCheckpointId"],d),n}function PT(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","name"],Oe(t,s));const a=c(e,["config"]);return a!=null&&bT(a,n),n}function IT(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["config"]);return a!=null&&kT(a,n),n}function AT(t,e){const n={},s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&h(e,["parameters","storageUri"],s);const a=c(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&h(e,["parameters","safetySetting"],a);const d=c(t,["personGeneration"]);e!==void 0&&d!=null&&h(e,["parameters","personGeneration"],d);const f=c(t,["includeRaiReason"]);e!==void 0&&f!=null&&h(e,["parameters","includeRaiReason"],f);const g=c(t,["outputMimeType"]);e!==void 0&&g!=null&&h(e,["parameters","outputOptions","mimeType"],g);const v=c(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&h(e,["parameters","outputOptions","compressionQuality"],v);const y=c(t,["enhanceInputImage"]);e!==void 0&&y!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],y);const T=c(t,["imagePreservationFactor"]);e!==void 0&&T!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],T);const E=c(t,["labels"]);e!==void 0&&E!=null&&h(e,["labels"],E);const N=c(t,["numberOfImages"]);e!==void 0&&N!=null&&h(e,["parameters","sampleCount"],N);const b=c(t,["mode"]);return e!==void 0&&b!=null&&h(e,["parameters","mode"],b),n}function RT(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["_url","model"],Oe(t,s));const a=c(e,["image"]);a!=null&&h(n,["instances[0]","image"],Ln(a));const d=c(e,["upscaleFactor"]);d!=null&&h(n,["parameters","upscaleConfig","upscaleFactor"],d);const f=c(e,["config"]);return f!=null&&AT(f,n),n}function MT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(d=>Xl(d))),h(e,["generatedImages"],a)}return e}function LT(t){const e={},n=c(t,["uri"]);n!=null&&h(e,["uri"],n);const s=c(t,["encodedVideo"]);s!=null&&h(e,["videoBytes"],uo(s));const a=c(t,["encoding"]);return a!=null&&h(e,["mimeType"],a),e}function DT(t){const e={},n=c(t,["gcsUri"]);n!=null&&h(e,["uri"],n);const s=c(t,["bytesBase64Encoded"]);s!=null&&h(e,["videoBytes"],uo(s));const a=c(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function UT(t){const e={},n=c(t,["image"]);n!=null&&h(e,["_self"],Ln(n));const s=c(t,["maskMode"]);return s!=null&&h(e,["maskMode"],s),e}function FT(t){const e={},n=c(t,["image"]);n!=null&&h(e,["image"],eu(n));const s=c(t,["referenceType"]);return s!=null&&h(e,["referenceType"],s),e}function VT(t){const e={},n=c(t,["image"]);n!=null&&h(e,["image"],Ln(n));const s=c(t,["referenceType"]);return s!=null&&h(e,["referenceType"],s),e}function Wm(t){const e={},n=c(t,["uri"]);n!=null&&h(e,["uri"],n);const s=c(t,["videoBytes"]);s!=null&&h(e,["encodedVideo"],uo(s));const a=c(t,["mimeType"]);return a!=null&&h(e,["encoding"],a),e}function Km(t){const e={},n=c(t,["uri"]);n!=null&&h(e,["gcsUri"],n);const s=c(t,["videoBytes"]);s!=null&&h(e,["bytesBase64Encoded"],uo(s));const a=c(t,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BT(t,e){const n={},s=c(t,["displayName"]);return e!==void 0&&s!=null&&h(e,["displayName"],s),n}function zT(t){const e={},n=c(t,["config"]);return n!=null&&BT(n,e),e}function HT(t,e){const n={},s=c(t,["force"]);return e!==void 0&&s!=null&&h(e,["_query","force"],s),n}function GT(t){const e={},n=c(t,["name"]);n!=null&&h(e,["_url","name"],n);const s=c(t,["config"]);return s!=null&&HT(s,e),e}function OT(t){const e={},n=c(t,["name"]);return n!=null&&h(e,["_url","name"],n),e}function qT(t,e){const n={},s=c(t,["customMetadata"]);if(e!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["customMetadata"],d)}const a=c(t,["chunkingConfig"]);return e!==void 0&&a!=null&&h(e,["chunkingConfig"],a),n}function jT(t){const e={},n=c(t,["name"]);n!=null&&h(e,["name"],n);const s=c(t,["metadata"]);s!=null&&h(e,["metadata"],s);const a=c(t,["done"]);a!=null&&h(e,["done"],a);const d=c(t,["error"]);d!=null&&h(e,["error"],d);const f=c(t,["response"]);return f!=null&&h(e,["response"],KT(f)),e}function WT(t){const e={},n=c(t,["fileSearchStoreName"]);n!=null&&h(e,["_url","file_search_store_name"],n);const s=c(t,["fileName"]);s!=null&&h(e,["fileName"],s);const a=c(t,["config"]);return a!=null&&qT(a,e),e}function KT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["parent"]);s!=null&&h(e,["parent"],s);const a=c(t,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function $T(t,e){const n={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),n}function JT(t){const e={},n=c(t,["config"]);return n!=null&&$T(n,e),e}function ZT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const a=c(t,["fileSearchStores"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["fileSearchStores"],d)}return e}function $m(t,e){const n={},s=c(t,["mimeType"]);e!==void 0&&s!=null&&h(e,["mimeType"],s);const a=c(t,["displayName"]);e!==void 0&&a!=null&&h(e,["displayName"],a);const d=c(t,["customMetadata"]);if(e!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),h(e,["customMetadata"],g)}const f=c(t,["chunkingConfig"]);return e!==void 0&&f!=null&&h(e,["chunkingConfig"],f),n}function YT(t){const e={},n=c(t,["fileSearchStoreName"]);n!=null&&h(e,["_url","file_search_store_name"],n);const s=c(t,["config"]);return s!=null&&$m(s,e),e}function QT(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XT="Content-Type",eC="X-Server-Timeout",tC="User-Agent",ed="x-goog-api-client",nC="1.38.0",iC=`google-genai-sdk/${nC}`,oC="v1beta1",rC="v1beta";class sC{constructor(e){var n,s,a;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const d={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!g?(d.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?d.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(d.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),d.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:oC}else{if(!this.clientOptions.apiKey)throw new ia({message:"API key must be set when using the Gemini API.",status:403});d.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:rC,d.baseUrl="https://generativelanguage.googleapis.com/"}d.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=d,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(d,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const a=[this.getRequestUrlInternal(n)];return s&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===$c.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,n),a=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[f,g]of Object.entries(e.queryParams))a.searchParams.append(f,String(g));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,n,a.toString(),e.abortSignal),this.unaryApiCall(a,d,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[a,d]of Object.entries(n))typeof d=="object"?s[a]=Object.assign(Object.assign({},s[a]),d):d!==void 0&&(s[a]=d);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,n),a=this.constructUrl(e.path,n,s);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,n,a.toString(),e.abortSignal),this.streamApiCall(a,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s,a){if(n&&n.timeout||a){const d=new AbortController,f=d.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const g=setTimeout(()=>d.abort(),n.timeout);g&&typeof g.unref=="function"&&g.unref()}a&&a.addEventListener("abort",()=>{d.abort()}),e.signal=f}return n&&n.extraBody!==null&&aC(e,n.extraBody),e.headers=await this.getHeadersInternal(n,s),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async a=>(await qp(a),new Jc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async a=>(await qp(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return An(this,arguments,function*(){var s;const a=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),d=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let f="";const g="data:",v=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:y,value:T}=yield be(a.read());if(y){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=d.decode(T,{stream:!0});try{const I=JSON.parse(E);if("error"in I){const A=JSON.parse(JSON.stringify(I.error)),M=A.status,j=A.code,B=`got status: ${M}. ${JSON.stringify(I)}`;if(j>=400&&j<600)throw new ia({message:B,status:j})}}catch(I){if(I.name==="ApiError")throw I}f+=E;let N=-1,b=0;for(;;){N=-1,b=0;for(const M of v){const j=f.indexOf(M);j!==-1&&(N===-1||j<N)&&(N=j,b=M.length)}if(N===-1)break;const I=f.substring(0,N);f=f.substring(N+b);const A=I.trim();if(A.startsWith(g)){const M=A.substring(g.length).trim();try{const j=new Response(M,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield be(new Jc(j))}catch(j){throw new Error(`exception parsing stream chunk ${M}. ${j}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=iC+" "+this.clientOptions.userAgentExtra;return e[tC]=n,e[ed]=n,e[XT]="application/json",e}async getHeadersInternal(e,n){const s=new Headers;if(e&&e.headers){for(const[a,d]of Object.entries(e.headers))s.append(a,d);e.timeout&&e.timeout>0&&s.append(eC,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,n),s}getFileName(e){var n;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(n=s.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),s}async uploadFile(e,n){var s;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const d=this.clientOptions.uploader,f=await d.stat(e);a.sizeBytes=String(f.size);const g=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=g;const v={file:a},y=this.getFileName(e),T=re("upload/v1beta/files",v._url),E=await this.fetchUploadUrl(T,a.sizeBytes,a.mimeType,y,v,n==null?void 0:n.httpOptions);return d.upload(e,E,this)}async uploadFileToFileSearchStore(e,n,s){var a;const d=this.clientOptions.uploader,f=await d.stat(n),g=String(f.size),v=(a=s==null?void 0:s.mimeType)!==null&&a!==void 0?a:f.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const y=`upload/v1beta/${e}:uploadToFileSearchStore`,T=this.getFileName(n),E={};s!=null&&$m(s,E);const N=await this.fetchUploadUrl(y,g,v,T,E,s==null?void 0:s.httpOptions);return d.uploadToFileSearchStore(n,N,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,s,a,d,f){var g;let v={};f?v=f:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${s}`},a?{"X-Goog-Upload-File-Name":a}:{})};const y=await this.request({path:e,body:JSON.stringify(d),httpMethod:"POST",httpOptions:v});if(!y||!(y!=null&&y.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const T=(g=y==null?void 0:y.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(T===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return T}}async function qp(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(s);throw n>=400&&n<600?new ia({message:a,status:n}):new Error(a)}}function aC(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const d=JSON.parse(t.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))n=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(d,f){const g=Object.assign({},d);for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v)){const y=f[v],T=g[v];y&&typeof y=="object"&&!Array.isArray(y)&&T&&typeof T=="object"&&!Array.isArray(T)?g[v]=s(T,y):(T&&y&&typeof T!=typeof y&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof T}, New type: ${typeof y}. Overwriting.`),g[v]=y)}return g}const a=s(n,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lC="mcp_used/unknown";let uC=!1;function Jm(t){for(const e of t)if(cC(e)||typeof e=="object"&&"inputSchema"in e)return!0;return uC}function Zm(t){var e;const n=(e=t[ed])!==null&&e!==void 0?e:"";t[ed]=(n+` ${lC}`).trimStart()}function cC(t){return t!==null&&typeof t=="object"&&t instanceof bd}function dC(t){return An(this,arguments,function*(n,s=100){let a,d=0;for(;d<s;){const f=yield be(n.listTools({cursor:a}));for(const g of f.tools)yield yield be(g),d++;if(!f.nextCursor)break;a=f.nextCursor}})}class bd{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new bd(e,n)}async initialize(){var e,n,s,a;if(this.mcpTools.length>0)return;const d={},f=[];for(const T of this.mcpClients)try{for(var g=!0,v=(n=void 0,Rn(dC(T))),y;y=await v.next(),e=y.done,!e;g=!0){a=y.value,g=!1;const E=a;f.push(E);const N=E.name;if(d[N])throw new Error(`Duplicate function name ${N} found in MCP tools. Please ensure function names are unique.`);d[N]=T}}catch(E){n={error:E}}finally{try{!g&&!e&&(s=v.return)&&await s.call(v)}finally{if(n)throw n.error}}this.mcpTools=f,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Gy(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[s.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const f=await a.callTool({name:s.name,arguments:s.args},void 0,d);n.push({functionResponse:{name:s.name,response:f.isError?{error:f}:f}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function hC(t,e,n){const s=new Ly;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(s,a),e(s)}class fC{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f=gC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${a}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let y=()=>{};const T=new Promise(F=>{y=F}),E=e.callbacks,N=function(){y({})},b=this.apiClient,I={onopen:N,onmessage:F=>{hC(b,E.onmessage,F)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(F){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(F){}},A=this.webSocketFactory.create(v,mC(f),I);A.connect(),await T;const B={setup:{model:Oe(this.apiClient,e.model)}};return A.send(JSON.stringify(B)),new pC(A,this.apiClient)}}class pC{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Bx(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Vx(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(zr.PLAY)}pause(){this.sendPlaybackControl(zr.PAUSE)}stop(){this.sendPlaybackControl(zr.STOP)}resetContext(){this.sendPlaybackControl(zr.RESET_CONTEXT)}close(){this.conn.close()}}function mC(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function gC(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function yC(t,e,n){const s=new My;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const d=JSON.parse(a);if(t.isVertexAI()){const f=Gx(d);Object.assign(s,f)}else Object.assign(s,d);e(s)}class _C{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s,this.music=new fC(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,s,a,d,f,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),y=this.apiClient.getApiVersion();let T;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&Jm(e.config.tools)&&Zm(E);const N=CC(E);if(this.apiClient.isVertexAI()){const le=this.apiClient.getProject(),Ce=this.apiClient.getLocation(),Ie=this.apiClient.getApiKey(),Be=!!le&&!!Ce||!!Ie;this.apiClient.getCustomBaseUrl()&&!Be?T=v:(T=`${v}/ws/google.cloud.aiplatform.${y}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(N,T))}else{const le=this.apiClient.getApiKey();let Ce="BidiGenerateContent",Ie="key";le!=null&&le.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),y!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Ce="BidiGenerateContentConstrained",Ie="access_token"),T=`${v}/ws/google.ai.generativelanguage.${y}.GenerativeService.${Ce}?${Ie}=${le}`}let b=()=>{};const I=new Promise(le=>{b=le}),A=e.callbacks,M=function(){var le;(le=A==null?void 0:A.onopen)===null||le===void 0||le.call(A),b({})},j=this.apiClient,B={onopen:M,onmessage:le=>{yC(j,A.onmessage,le)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(le){},onclose:(s=A==null?void 0:A.onclose)!==null&&s!==void 0?s:function(le){}},F=this.webSocketFactory.create(T,TC(N),B);F.connect(),await I;let Y=Oe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&Y.startsWith("publishers/")){const le=this.apiClient.getProject(),Ce=this.apiClient.getLocation();le&&Ce&&(Y=`projects/${le}/locations/${Ce}/`+Y)}let ie={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Gl.AUDIO]}:e.config.responseModalities=[Gl.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const se=(g=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[],ae=[];for(const le of se)if(this.isCallableTool(le)){const Ce=le;ae.push(await Ce.tool())}else ae.push(le);ae.length>0&&(e.config.tools=ae);const Pe={model:Y,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ie=Fx(this.apiClient,Pe):ie=Ux(this.apiClient,Pe),delete ie.config,F.send(JSON.stringify(ie)),new wC(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const xC={turnComplete:!0};class wC{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=gn(n.turns),e.isVertexAI()||(s=s.map(a=>Ql(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const d of s){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(vC)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},xC),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Hx(e)}:n={realtimeInput:zx(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function TC(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function CC(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jp=10;function Wp(t){var e,n,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const f of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Or(f)){a=!0;break}if(!a)return!0;const d=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Or(t){return"callTool"in t&&typeof t.callTool=="function"}function SC(t){var e,n,s;return(s=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>Or(a)))!==null&&s!==void 0?s:!1}function Kp(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,a)=>{if(Or(s))return;const d=s;d.functionDeclarations&&d.functionDeclarations.length>0&&n.push(a)}),n}function $p(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EC extends wi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var s,a,d,f,g;const v=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!SC(n)||Wp(n.config))return await this.generateContentInternal(v);const y=Kp(n);if(y.length>0){const A=y.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let T,E;const N=gn(v.contents),b=(d=(a=(s=v.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&d!==void 0?d:jp;let I=0;for(;I<b&&(T=await this.generateContentInternal(v),!(!T.functionCalls||T.functionCalls.length===0));){const A=T.candidates[0].content,M=[];for(const j of(g=(f=n.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[])if(Or(j)){const F=await j.callTool(T.functionCalls);M.push(...F)}I++,E={role:"user",parts:M},v.contents=gn(v.contents),v.contents.push(A),v.contents.push(E),$p(v.config)&&(N.push(A),N.push(E))}return $p(v.config)&&(T.automaticFunctionCallingHistory=N),T},this.generateContentStream=async n=>{var s,a,d,f,g;if(this.maybeMoveToResponseJsonSchem(n),Wp(n.config)){const E=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(E)}const v=Kp(n);if(v.length>0){const E=v.map(N=>`tools[${N}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const y=(d=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,T=(g=(f=n==null?void 0:n.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(y&&!T)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var a;let d;const f=[];if(s!=null&&s.generatedImages)for(const v of s.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((a=v==null?void 0:v.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?d=v==null?void 0:v.safetyAttributes:f.push(v);let g;return d?g={generatedImages:f,positivePromptSafetyAttributes:d,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:f,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async n=>{var s;const f={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((s=f.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new jo(_i.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(f),f)},this.editImage=async n=>{const s={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(s.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async n=>{let s={numberOfImages:1,mode:"upscale"};n.config&&(s=Object.assign(Object.assign({},s),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:s};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{var s,a,d,f,g,v;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=n.video)===null||s===void 0)&&s.uri&&(!((a=n.video)===null||a===void 0)&&a.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((f=(d=n.source)===null||d===void 0?void 0:d.video)===null||f===void 0)&&f.uri&&(!((v=(g=n.source)===null||g===void 0?void 0:g.video)===null||v===void 0)&&v.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,s,a;const d=(n=e.config)===null||n===void 0?void 0:n.tools;if(!d)return e;const f=await Promise.all(d.map(async v=>Or(v)?await v.tool():v)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(g.config.tools=f,e.config&&e.config.tools&&Jm(e.config.tools)){const v=(a=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{};let y=Object.assign({},v);Object.keys(y).length===0&&(y=this.apiClient.getDefaultHeaders()),Zm(y),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:y})}return g}async initAfcToolsMap(e){var n,s,a;const d=new Map;for(const f of(s=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&s!==void 0?s:[])if(Or(f)){const g=f,v=await g.tool();for(const y of(a=v.functionDeclarations)!==null&&a!==void 0?a:[]){if(!y.name)throw new Error("Function declaration name is required.");if(d.has(y.name))throw new Error(`Duplicate tool declaration name: ${y.name}`);d.set(y.name,g)}}return d}async processAfcStream(e){var n,s,a;const d=(a=(s=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:jp;let f=!1,g=0;const v=await this.initAfcToolsMap(e);return(function(y,T,E){return An(this,arguments,function*(){for(var N,b,I,A,M,j;g<d;){f&&(g++,f=!1);const ie=yield be(y.processParamsMaybeAddMcpUsage(E)),se=yield be(y.generateContentStreamInternal(ie)),ae=[],Pe=[];try{for(var B=!0,F=(b=void 0,Rn(se)),Y;Y=yield be(F.next()),N=Y.done,!N;B=!0){A=Y.value,B=!1;const le=A;if(yield yield be(le),le.candidates&&(!((M=le.candidates[0])===null||M===void 0)&&M.content)){Pe.push(le.candidates[0].content);for(const Ce of(j=le.candidates[0].content.parts)!==null&&j!==void 0?j:[])if(g<d&&Ce.functionCall){if(!Ce.functionCall.name)throw new Error("Function call name was not returned by the model.");if(T.has(Ce.functionCall.name)){const Ie=yield be(T.get(Ce.functionCall.name).callTool([Ce.functionCall]));ae.push(...Ie)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${T.keys()}, mising tool: ${Ce.functionCall.name}`)}}}}catch(le){b={error:le}}finally{try{!B&&!N&&(I=F.return)&&(yield be(I.call(F)))}finally{if(b)throw b.error}}if(ae.length>0){f=!0;const le=new Ys;le.candidates=[{content:{role:"user",parts:ae}}],yield yield be(le);const Ce=[];Ce.push(...Pe),Ce.push({role:"user",parts:ae});const Ie=gn(E.contents).concat(Ce);E.contents=Ie}else break}})})(this,v,e)}async generateContentInternal(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=Hp(this.apiClient,e);return g=re("{model}:generateContent",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=Op(T),N=new Ys;return Object.assign(N,E),N})}else{const y=zp(this.apiClient,e);return g=re("{model}:generateContent",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=Gp(T),N=new Ys;return Object.assign(N,E),N})}}async generateContentStreamInternal(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=Hp(this.apiClient,e);return g=re("{model}:streamGenerateContent?alt=sse",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),f.then(function(E){return An(this,arguments,function*(){var N,b,I,A;try{for(var M=!0,j=Rn(E),B;B=yield be(j.next()),N=B.done,!N;M=!0){A=B.value,M=!1;const F=A,Y=Op(yield be(F.json()));Y.sdkHttpResponse={headers:F.headers};const ie=new Ys;Object.assign(ie,Y),yield yield be(ie)}}catch(F){b={error:F}}finally{try{!M&&!N&&(I=j.return)&&(yield be(I.call(j)))}finally{if(b)throw b.error}}})})}else{const y=zp(this.apiClient,e);return g=re("{model}:streamGenerateContent?alt=sse",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),f.then(function(E){return An(this,arguments,function*(){var N,b,I,A;try{for(var M=!0,j=Rn(E),B;B=yield be(j.next()),N=B.done,!N;M=!0){A=B.value,M=!1;const F=A,Y=Gp(yield be(F.json()));Y.sdkHttpResponse={headers:F.headers};const ie=new Ys;Object.assign(ie,Y),yield yield be(ie)}}catch(F){b={error:F}}finally{try{!M&&!N&&(I=j.return)&&(yield be(I.call(j)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=_w(this.apiClient,e);return g=re("{model}:predict",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=ww(T),N=new Cp;return Object.assign(N,E),N})}else{const y=yw(this.apiClient,e);return g=re("{model}:batchEmbedContents",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=xw(T),N=new Cp;return Object.assign(N,E),N})}}async generateImagesInternal(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=Rw(this.apiClient,e);return g=re("{model}:predict",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=Lw(T),N=new Sp;return Object.assign(N,E),N})}else{const y=Aw(this.apiClient,e);return g=re("{model}:predict",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=Mw(T),N=new Sp;return Object.assign(N,E),N})}}async editImageInternal(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI()){const g=pw(this.apiClient,e);return d=re("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(y=>{const T=y;return T.sdkHttpResponse={headers:v.headers},T})),a.then(v=>{const y=mw(v),T=new Ty;return Object.assign(T,y),T})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI()){const g=RT(this.apiClient,e);return d=re("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(y=>{const T=y;return T.sdkHttpResponse={headers:v.headers},T})),a.then(v=>{const y=MT(v),T=new Cy;return Object.assign(T,y),T})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI()){const g=fT(this.apiClient,e);return d=re("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const y=pT(v),T=new Sy;return Object.assign(T,y),T})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI()){const g=xT(this.apiClient,e);return d=re("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const y=wT(v),T=new Ey;return Object.assign(T,y),T})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=Yw(this.apiClient,e);return g=re("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),f.then(T=>Xc(T))}else{const y=Zw(this.apiClient,e);return g=re("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),f.then(T=>Qc(T))}}async listInternal(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=sT(this.apiClient,e);return g=re("{models_url}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=lT(T),N=new Ep;return Object.assign(N,E),N})}else{const y=rT(this.apiClient,e);return g=re("{models_url}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=aT(T),N=new Ep;return Object.assign(N,E),N})}}async update(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=IT(this.apiClient,e);return g=re("{model}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),f.then(T=>Xc(T))}else{const y=PT(this.apiClient,e);return g=re("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),f.then(T=>Qc(T))}}async delete(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=cw(this.apiClient,e);return g=re("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=hw(T),N=new Np;return Object.assign(N,E),N})}else{const y=uw(this.apiClient,e);return g=re("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=dw(T),N=new Np;return Object.assign(N,E),N})}}async countTokens(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=sw(this.apiClient,e);return g=re("{model}:countTokens",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=lw(T),N=new bp;return Object.assign(N,E),N})}else{const y=rw(this.apiClient,e);return g=re("{model}:countTokens",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=aw(T),N=new bp;return Object.assign(N,E),N})}}async computeTokens(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI()){const g=Qx(this.apiClient,e);return d=re("{model}:computeTokens",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(y=>{const T=y;return T.sdkHttpResponse={headers:v.headers},T})),a.then(v=>{const y=Xx(v),T=new Ny;return Object.assign(T,y),T})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=zw(this.apiClient,e);return g=re("{model}:predictLongRunning",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),f.then(T=>{const E=Vw(T),N=new Ol;return Object.assign(N,E),N})}else{const y=Bw(this.apiClient,e);return g=re("{model}:predictLongRunning",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),f.then(T=>{const E=Fw(T),N=new Ol;return Object.assign(N,E),N})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NC extends wi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:d}});return n._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:d}});return n._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=gy(e);return g=re("{operationName}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),f}else{const y=my(e);return g=re("{operationName}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),f}}async fetchPredictVideosOperationInternal(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI()){const g=ly(e);return d=re("{resourceName}:fetchPredictOperation",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bC(t){const e={},n=c(t,["data"]);if(n!=null&&h(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function kC(t){const e={},n=c(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(d=>FC(d))),h(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&h(e,["role"],s),e}function PC(t,e,n){const s={},a=c(e,["expireTime"]);n!==void 0&&a!=null&&h(n,["expireTime"],a);const d=c(e,["newSessionExpireTime"]);n!==void 0&&d!=null&&h(n,["newSessionExpireTime"],d);const f=c(e,["uses"]);n!==void 0&&f!=null&&h(n,["uses"],f);const g=c(e,["liveConnectConstraints"]);n!==void 0&&g!=null&&h(n,["bidiGenerateContentSetup"],UC(t,g));const v=c(e,["lockAdditionalFields"]);return n!==void 0&&v!=null&&h(n,["fieldMask"],v),s}function IC(t,e){const n={},s=c(e,["config"]);return s!=null&&h(n,["config"],PC(t,s,n)),n}function AC(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const s=c(t,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function RC(t){const e={},n=c(t,["id"]);n!=null&&h(e,["id"],n);const s=c(t,["args"]);s!=null&&h(e,["args"],s);const a=c(t,["name"]);if(a!=null&&h(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function MC(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function LC(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function DC(t,e){const n={},s=c(t,["generationConfig"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig"],s);const a=c(t,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const d=c(t,["temperature"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","temperature"],d);const f=c(t,["topP"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topP"],f);const g=c(t,["topK"]);e!==void 0&&g!=null&&h(e,["setup","generationConfig","topK"],g);const v=c(t,["maxOutputTokens"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","maxOutputTokens"],v);const y=c(t,["mediaResolution"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","mediaResolution"],y);const T=c(t,["seed"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","seed"],T);const E=c(t,["speechConfig"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","speechConfig"],Nd(E));const N=c(t,["thinkingConfig"]);e!==void 0&&N!=null&&h(e,["setup","generationConfig","thinkingConfig"],N);const b=c(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],b);const I=c(t,["systemInstruction"]);e!==void 0&&I!=null&&h(e,["setup","systemInstruction"],kC(Pt(I)));const A=c(t,["tools"]);if(e!==void 0&&A!=null){let se=Wr(A);Array.isArray(se)&&(se=se.map(ae=>BC(jr(ae)))),h(e,["setup","tools"],se)}const M=c(t,["sessionResumption"]);e!==void 0&&M!=null&&h(e,["setup","sessionResumption"],VC(M));const j=c(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&h(e,["setup","inputAudioTranscription"],j);const B=c(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&h(e,["setup","outputAudioTranscription"],B);const F=c(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&h(e,["setup","realtimeInputConfig"],F);const Y=c(t,["contextWindowCompression"]);e!==void 0&&Y!=null&&h(e,["setup","contextWindowCompression"],Y);const ie=c(t,["proactivity"]);if(e!==void 0&&ie!=null&&h(e,["setup","proactivity"],ie),c(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function UC(t,e){const n={},s=c(e,["model"]);s!=null&&h(n,["setup","model"],Oe(t,s));const a=c(e,["config"]);return a!=null&&h(n,["config"],DC(a,n)),n}function FC(t){const e={},n=c(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const s=c(t,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&h(e,["executableCode"],a);const d=c(t,["fileData"]);d!=null&&h(e,["fileData"],AC(d));const f=c(t,["functionCall"]);f!=null&&h(e,["functionCall"],RC(f));const g=c(t,["functionResponse"]);g!=null&&h(e,["functionResponse"],g);const v=c(t,["inlineData"]);v!=null&&h(e,["inlineData"],bC(v));const y=c(t,["text"]);y!=null&&h(e,["text"],y);const T=c(t,["thought"]);T!=null&&h(e,["thought"],T);const E=c(t,["thoughtSignature"]);E!=null&&h(e,["thoughtSignature"],E);const N=c(t,["videoMetadata"]);return N!=null&&h(e,["videoMetadata"],N),e}function VC(t){const e={},n=c(t,["handle"]);if(n!=null&&h(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function BC(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=c(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const s=c(t,["fileSearch"]);s!=null&&h(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&h(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=c(t,["functionDeclarations"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(E=>E)),h(e,["functionDeclarations"],T)}const f=c(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],MC(f));const g=c(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],LC(g));const v=c(t,["googleSearchRetrieval"]);v!=null&&h(e,["googleSearchRetrieval"],v);const y=c(t,["urlContext"]);return y!=null&&h(e,["urlContext"],y),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zC(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s=t[n];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const a=Object.keys(s).map(d=>`${n}.${d}`);e.push(...a)}else e.push(n)}return e.join(",")}function HC(t,e){let n=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const d=s.setup;typeof d=="object"&&d!==null?(t.bidiGenerateContentSetup=d,n=d):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(n){const d=zC(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?t.fieldMask=d:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];a.length>0&&(g=a.map(y=>f.includes(y)?`generationConfig.${y}`:y));const v=[];d&&v.push(d),g.length>0&&v.push(...g),v.length>0?t.fieldMask=v.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class GC extends wi{constructor(e){super(),this.apiClient=e}async create(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=IC(this.apiClient,e);d=re("auth_tokens",g._url),f=g._query,delete g.config,delete g._url,delete g._query;const v=HC(g,e.config);return a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(t,e){const n={},s=c(t,["force"]);return e!==void 0&&s!=null&&h(e,["_query","force"],s),n}function qC(t){const e={},n=c(t,["name"]);n!=null&&h(e,["_url","name"],n);const s=c(t,["config"]);return s!=null&&OC(s,e),e}function jC(t){const e={},n=c(t,["name"]);return n!=null&&h(e,["_url","name"],n),e}function WC(t,e){const n={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),n}function KC(t){const e={},n=c(t,["parent"]);n!=null&&h(e,["_url","parent"],n);const s=c(t,["config"]);return s!=null&&WC(s,e),e}function $C(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const s=c(t,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const a=c(t,["documents"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["documents"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JC extends wi{constructor(e){super(),this.apiClient=e,this.list=async n=>new jo(_i.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:n.parent,config:s.config}),await this.listInternal(n),n)}async get(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jC(e);return d=re("{name}",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>v)}}async delete(e){var n,s;let a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=qC(e);a=re("{name}",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=KC(e);return d=re("{parent}/documents",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const y=$C(v),T=new by;return Object.assign(T,y),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZC extends wi{constructor(e,n=new JC(e)){super(),this.apiClient=e,this.documents=n,this.list=async(s={})=>new jo(_i.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=zT(e);return d=re("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>v)}}async get(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=OT(e);return d=re("{name}",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>v)}}async delete(e){var n,s;let a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=GT(e);a=re("{name}",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JT(e);return d=re("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const y=ZT(v),T=new ky;return Object.assign(T,y),T})}}async uploadToFileSearchStoreInternal(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=YT(e);return d=re("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const y=QT(v),T=new Py;return Object.assign(T,y),T})}}async importFile(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=WT(e);return d=re("{file_search_store_name}:importFile",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const y=jT(v),T=new wd;return Object.assign(T,y),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ym=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Ym=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const YC=()=>Ym();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function td(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const nd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yn extends Error{}class Ft extends yn{constructor(e,n,s,a){super(`${Ft.makeMessage(e,n,s)}`),this.status=e,this.headers=a,this.error=n}static makeMessage(e,n,s){const a=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,n,s,a){if(!e||!a)return new tu({message:s,cause:nd(n)});const d=n;return e===400?new Xm(e,d,s,a):e===401?new eg(e,d,s,a):e===403?new tg(e,d,s,a):e===404?new ng(e,d,s,a):e===409?new ig(e,d,s,a):e===422?new og(e,d,s,a):e===429?new rg(e,d,s,a):e>=500?new sg(e,d,s,a):new Ft(e,d,s,a)}}class id extends Ft{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class tu extends Ft{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Qm extends tu{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Xm extends Ft{}class eg extends Ft{}class tg extends Ft{}class ng extends Ft{}class ig extends Ft{}class og extends Ft{}class rg extends Ft{}class sg extends Ft{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QC=/^[a-z][a-z0-9+.-]*:/i,XC=t=>QC.test(t);let od=t=>(od=Array.isArray,od(t));const eS=od;let tS=eS;const Jp=tS;function nS(t){if(!t)return!0;for(const e in t)return!1;return!0}function iS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const oS=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new yn(`${t} must be an integer`);if(e<0)throw new yn(`${t} must be a positive integer`);return e},rS=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sS=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Br="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aS(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const lS=()=>{var t,e,n,s,a;const d=aS();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Br,"X-Stainless-OS":Yp(Deno.build.os),"X-Stainless-Arch":Zp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Br,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Br,"X-Stainless-OS":Yp((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Zp((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const f=uS();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Br,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Br,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function uS(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const a=s[1]||0,d=s[2]||0,f=s[3]||0;return{browser:e,version:`${a}.${d}.${f}`}}}return null}const Zp=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Yp=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Al;const cS=()=>Al??(Al=lS());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dS(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function ag(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function hS(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return ag({start(){},async pull(n){const{done:s,value:a}=await e.next();s?n.close():n.enqueue(a)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function lg(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function fS(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const s=t.getReader(),a=s.cancel();s.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pS=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ug=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function zc(t,e,n){return ug(),new File(t,e??"unknown_file",n)}function mS(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const gS=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cg=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",vS=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&cg(t),yS=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function _S(t,e,n){if(ug(),t=await t,vS(t))return t instanceof File?t:zc([await t.arrayBuffer()],t.name);if(yS(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),zc(await rd(a),e,n)}const s=await rd(t);if(e||(e=mS(t)),!(n!=null&&n.type)){const a=s.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof a=="string"&&(n=Object.assign(Object.assign({},n),{type:a}))}return zc(s,e,n)}async function rd(t){var e,n,s,a,d;let f=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)f.push(t);else if(cg(t))f.push(t instanceof Blob?t:await t.arrayBuffer());else if(gS(t))try{for(var g=!0,v=Rn(t),y;y=await v.next(),e=y.done,!e;g=!0){a=y.value,g=!1;const T=a;f.push(...await rd(T))}}catch(T){n={error:T}}finally{try{!g&&!e&&(s=v.return)&&await s.call(v)}finally{if(n)throw n.error}}else{const T=(d=t==null?void 0:t.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof t}${T?`; constructor: ${T}`:""}${xS(t)}`)}return f}function xS(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dg{constructor(e){this._client=e}}dg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hg(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Qp=Object.freeze(Object.create(null)),wS=(t=hg)=>(function(n,...s){if(n.length===1)return n[0];let a=!1;const d=[],f=n.reduce((T,E,N)=>{var b,I,A;/[?#]/.test(E)&&(a=!0);const M=s[N];let j=(a?encodeURIComponent:t)(""+M);return N!==s.length&&(M==null||typeof M=="object"&&M.toString===((A=Object.getPrototypeOf((I=Object.getPrototypeOf((b=M.hasOwnProperty)!==null&&b!==void 0?b:Qp))!==null&&I!==void 0?I:Qp))===null||A===void 0?void 0:A.toString))&&(j=M+"",d.push({start:T.length+E.length,length:j.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),T+E+(N===s.length?"":j)},""),g=f.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let y;for(;(y=v.exec(g))!==null;)d.push({start:y.index,length:y[0].length,error:`Value "${y[0]}" can't be safely passed as a path parameter`});if(d.sort((T,E)=>T.start-E.start),d.length>0){let T=0;const E=d.reduce((N,b)=>{const I=" ".repeat(b.start-T),A="^".repeat(b.length);return T=b.start+b.length,N+I+A},"");throw new yn(`Path parameters result in path with invalid segments:
${d.map(N=>N.error).join(`
`)}
${f}
${E}`)}return f}),Rl=wS(hg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fg extends dg{create(e,n){var s;const{api_version:a=this._client.apiVersion}=e,d=jl(e,["api_version"]);if("model"in d&&"agent_config"in d)throw new yn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new yn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Rl`/${a}/interactions`,Object.assign(Object.assign({body:d},n),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,n={},s){const{api_version:a=this._client.apiVersion}=n??{};return this._client.delete(Rl`/${a}/interactions/${e}`,s)}cancel(e,n={},s){const{api_version:a=this._client.apiVersion}=n??{};return this._client.post(Rl`/${a}/interactions/${e}/cancel`,s)}get(e,n={},s){var a;const d=n??{},{api_version:f=this._client.apiVersion}=d,g=jl(d,["api_version"]);return this._client.get(Rl`/${f}/interactions/${e}`,Object.assign(Object.assign({query:g},s),{stream:(a=n==null?void 0:n.stream)!==null&&a!==void 0?a:!1}))}}fg._key=Object.freeze(["interactions"]);class pg extends fg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TS(t){let e=0;for(const a of t)e+=a.length;const n=new Uint8Array(e);let s=0;for(const a of t)n.set(a,s),s+=a.length;return n}let Ml;function kd(t){let e;return(Ml??(e=new globalThis.TextEncoder,Ml=e.encode.bind(e)))(t)}let Ll;function Xp(t){let e;return(Ll??(e=new globalThis.TextDecoder,Ll=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nu{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?kd(e):e;this.buffer=TS([this.buffer,n]);const s=[];let a;for(;(a=CS(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){s.push(Xp(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,f=Xp(this.buffer.subarray(0,d));s.push(f),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}nu.NEWLINE_CHARS=new Set([`
`,"\r"]);nu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function CS(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function SS(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wl={off:0,error:200,warn:300,info:400,debug:500},em=(t,e,n)=>{if(t){if(iS(Wl,t))return t;Ut(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Wl))}`)}};function Xs(){}function Dl(t,e,n){return!e||Wl[t]>Wl[n]?Xs:e[t].bind(e)}const ES={error:Xs,warn:Xs,info:Xs,debug:Xs};let tm=new WeakMap;function Ut(t){var e;const n=t.logger,s=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return ES;const a=tm.get(n);if(a&&a[0]===s)return a[1];const d={error:Dl("error",n,s),warn:Dl("warn",n,s),info:Dl("info",n,s),debug:Dl("debug",n,s)};return tm.set(n,[s,d]),d}const Go=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hr{constructor(e,n,s){this.iterator=e,this.controller=n,this.client=s}static fromSSEResponse(e,n,s){let a=!1;const d=s?Ut(s):console;function f(){return An(this,arguments,function*(){var v,y,T,E;if(a)throw new yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let N=!1;try{try{for(var b=!0,I=Rn(NS(e,n)),A;A=yield be(I.next()),v=A.done,!v;b=!0){E=A.value,b=!1;const M=E;if(!N)if(M.data.startsWith("[DONE]")){N=!0;continue}else try{yield yield be(JSON.parse(M.data))}catch(j){throw d.error("Could not parse message into JSON:",M.data),d.error("From chunk:",M.raw),j}}}catch(M){y={error:M}}finally{try{!b&&!v&&(T=I.return)&&(yield be(T.call(I)))}finally{if(y)throw y.error}}N=!0}catch(M){if(td(M))return yield be(void 0);throw M}finally{N||n.abort()}})}return new Hr(f,n,s)}static fromReadableStream(e,n,s){let a=!1;function d(){return An(this,arguments,function*(){var v,y,T,E;const N=new nu,b=lg(e);try{for(var I=!0,A=Rn(b),M;M=yield be(A.next()),v=M.done,!v;I=!0){E=M.value,I=!1;const j=E;for(const B of N.decode(j))yield yield be(B)}}catch(j){y={error:j}}finally{try{!I&&!v&&(T=A.return)&&(yield be(T.call(A)))}finally{if(y)throw y.error}}for(const j of N.flush())yield yield be(j)})}function f(){return An(this,arguments,function*(){var v,y,T,E;if(a)throw new yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let N=!1;try{try{for(var b=!0,I=Rn(d()),A;A=yield be(I.next()),v=A.done,!v;b=!0){E=A.value,b=!1;const M=E;N||M&&(yield yield be(JSON.parse(M)))}}catch(M){y={error:M}}finally{try{!b&&!v&&(T=I.return)&&(yield be(T.call(I)))}finally{if(y)throw y.error}}N=!0}catch(M){if(td(M))return yield be(void 0);throw M}finally{N||n.abort()}})}return new Hr(f,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),a=d=>({next:()=>{if(d.length===0){const f=s.next();e.push(f),n.push(f)}return d.shift()}});return[new Hr(()=>a(e),this.controller,this.client),new Hr(()=>a(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return ag({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:d}=await n.next();if(d)return s.close();const f=kd(JSON.stringify(a)+`
`);s.enqueue(f)}catch(a){s.error(a)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function NS(t,e){return An(this,arguments,function*(){var s,a,d,f;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new yn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new yn("Attempted to iterate over a response with no body");const g=new kS,v=new nu,y=lg(t.body);try{for(var T=!0,E=Rn(bS(y)),N;N=yield be(E.next()),s=N.done,!s;T=!0){f=N.value,T=!1;const b=f;for(const I of v.decode(b)){const A=g.decode(I);A&&(yield yield be(A))}}}catch(b){a={error:b}}finally{try{!T&&!s&&(d=E.return)&&(yield be(d.call(E)))}finally{if(a)throw a.error}}for(const b of v.flush()){const I=g.decode(b);I&&(yield yield be(I))}})}function bS(t){return An(this,arguments,function*(){var n,s,a,d;let f=new Uint8Array;try{for(var g=!0,v=Rn(t),y;y=yield be(v.next()),n=y.done,!n;g=!0){d=y.value,g=!1;const T=d;if(T==null)continue;const E=T instanceof ArrayBuffer?new Uint8Array(T):typeof T=="string"?kd(T):T;let N=new Uint8Array(f.length+E.length);N.set(f),N.set(E,f.length),f=N;let b;for(;(b=SS(f))!==-1;)yield yield be(f.slice(0,b)),f=f.slice(b)}}catch(T){s={error:T}}finally{try{!g&&!n&&(a=v.return)&&(yield be(a.call(v)))}finally{if(s)throw s.error}}f.length>0&&(yield yield be(f))})}class kS{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,a]=PS(e,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function PS(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function IS(t,e){const{response:n,requestLogID:s,retryOfRequestLogID:a,startTime:d}=e,f=await(async()=>{var g;if(e.options.stream)return Ut(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Hr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const v=n.headers.get("content-type"),y=(g=v==null?void 0:v.split(";")[0])===null||g===void 0?void 0:g.trim();return(y==null?void 0:y.includes("application/json"))||(y==null?void 0:y.endsWith("+json"))?await n.json():await n.text()})();return Ut(t).debug(`[${s}] response parsed`,Go({retryOfRequestLogID:a,url:n.url,status:n.status,body:f,durationMs:Date.now()-d})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pd extends Promise{constructor(e,n,s=IS){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new Pd(this.client,this.responsePromise,async(n,s)=>e(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mg=Symbol("brand.privateNullableHeaders");function*AS(t){if(!t)return;if(mg in t){const{values:s,nulls:a}=t;yield*s.entries();for(const d of a)yield[d,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Jp(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let s of n){const a=s[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const d=Jp(s[1])?s[1]:[s[1]];let f=!1;for(const g of d)g!==void 0&&(e&&!f&&(f=!0,yield[a,null]),yield[a,g])}}const Qs=t=>{const e=new Headers,n=new Set;for(const s of t){const a=new Set;for(const[d,f]of AS(s)){const g=d.toLowerCase();a.has(g)||(e.delete(d),a.add(g)),f===null?(e.delete(d),n.add(g)):(e.append(d,f),n.delete(g))}}return{[mg]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hc=t=>{var e,n,s,a,d,f;if(typeof globalThis.process<"u")return(s=(n=(e=ny)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(f=(d=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||d===void 0?void 0:d.call(a,t))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gg;class iu{constructor(e){var n,s,a,d,f,g,v,{baseURL:y=Hc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:T=(n=Hc("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:E="v1beta"}=e,N=jl(e,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:T,apiVersion:E},N),{baseURL:y||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(s=b.timeout)!==null&&s!==void 0?s:iu.DEFAULT_TIMEOUT,this.logger=(a=b.logger)!==null&&a!==void 0?a:console;const I="warn";this.logLevel=I,this.logLevel=(f=(d=em(b.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:em(Hc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:I,this.fetchOptions=b.fetchOptions,this.maxRetries=(g=b.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(v=b.fetch)!==null&&v!==void 0?v:dS(),this.encoder=pS,this._options=b,this.apiKey=T,this.apiVersion=E,this.clientAdapter=b.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Qs([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Qs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Qs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new yn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Br}`}defaultIdempotencyKey(){return`stainless-node-retry-${YC()}`}makeStatusError(e,n,s,a){return Ft.generate(e,n,s,a)}buildURL(e,n,s){const a=!this.baseURLOverridden()&&s||this.baseURL,d=XC(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return nS(f)||(n=Object.assign(Object.assign({},f),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(d.search=this.stringifyQuery(n)),d.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:s}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(a=>Object.assign({method:e,path:n},a)))}request(e,n=null){return new Pd(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,s){var a,d,f;const g=await e,v=(a=g.maxRetries)!==null&&a!==void 0?a:this.maxRetries;n==null&&(n=v),await this.prepareOptions(g);const{req:y,url:T,timeout:E}=await this.buildRequest(g,{retryCount:v-n});await this.prepareRequest(y,{url:T,options:g});const N="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=s===void 0?"":`, retryOf: ${s}`,I=Date.now();if(Ut(this).debug(`[${N}] sending request`,Go({retryOfRequestLogID:s,method:g.method,url:T,options:g,headers:y.headers})),!((d=g.signal)===null||d===void 0)&&d.aborted)throw new id;const A=new AbortController,M=await this.fetchWithTimeout(T,y,E,A).catch(nd),j=Date.now();if(M instanceof globalThis.Error){const F=`retrying, ${n} attempts remaining`;if(!((f=g.signal)===null||f===void 0)&&f.aborted)throw new id;const Y=td(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(n)return Ut(this).info(`[${N}] connection ${Y?"timed out":"failed"} - ${F}`),Ut(this).debug(`[${N}] connection ${Y?"timed out":"failed"} (${F})`,Go({retryOfRequestLogID:s,url:T,durationMs:j-I,message:M.message})),this.retryRequest(g,n,s??N);throw Ut(this).info(`[${N}] connection ${Y?"timed out":"failed"} - error; no more retries left`),Ut(this).debug(`[${N}] connection ${Y?"timed out":"failed"} (error; no more retries left)`,Go({retryOfRequestLogID:s,url:T,durationMs:j-I,message:M.message})),Y?new Qm:new tu({cause:M})}const B=`[${N}${b}] ${y.method} ${T} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${j-I}ms`;if(!M.ok){const F=await this.shouldRetry(M);if(n&&F){const le=`retrying, ${n} attempts remaining`;return await fS(M.body),Ut(this).info(`${B} - ${le}`),Ut(this).debug(`[${N}] response error (${le})`,Go({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:j-I})),this.retryRequest(g,n,s??N,M.headers)}const Y=F?"error; no more retries left":"error; not retryable";Ut(this).info(`${B} - ${Y}`);const ie=await M.text().catch(le=>nd(le).message),se=rS(ie),ae=se?void 0:ie;throw Ut(this).debug(`[${N}] response error (${Y})`,Go({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,message:ae,durationMs:Date.now()-I})),this.makeStatusError(M.status,se,ae,M.headers)}return Ut(this).info(B),Ut(this).debug(`[${N}] response start`,Go({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:j-I})),{response:M,options:g,controller:A,requestLogID:N,retryOfRequestLogID:s,startTime:I}}async fetchWithTimeout(e,n,s,a){const d=n||{},{signal:f,method:g}=d,v=jl(d,["signal","method"]);f&&f.addEventListener("abort",()=>a.abort());const y=setTimeout(()=>a.abort(),s),T=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,E=Object.assign(Object.assign(Object.assign({signal:a.signal},T?{duplex:"half"}:{}),{method:"GET"}),v);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(y)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s,a){var d;let f;const g=a==null?void 0:a.get("retry-after-ms");if(g){const y=parseFloat(g);Number.isNaN(y)||(f=y)}const v=a==null?void 0:a.get("retry-after");if(v&&!f){const y=parseFloat(v);Number.isNaN(y)?f=Date.parse(v)-Date.now():f=y*1e3}if(!(f&&0<=f&&f<60*1e3)){const y=(d=e.maxRetries)!==null&&d!==void 0?d:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(n,y)}return await sS(f),this.makeRequest(e,n-1,s)}calculateDefaultRetryTimeoutMillis(e,n){const d=n-e,f=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return f*g*1e3}async buildRequest(e,{retryCount:n=0}={}){var s,a,d;const f=Object.assign({},e),{method:g,path:v,query:y,defaultBaseURL:T}=f,E=this.buildURL(v,y,T);"timeout"in f&&oS("timeout",f.timeout),f.timeout=(s=f.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:N,body:b}=this.buildBody({options:f}),I=await this.buildHeaders({options:e,method:g,bodyHeaders:N,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:I},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(d=f.fetchOptions)!==null&&d!==void 0?d:{}),url:E,timeout:f.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:s,retryCount:a}){let d={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let g=Qs([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),cS()),this._options.defaultHeaders,s,e.headers,f]);return this.validateHeaders(g),g.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Qs([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:hS(e)}:this.encoder({body:e,headers:s})}}iu.DEFAULT_TIMEOUT=6e4;class vt extends iu{constructor(){super(...arguments),this.interactions=new pg(this)}}gg=vt;vt.GeminiNextGenAPIClient=gg;vt.GeminiNextGenAPIClientError=yn;vt.APIError=Ft;vt.APIConnectionError=tu;vt.APIConnectionTimeoutError=Qm;vt.APIUserAbortError=id;vt.NotFoundError=ng;vt.ConflictError=ig;vt.RateLimitError=rg;vt.BadRequestError=Xm;vt.AuthenticationError=eg;vt.InternalServerError=sg;vt.PermissionDeniedError=tg;vt.UnprocessableEntityError=og;vt.toFile=_S;vt.Interactions=pg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RS(t,e){const n={},s=c(t,["name"]);return s!=null&&h(n,["_url","name"],s),n}function MS(t,e){const n={},s=c(t,["name"]);return s!=null&&h(n,["_url","name"],s),n}function LS(t,e){const n={},s=c(t,["sdkHttpResponse"]);return s!=null&&h(n,["sdkHttpResponse"],s),n}function DS(t,e){const n={},s=c(t,["sdkHttpResponse"]);return s!=null&&h(n,["sdkHttpResponse"],s),n}function US(t,e,n){const s={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&h(e,["displayName"],a),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=c(t,["epochCount"]);e!==void 0&&d!=null&&h(e,["tuningTask","hyperparameters","epochCount"],d);const f=c(t,["learningRateMultiplier"]);if(f!=null&&h(s,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=c(t,["batchSize"]);e!==void 0&&g!=null&&h(e,["tuningTask","hyperparameters","batchSize"],g);const v=c(t,["learningRate"]);if(e!==void 0&&v!=null&&h(e,["tuningTask","hyperparameters","learningRate"],v),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function FS(t,e,n){const s={};let a=c(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const b=c(t,["validationDataset"]);e!==void 0&&b!=null&&h(e,["supervisedTuningSpec"],nm(b))}else if(a==="PREFERENCE_TUNING"){const b=c(t,["validationDataset"]);e!==void 0&&b!=null&&h(e,["preferenceOptimizationSpec"],nm(b))}const d=c(t,["tunedModelDisplayName"]);e!==void 0&&d!=null&&h(e,["tunedModelDisplayName"],d);const f=c(t,["description"]);e!==void 0&&f!=null&&h(e,["description"],f);let g=c(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const b=c(t,["epochCount"]);e!==void 0&&b!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(g==="PREFERENCE_TUNING"){const b=c(t,["epochCount"]);e!==void 0&&b!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let v=c(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const b=c(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(v==="PREFERENCE_TUNING"){const b=c(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let y=c(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const b=c(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(y==="PREFERENCE_TUNING"){const b=c(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let T=c(n,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const b=c(t,["adapterSize"]);e!==void 0&&b!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(T==="PREFERENCE_TUNING"){const b=c(t,["adapterSize"]);e!==void 0&&b!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=c(t,["labels"]);e!==void 0&&E!=null&&h(e,["labels"],E);const N=c(t,["beta"]);return e!==void 0&&N!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],N),s}function VS(t,e){const n={},s=c(t,["baseModel"]);s!=null&&h(n,["baseModel"],s);const a=c(t,["preTunedModel"]);a!=null&&h(n,["preTunedModel"],a);const d=c(t,["trainingDataset"]);d!=null&&JS(d);const f=c(t,["config"]);return f!=null&&US(f,n),n}function BS(t,e){const n={},s=c(t,["baseModel"]);s!=null&&h(n,["baseModel"],s);const a=c(t,["preTunedModel"]);a!=null&&h(n,["preTunedModel"],a);const d=c(t,["trainingDataset"]);d!=null&&ZS(d,n,e);const f=c(t,["config"]);return f!=null&&FS(f,n,e),n}function zS(t,e){const n={},s=c(t,["name"]);return s!=null&&h(n,["_url","name"],s),n}function HS(t,e){const n={},s=c(t,["name"]);return s!=null&&h(n,["_url","name"],s),n}function GS(t,e,n){const s={},a=c(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const d=c(t,["pageToken"]);e!==void 0&&d!=null&&h(e,["_query","pageToken"],d);const f=c(t,["filter"]);return e!==void 0&&f!=null&&h(e,["_query","filter"],f),s}function OS(t,e,n){const s={},a=c(t,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const d=c(t,["pageToken"]);e!==void 0&&d!=null&&h(e,["_query","pageToken"],d);const f=c(t,["filter"]);return e!==void 0&&f!=null&&h(e,["_query","filter"],f),s}function qS(t,e){const n={},s=c(t,["config"]);return s!=null&&GS(s,n),n}function jS(t,e){const n={},s=c(t,["config"]);return s!=null&&OS(s,n),n}function WS(t,e){const n={},s=c(t,["sdkHttpResponse"]);s!=null&&h(n,["sdkHttpResponse"],s);const a=c(t,["nextPageToken"]);a!=null&&h(n,["nextPageToken"],a);const d=c(t,["tunedModels"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(g=>vg(g))),h(n,["tuningJobs"],f)}return n}function KS(t,e){const n={},s=c(t,["sdkHttpResponse"]);s!=null&&h(n,["sdkHttpResponse"],s);const a=c(t,["nextPageToken"]);a!=null&&h(n,["nextPageToken"],a);const d=c(t,["tuningJobs"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(g=>sd(g))),h(n,["tuningJobs"],f)}return n}function $S(t,e){const n={},s=c(t,["name"]);s!=null&&h(n,["model"],s);const a=c(t,["name"]);return a!=null&&h(n,["endpoint"],a),n}function JS(t,e){const n={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=c(t,["examples"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(d=>d)),h(n,["examples","examples"],a)}return n}function ZS(t,e,n){const s={};let a=c(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const f=c(t,["gcsUri"]);e!==void 0&&f!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(a==="PREFERENCE_TUNING"){const f=c(t,["gcsUri"]);e!==void 0&&f!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let d=c(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const f=c(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(d==="PREFERENCE_TUNING"){const f=c(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function vg(t,e){const n={},s=c(t,["sdkHttpResponse"]);s!=null&&h(n,["sdkHttpResponse"],s);const a=c(t,["name"]);a!=null&&h(n,["name"],a);const d=c(t,["state"]);d!=null&&h(n,["state"],Mm(d));const f=c(t,["createTime"]);f!=null&&h(n,["createTime"],f);const g=c(t,["tuningTask","startTime"]);g!=null&&h(n,["startTime"],g);const v=c(t,["tuningTask","completeTime"]);v!=null&&h(n,["endTime"],v);const y=c(t,["updateTime"]);y!=null&&h(n,["updateTime"],y);const T=c(t,["description"]);T!=null&&h(n,["description"],T);const E=c(t,["baseModel"]);E!=null&&h(n,["baseModel"],E);const N=c(t,["_self"]);return N!=null&&h(n,["tunedModel"],$S(N)),n}function sd(t,e){const n={},s=c(t,["sdkHttpResponse"]);s!=null&&h(n,["sdkHttpResponse"],s);const a=c(t,["name"]);a!=null&&h(n,["name"],a);const d=c(t,["state"]);d!=null&&h(n,["state"],Mm(d));const f=c(t,["createTime"]);f!=null&&h(n,["createTime"],f);const g=c(t,["startTime"]);g!=null&&h(n,["startTime"],g);const v=c(t,["endTime"]);v!=null&&h(n,["endTime"],v);const y=c(t,["updateTime"]);y!=null&&h(n,["updateTime"],y);const T=c(t,["error"]);T!=null&&h(n,["error"],T);const E=c(t,["description"]);E!=null&&h(n,["description"],E);const N=c(t,["baseModel"]);N!=null&&h(n,["baseModel"],N);const b=c(t,["tunedModel"]);b!=null&&h(n,["tunedModel"],b);const I=c(t,["preTunedModel"]);I!=null&&h(n,["preTunedModel"],I);const A=c(t,["supervisedTuningSpec"]);A!=null&&h(n,["supervisedTuningSpec"],A);const M=c(t,["preferenceOptimizationSpec"]);M!=null&&h(n,["preferenceOptimizationSpec"],M);const j=c(t,["tuningDataStats"]);j!=null&&h(n,["tuningDataStats"],j);const B=c(t,["encryptionSpec"]);B!=null&&h(n,["encryptionSpec"],B);const F=c(t,["partnerModelTuningSpec"]);F!=null&&h(n,["partnerModelTuningSpec"],F);const Y=c(t,["customBaseModel"]);Y!=null&&h(n,["customBaseModel"],Y);const ie=c(t,["experiment"]);ie!=null&&h(n,["experiment"],ie);const se=c(t,["labels"]);se!=null&&h(n,["labels"],se);const ae=c(t,["outputUri"]);ae!=null&&h(n,["outputUri"],ae);const Pe=c(t,["pipelineJob"]);Pe!=null&&h(n,["pipelineJob"],Pe);const le=c(t,["serviceAccount"]);le!=null&&h(n,["serviceAccount"],le);const Ce=c(t,["tunedModelDisplayName"]);Ce!=null&&h(n,["tunedModelDisplayName"],Ce);const Ie=c(t,["veoTuningSpec"]);return Ie!=null&&h(n,["veoTuningSpec"],Ie),n}function YS(t,e){const n={},s=c(t,["sdkHttpResponse"]);s!=null&&h(n,["sdkHttpResponse"],s);const a=c(t,["name"]);a!=null&&h(n,["name"],a);const d=c(t,["metadata"]);d!=null&&h(n,["metadata"],d);const f=c(t,["done"]);f!=null&&h(n,["done"],f);const g=c(t,["error"]);return g!=null&&h(n,["error"],g),n}function nm(t,e){const n={},s=c(t,["gcsUri"]);s!=null&&h(n,["validationDatasetUri"],s);const a=c(t,["vertexDatasetResource"]);return a!=null&&h(n,["validationDatasetUri"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QS extends wi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jo(_i.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var s;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((s=n.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},n),{preTunedModel:a});return d.baseModel=void 0,await this.tuneInternal(d)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),d=await this.tuneMldevInternal(a);let f="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?f=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(f=d.name.split("/operations/")[0]),{name:f,state:Kc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=HS(e);return g=re("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>sd(T))}else{const y=zS(e);return g=re("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>vg(T))}}async listInternal(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=jS(e);return g=re("tuningJobs",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=KS(T),N=new kp;return Object.assign(N,E),N})}else{const y=qS(e);return g=re("tunedModels",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=WS(T),N=new kp;return Object.assign(N,E),N})}}async cancel(e){var n,s,a,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=MS(e);return g=re("{name}:cancel",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=DS(T),N=new Pp;return Object.assign(N,E),N})}else{const y=RS(e);return g=re("{name}:cancel",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(E=>{const N=E;return N.sdkHttpResponse={headers:T.headers},N})),f.then(T=>{const E=LS(T),N=new Pp;return Object.assign(N,E),N})}}async tuneInternal(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI()){const g=BS(e,e);return d=re("tuningJobs",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(y=>{const T=y;return T.sdkHttpResponse={headers:v.headers},T})),a.then(v=>sd(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let a,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VS(e);return d=re("tunedModels",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(y=>{const T=y;return T.sdkHttpResponse={headers:v.headers},T})),a.then(v=>YS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XS{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const eE=1024*1024*8,tE=3,nE=1e3,iE=2,Kl="x-goog-upload-status";async function oE(t,e,n){var s;const a=await yg(t,e,n),d=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Kl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function rE(t,e,n){var s;const a=await yg(t,e,n),d=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Kl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=bm(d),g=new Td;return Object.assign(g,f),g}async function yg(t,e,n){var s,a;let d=0,f=0,g=new Jc(new Response),v="upload";for(d=t.size;f<d;){const y=Math.min(eE,d-f),T=t.slice(f,f+y);f+y>=d&&(v+=", finalize");let E=0,N=nE;for(;E<tE&&(g=await n.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(f),"Content-Length":String(y)}}}),!(!((s=g==null?void 0:g.headers)===null||s===void 0)&&s[Kl]));)E++,await aE(N),N=N*iE;if(f+=y,((a=g==null?void 0:g.headers)===null||a===void 0?void 0:a[Kl])!=="active")break;if(d<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function sE(t){return{size:t.size,type:t.type}}function aE(t){return new Promise(e=>setTimeout(e,t))}class lE{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oE(e,n,s)}async uploadToFileSearchStore(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rE(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await sE(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uE{create(e,n,s){return new cE(e,n,s)}}class cE{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const im="x-goog-api-key";class dE{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(im)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(im,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hE="gl-node/";class fE{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new vt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=sy(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new dE(this.apiKey);this.apiClient=new sC({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:hE+"web",uploader:new lE,downloader:new XS}),this.models=new EC(this.apiClient),this.live=new _C(this.apiClient,a,new uE),this.batches=new D_(this.apiClient),this.chats=new gx(this.models,this.apiClient),this.caches=new fx(this.apiClient),this.files=new Nx(this.apiClient),this.operations=new NC(this.apiClient),this.authTokens=new GC(this.apiClient),this.tunings=new QS(this.apiClient),this.fileSearchStores=new ZC(this.apiClient)}}function _g(t,e){const n=D.useRef(e);D.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const pE=1;function mE(t){return Object.freeze({__version:pE,map:t})}function gE(t,e){return Object.freeze({...t,...e})}const xg=D.createContext(null),wg=xg.Provider;function ou(){const t=D.useContext(xg);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function vE(t){function e(n,s){const{instance:a,context:d}=t(n).current;return D.useImperativeHandle(s,()=>a),n.children==null?null:Oo.createElement(wg,{value:d},n.children)}return D.forwardRef(e)}function yE(t){function e(n,s){const[a,d]=D.useState(!1),{instance:f}=t(n,d).current;D.useImperativeHandle(s,()=>f),D.useEffect(function(){a&&f.update()},[f,a,n.children]);const g=f._contentNode;return g?Yl.createPortal(n.children,g):null}return D.forwardRef(e)}function Tg(t){function e(n,s){const{instance:a}=t(n).current;return D.useImperativeHandle(s,()=>a),null}return D.forwardRef(e)}function _E(t){return function(n){const s=ou(),a=t(n,s),{instance:d}=a.current,f=D.useRef(n.position),{position:g}=n;return D.useEffect(function(){return d.addTo(s.map),function(){d.remove()}},[s.map,d]),D.useEffect(function(){g!=null&&g!==f.current&&(d.setPosition(g),f.current=g)},[d,g]),a}}function Cg(t,e){const n=D.useRef();D.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Id(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function xE(t,e){return function(s,a){const d=ou(),f=t(Id(s,d),d);return _g(d.map,s.attribution),Cg(f.current,s.eventHandlers),e(f.current,d,s,a),f}}var ea={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var wE=ea.exports,om;function TE(){return om||(om=1,(function(t,e){(function(n,s){s(e)})(wE,(function(n){var s="1.9.4";function a(o){var l,p,x,S;for(p=1,x=arguments.length;p<x;p++){S=arguments[p];for(l in S)o[l]=S[l]}return o}var d=Object.create||(function(){function o(){}return function(l){return o.prototype=l,new o}})();function f(o,l){var p=Array.prototype.slice;if(o.bind)return o.bind.apply(o,p.call(arguments,1));var x=p.call(arguments,2);return function(){return o.apply(l,x.length?x.concat(p.call(arguments)):arguments)}}var g=0;function v(o){return"_leaflet_id"in o||(o._leaflet_id=++g),o._leaflet_id}function y(o,l,p){var x,S,P,U;return U=function(){x=!1,S&&(P.apply(p,S),S=!1)},P=function(){x?S=arguments:(o.apply(p,arguments),setTimeout(U,l),x=!0)},P}function T(o,l,p){var x=l[1],S=l[0],P=x-S;return o===x&&p?o:((o-S)%P+P)%P+S}function E(){return!1}function N(o,l){if(l===!1)return o;var p=Math.pow(10,l===void 0?6:l);return Math.round(o*p)/p}function b(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function I(o){return b(o).split(/\s+/)}function A(o,l){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?d(o.options):{});for(var p in l)o.options[p]=l[p];return o.options}function M(o,l,p){var x=[];for(var S in o)x.push(encodeURIComponent(p?S.toUpperCase():S)+"="+encodeURIComponent(o[S]));return(!l||l.indexOf("?")===-1?"?":"&")+x.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function B(o,l){return o.replace(j,function(p,x){var S=l[x];if(S===void 0)throw new Error("No value provided for variable "+p);return typeof S=="function"&&(S=S(l)),S})}var F=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function Y(o,l){for(var p=0;p<o.length;p++)if(o[p]===l)return p;return-1}var ie="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function se(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var ae=0;function Pe(o){var l=+new Date,p=Math.max(0,16-(l-ae));return ae=l+p,window.setTimeout(o,p)}var le=window.requestAnimationFrame||se("RequestAnimationFrame")||Pe,Ce=window.cancelAnimationFrame||se("CancelAnimationFrame")||se("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Ie(o,l,p){if(p&&le===Pe)o.call(l);else return le.call(window,f(o,l))}function Be(o){o&&Ce.call(window,o)}var Re={__proto__:null,extend:a,create:d,bind:f,get lastId(){return g},stamp:v,throttle:y,wrapNum:T,falseFn:E,formatNum:N,trim:b,splitWords:I,setOptions:A,getParamString:M,template:B,isArray:F,indexOf:Y,emptyImageUrl:ie,requestFn:le,cancelFn:Ce,requestAnimFrame:Ie,cancelAnimFrame:Be};function He(){}He.extend=function(o){var l=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=l.__super__=this.prototype,x=d(p);x.constructor=l,l.prototype=x;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(l[S]=this[S]);return o.statics&&a(l,o.statics),o.includes&&(It(o.includes),a.apply(null,[x].concat(o.includes))),a(x,o),delete x.statics,delete x.includes,x.options&&(x.options=p.options?d(p.options):{},a(x.options,o.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,U=x._initHooks.length;P<U;P++)x._initHooks[P].call(this)}},l},He.include=function(o){var l=this.prototype.options;return a(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},He.mergeOptions=function(o){return a(this.prototype.options,o),this},He.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),p=typeof o=="function"?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function It(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=F(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var qe={on:function(o,l,p){if(typeof o=="object")for(var x in o)this._on(x,o[x],l);else{o=I(o);for(var S=0,P=o.length;S<P;S++)this._on(o[S],l,p)}return this},off:function(o,l,p){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var x in o)this._off(x,o[x],l);else{o=I(o);for(var S=arguments.length===1,P=0,U=o.length;P<U;P++)S?this._off(o[P]):this._off(o[P],l,p)}return this},_on:function(o,l,p,x){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(o,l,p)===!1){p===this&&(p=void 0);var S={fn:l,ctx:p};x&&(S.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(S)}},_off:function(o,l,p){var x,S,P;if(this._events&&(x=this._events[o],!!x)){if(arguments.length===1){if(this._firingCount)for(S=0,P=x.length;S<P;S++)x[S].fn=E;delete this._events[o];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var U=this._listens(o,l,p);if(U!==!1){var G=x[U];this._firingCount&&(G.fn=E,this._events[o]=x=x.slice()),x.splice(U,1)}}},fire:function(o,l,p){if(!this.listens(o,p))return this;var x=a({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var S=this._events[o];if(S){this._firingCount=this._firingCount+1||1;for(var P=0,U=S.length;P<U;P++){var G=S[P],W=G.fn;G.once&&this.off(o,W,G.ctx),W.call(G.ctx||this,x)}this._firingCount--}}return p&&this._propagateEvent(x),this},listens:function(o,l,p,x){typeof o!="string"&&console.warn('"string" type argument expected');var S=l;typeof l!="function"&&(x=!!l,S=void 0,p=void 0);var P=this._events&&this._events[o];if(P&&P.length&&this._listens(o,S,p)!==!1)return!0;if(x){for(var U in this._eventParents)if(this._eventParents[U].listens(o,l,p,x))return!0}return!1},_listens:function(o,l,p){if(!this._events)return!1;var x=this._events[o]||[];if(!l)return!!x.length;p===this&&(p=void 0);for(var S=0,P=x.length;S<P;S++)if(x[S].fn===l&&x[S].ctx===p)return S;return!1},once:function(o,l,p){if(typeof o=="object")for(var x in o)this._on(x,o[x],l,!0);else{o=I(o);for(var S=0,P=o.length;S<P;S++)this._on(o[S],l,p,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[v(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[v(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,a({layer:o.target,propagatedFrom:o.target},o),!0)}};qe.addEventListener=qe.on,qe.removeEventListener=qe.clearAllEventListeners=qe.off,qe.addOneTimeEventListener=qe.once,qe.fireEvent=qe.fire,qe.hasEventListeners=qe.listens;var Me=He.extend(qe);function $(o,l,p){this.x=p?Math.round(o):o,this.y=p?Math.round(l):l}var xe=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(o){return this.clone()._add(Z(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Z(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new $(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new $(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=xe(this.x),this.y=xe(this.y),this},distanceTo:function(o){o=Z(o);var l=o.x-this.x,p=o.y-this.y;return Math.sqrt(l*l+p*p)},equals:function(o){return o=Z(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=Z(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function Z(o,l,p){return o instanceof $?o:F(o)?new $(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new $(o.x,o.y):new $(o,l,p)}function z(o,l){if(o)for(var p=l?[o,l]:o,x=0,S=p.length;x<S;x++)this.extend(p[x])}z.prototype={extend:function(o){var l,p;if(!o)return this;if(o instanceof $||typeof o[0]=="number"||"x"in o)l=p=Z(o);else if(o=J(o),l=o.min,p=o.max,!l||!p)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=p.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(o){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,p;return typeof o[0]=="number"||o instanceof $?o=Z(o):o=J(o),o instanceof z?(l=o.min,p=o.max):l=p=o,l.x>=this.min.x&&p.x<=this.max.x&&l.y>=this.min.y&&p.y<=this.max.y},intersects:function(o){o=J(o);var l=this.min,p=this.max,x=o.min,S=o.max,P=S.x>=l.x&&x.x<=p.x,U=S.y>=l.y&&x.y<=p.y;return P&&U},overlaps:function(o){o=J(o);var l=this.min,p=this.max,x=o.min,S=o.max,P=S.x>l.x&&x.x<p.x,U=S.y>l.y&&x.y<p.y;return P&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var l=this.min,p=this.max,x=Math.abs(l.x-p.x)*o,S=Math.abs(l.y-p.y)*o;return J(Z(l.x-x,l.y-S),Z(p.x+x,p.y+S))},equals:function(o){return o?(o=J(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function J(o,l){return!o||o instanceof z?o:new z(o,l)}function ye(o,l){if(o)for(var p=l?[o,l]:o,x=0,S=p.length;x<S;x++)this.extend(p[x])}ye.prototype={extend:function(o){var l=this._southWest,p=this._northEast,x,S;if(o instanceof pe)x=o,S=o;else if(o instanceof ye){if(x=o._southWest,S=o._northEast,!x||!S)return this}else return o?this.extend(ce(o)||ve(o)):this;return!l&&!p?(this._southWest=new pe(x.lat,x.lng),this._northEast=new pe(S.lat,S.lng)):(l.lat=Math.min(x.lat,l.lat),l.lng=Math.min(x.lng,l.lng),p.lat=Math.max(S.lat,p.lat),p.lng=Math.max(S.lng,p.lng)),this},pad:function(o){var l=this._southWest,p=this._northEast,x=Math.abs(l.lat-p.lat)*o,S=Math.abs(l.lng-p.lng)*o;return new ye(new pe(l.lat-x,l.lng-S),new pe(p.lat+x,p.lng+S))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof pe||"lat"in o?o=ce(o):o=ve(o);var l=this._southWest,p=this._northEast,x,S;return o instanceof ye?(x=o.getSouthWest(),S=o.getNorthEast()):x=S=o,x.lat>=l.lat&&S.lat<=p.lat&&x.lng>=l.lng&&S.lng<=p.lng},intersects:function(o){o=ve(o);var l=this._southWest,p=this._northEast,x=o.getSouthWest(),S=o.getNorthEast(),P=S.lat>=l.lat&&x.lat<=p.lat,U=S.lng>=l.lng&&x.lng<=p.lng;return P&&U},overlaps:function(o){o=ve(o);var l=this._southWest,p=this._northEast,x=o.getSouthWest(),S=o.getNorthEast(),P=S.lat>l.lat&&x.lat<p.lat,U=S.lng>l.lng&&x.lng<p.lng;return P&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return o?(o=ve(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ve(o,l){return o instanceof ye?o:new ye(o,l)}function pe(o,l,p){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,p!==void 0&&(this.alt=+p)}pe.prototype={equals:function(o,l){if(!o)return!1;o=ce(o);var p=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return p<=(l===void 0?1e-9:l)},toString:function(o){return"LatLng("+N(this.lat,o)+", "+N(this.lng,o)+")"},distanceTo:function(o){return Le.distance(this,ce(o))},wrap:function(){return Le.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,p=l/Math.cos(Math.PI/180*this.lat);return ve([this.lat-l,this.lng-p],[this.lat+l,this.lng+p])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function ce(o,l,p){return o instanceof pe?o:F(o)&&typeof o[0]!="object"?o.length===3?new pe(o[0],o[1],o[2]):o.length===2?new pe(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new pe(o.lat,"lng"in o?o.lng:o.lon,o.alt):l===void 0?null:new pe(o,l,p)}var Fe={latLngToPoint:function(o,l){var p=this.projection.project(o),x=this.scale(l);return this.transformation._transform(p,x)},pointToLatLng:function(o,l){var p=this.scale(l),x=this.transformation.untransform(o,p);return this.projection.unproject(x)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,p=this.scale(o),x=this.transformation.transform(l.min,p),S=this.transformation.transform(l.max,p);return new z(x,S)},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?T(o.lng,this.wrapLng,!0):o.lng,p=this.wrapLat?T(o.lat,this.wrapLat,!0):o.lat,x=o.alt;return new pe(p,l,x)},wrapLatLngBounds:function(o){var l=o.getCenter(),p=this.wrapLatLng(l),x=l.lat-p.lat,S=l.lng-p.lng;if(x===0&&S===0)return o;var P=o.getSouthWest(),U=o.getNorthEast(),G=new pe(P.lat-x,P.lng-S),W=new pe(U.lat-x,U.lng-S);return new ye(G,W)}},Le=a({},Fe,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var p=Math.PI/180,x=o.lat*p,S=l.lat*p,P=Math.sin((l.lat-o.lat)*p/2),U=Math.sin((l.lng-o.lng)*p/2),G=P*P+Math.cos(x)*Math.cos(S)*U*U,W=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*W}}),$e=6378137,yt={R:$e,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,p=this.MAX_LATITUDE,x=Math.max(Math.min(p,o.lat),-p),S=Math.sin(x*l);return new $(this.R*o.lng*l,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(o){var l=180/Math.PI;return new pe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:(function(){var o=$e*Math.PI;return new z([-o,-o],[o,o])})()};function Ci(o,l,p,x){if(F(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=l,this._c=p,this._d=x}Ci.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return l=l||1,o.x=l*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return l=l||1,new $((o.x/l-this._b)/this._a,(o.y/l-this._d)/this._c)}};function Si(o,l,p,x){return new Ci(o,l,p,x)}var Ei=a({},Le,{code:"EPSG:3857",projection:yt,transformation:(function(){var o=.5/(Math.PI*yt.R);return Si(o,.5,-o,.5)})()}),Jr=a({},Ei,{code:"EPSG:900913"});function Zr(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Yr(o,l){var p="",x,S,P,U,G,W;for(x=0,P=o.length;x<P;x++){for(G=o[x],S=0,U=G.length;S<U;S++)W=G[S],p+=(S?"L":"M")+W.x+" "+W.y;p+=l?me.svg?"z":"x":""}return p||"M0 0"}var co=document.documentElement.style,ho="ActiveXObject"in window,Qr=ho&&!document.addEventListener,Ni="msLaunchUri"in navigator&&!("documentMode"in document),Dn=wt("webkit"),Wo=wt("android"),Xr=wt("android 2")||wt("android 3"),aa=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),la=Wo&&wt("Google")&&aa<537&&!("AudioNode"in window),Ko=!!window.opera,$o=!Ni&&wt("chrome"),fo=wt("gecko")&&!Dn&&!Ko&&!ho,ua=!$o&&wt("safari"),bi=wt("phantom"),ki="OTransition"in co,lu=navigator.platform.indexOf("Win")===0,es=ho&&"transition"in co,Jo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Xr,ca="MozPerspective"in co,ts=!window.L_DISABLE_3D&&(es||Jo||ca)&&!ki&&!bi,$n=typeof orientation<"u"||wt("mobile"),ns=$n&&Dn,is=$n&&Jo,Zo=!window.PointerEvent&&window.MSPointerEvent,Jn=!!(window.PointerEvent||Zo),Zn="ontouchstart"in window||!!window.TouchEvent,da=!window.L_NO_TOUCH&&(Zn||Jn),ha=$n&&Ko,fa=$n&&fo,pa=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ma=(function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",E,l),window.removeEventListener("testPassiveEventSupport",E,l)}catch{}return o})(),os=(function(){return!!document.createElement("canvas").getContext})(),Yo=!!(document.createElementNS&&Zr("svg").createSVGRect),po=!!Yo&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),rs=!Yo&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),mo=navigator.platform.indexOf("Mac")===0,uu=navigator.platform.indexOf("Linux")===0;function wt(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var me={ie:ho,ielt9:Qr,edge:Ni,webkit:Dn,android:Wo,android23:Xr,androidStock:la,opera:Ko,chrome:$o,gecko:fo,safari:ua,phantom:bi,opera12:ki,win:lu,ie3d:es,webkit3d:Jo,gecko3d:ca,any3d:ts,mobile:$n,mobileWebkit:ns,mobileWebkit3d:is,msPointer:Zo,pointer:Jn,touch:da,touchNative:Zn,mobileOpera:ha,mobileGecko:fa,retina:pa,passiveEvents:ma,canvas:os,svg:Yo,vml:rs,inlineSvg:po,mac:mo,linux:uu},go=me.msPointer?"MSPointerDown":"pointerdown",Qo=me.msPointer?"MSPointerMove":"pointermove",ga=me.msPointer?"MSPointerUp":"pointerup",va=me.msPointer?"MSPointerCancel":"pointercancel",ss={touchstart:go,touchmove:Qo,touchend:ga,touchcancel:va},Un={touchstart:et,touchmove:Xo,touchend:Xo,touchcancel:Xo},Yn={},as=!1;function cu(o,l,p){return l==="touchstart"&&du(),Un[l]?(p=Un[l].bind(this,p),o.addEventListener(ss[l],p,!1),p):(console.warn("wrong event specified:",l),E)}function ya(o,l,p){if(!ss[l]){console.warn("wrong event specified:",l);return}o.removeEventListener(ss[l],p,!1)}function _a(o){Yn[o.pointerId]=o}function xa(o){Yn[o.pointerId]&&(Yn[o.pointerId]=o)}function ls(o){delete Yn[o.pointerId]}function du(){as||(document.addEventListener(go,_a,!0),document.addEventListener(Qo,xa,!0),document.addEventListener(ga,ls,!0),document.addEventListener(va,ls,!0),as=!0)}function Xo(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var p in Yn)l.touches.push(Yn[p]);l.changedTouches=[l],o(l)}}function et(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&tt(l),Xo(o,l)}function hu(o){var l={},p,x;for(x in o)p=o[x],l[x]=p&&p.bind?p.bind(o):p;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var us=200;function wa(o,l){o.addEventListener("dblclick",l);var p=0,x;function S(P){if(P.detail!==1){x=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var U=ei(P);if(!(U.some(function(W){return W instanceof HTMLLabelElement&&W.attributes.for})&&!U.some(function(W){return W instanceof HTMLInputElement||W instanceof HTMLSelectElement}))){var G=Date.now();G-p<=us?(x++,x===2&&l(hu(P))):x=1,p=G}}}return o.addEventListener("click",S),{dblclick:l,simDblclick:S}}function er(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}var cs=Ri(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Pi=Ri(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),vo=Pi==="webkitTransition"||Pi==="OTransition"?Pi+"End":"transitionend";function Wt(o){return typeof o=="string"?document.getElementById(o):o}function yo(o,l){var p=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!p||p==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(o,null);p=x?x[l]:null}return p==="auto"?null:p}function ke(o,l,p){var x=document.createElement(o);return x.className=l||"",p&&p.appendChild(x),x}function Ye(o){var l=o.parentNode;l&&l.removeChild(o)}function tr(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ii(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function xn(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function Ai(o,l){if(o.classList!==void 0)return o.classList.contains(l);var p=nr(o);return p.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(p)}function Ne(o,l){if(o.classList!==void 0)for(var p=I(l),x=0,S=p.length;x<S;x++)o.classList.add(p[x]);else if(!Ai(o,l)){var P=nr(o);ds(o,(P?P+" ":"")+l)}}function Je(o,l){o.classList!==void 0?o.classList.remove(l):ds(o,b((" "+nr(o)+" ").replace(" "+l+" "," ")))}function ds(o,l){o.className.baseVal===void 0?o.className=l:o.className.baseVal=l}function nr(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Tt(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&Ta(o,l)}function Ta(o,l){var p=!1,x="DXImageTransform.Microsoft.Alpha";try{p=o.filters.item(x)}catch{if(l===1)return}l=Math.round(l*100),p?(p.Enabled=l!==100,p.Opacity=l):o.style.filter+=" progid:"+x+"(opacity="+l+")"}function Ri(o){for(var l=document.documentElement.style,p=0;p<o.length;p++)if(o[p]in l)return o[p];return!1}function Kt(o,l,p){var x=l||new $(0,0);o.style[cs]=(me.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(p?" scale("+p+")":"")}function rt(o,l){o._leaflet_pos=l,me.any3d?Kt(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function wn(o){return o._leaflet_pos||new $(0,0)}var Ve,Mi,ir;if("onselectstart"in document)Ve=function(){Se(window,"selectstart",tt)},Mi=function(){We(window,"selectstart",tt)};else{var Qn=Ri(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ve=function(){if(Qn){var o=document.documentElement.style;ir=o[Qn],o[Qn]="none"}},Mi=function(){Qn&&(document.documentElement.style[Qn]=ir,ir=void 0)}}function or(){Se(window,"dragstart",tt)}function rr(){We(window,"dragstart",tt)}var _o,xo;function Li(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&($t(),_o=o,xo=o.style.outlineStyle,o.style.outlineStyle="none",Se(window,"keydown",$t))}function $t(){_o&&(_o.style.outlineStyle=xo,_o=void 0,xo=void 0,We(window,"keydown",$t))}function Tn(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function on(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var wo={__proto__:null,TRANSFORM:cs,TRANSITION:Pi,TRANSITION_END:vo,get:Wt,getStyle:yo,create:ke,remove:Ye,empty:tr,toFront:Ii,toBack:xn,hasClass:Ai,addClass:Ne,removeClass:Je,setClass:ds,getClass:nr,setOpacity:Tt,testProp:Ri,setTransform:Kt,setPosition:rt,getPosition:wn,get disableTextSelection(){return Ve},get enableTextSelection(){return Mi},disableImageDrag:or,enableImageDrag:rr,preventOutline:Li,restoreOutline:$t,getSizedParentNode:Tn,getScale:on};function Se(o,l,p,x){if(l&&typeof l=="object")for(var S in l)fs(o,S,l[S],p);else{l=I(l);for(var P=0,U=l.length;P<U;P++)fs(o,l[P],p,x)}return this}var ct="_leaflet_events";function We(o,l,p,x){if(arguments.length===1)hs(o),delete o[ct];else if(l&&typeof l=="object")for(var S in l)sr(o,S,l[S],p);else if(l=I(l),arguments.length===2)hs(o,function(G){return Y(l,G)!==-1});else for(var P=0,U=l.length;P<U;P++)sr(o,l[P],p,x);return this}function hs(o,l){for(var p in o[ct]){var x=p.split(/\d/)[0];(!l||l(x))&&sr(o,x,null,null,p)}}var Xn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function fs(o,l,p,x){var S=l+v(p)+(x?"_"+v(x):"");if(o[ct]&&o[ct][S])return this;var P=function(G){return p.call(x||o,G||window.event)},U=P;!me.touchNative&&me.pointer&&l.indexOf("touch")===0?P=cu(o,l,P):me.touch&&l==="dblclick"?P=wa(o,P):"addEventListener"in o?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?o.addEventListener(Xn[l]||l,P,me.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(P=function(G){G=G||window.event,So(o,G)&&U(G)},o.addEventListener(Xn[l],P,!1)):o.addEventListener(l,U,!1):o.attachEvent("on"+l,P),o[ct]=o[ct]||{},o[ct][S]=P}function sr(o,l,p,x,S){S=S||l+v(p)+(x?"_"+v(x):"");var P=o[ct]&&o[ct][S];if(!P)return this;!me.touchNative&&me.pointer&&l.indexOf("touch")===0?ya(o,l,P):me.touch&&l==="dblclick"?er(o,P):"removeEventListener"in o?o.removeEventListener(Xn[l]||l,P,!1):o.detachEvent("on"+l,P),o[ct][S]=null}function rn(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function ar(o){return fs(o,"wheel",rn),this}function To(o){return Se(o,"mousedown touchstart dblclick contextmenu",rn),o._leaflet_disable_click=!0,this}function tt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Jt(o){return tt(o),rn(o),this}function ei(o){if(o.composedPath)return o.composedPath();for(var l=[],p=o.target;p;)l.push(p),p=p.parentNode;return l}function Co(o,l){if(!l)return new $(o.clientX,o.clientY);var p=on(l),x=p.boundingClientRect;return new $((o.clientX-x.left)/p.x-l.clientLeft,(o.clientY-x.top)/p.y-l.clientTop)}var fu=me.linux&&me.chrome?window.devicePixelRatio:me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ca(o){return me.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/fu:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function So(o,l){var p=l.relatedTarget;if(!p)return!0;try{for(;p&&p!==o;)p=p.parentNode}catch{return!1}return p!==o}var lr={__proto__:null,on:Se,off:We,stopPropagation:rn,disableScrollPropagation:ar,disableClickPropagation:To,preventDefault:tt,stop:Jt,getPropagationPath:ei,getMousePosition:Co,getWheelDelta:Ca,isExternalTarget:So,addListener:Se,removeListener:We},ur=Me.extend({run:function(o,l,p,x){this.stop(),this._el=o,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=wn(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ie(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,p=this._duration*1e3;l<p?this._runFrame(this._easeOut(l/p),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var p=this._startPos.add(this._offset.multiplyBy(o));l&&p._round(),rt(this._el,p),this.fire("step")},_complete:function(){Be(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ue=Me.extend({options:{crs:Ei,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=A(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ce(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Pi&&me.any3d&&!me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Se(this._proxy,vo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,p){if(l=l===void 0?this._zoom:this._limitZoom(l),o=this._limitCenter(ce(o),l,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=a({animate:p.animate},p.zoom),p.pan=a({animate:p.animate,duration:p.duration},p.pan));var x=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,p.zoom):this._tryAnimatedPan(o,p.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(o,l,p.pan&&p.pan.noMoveStart),this},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return o=o||(me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,l)},zoomOut:function(o,l){return o=o||(me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,l)},setZoomAround:function(o,l,p){var x=this.getZoomScale(l),S=this.getSize().divideBy(2),P=o instanceof $?o:this.latLngToContainerPoint(o),U=P.subtract(S).multiplyBy(1-1/x),G=this.containerPointToLatLng(S.add(U));return this.setView(G,l,{zoom:p})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():ve(o);var p=Z(l.paddingTopLeft||l.padding||[0,0]),x=Z(l.paddingBottomRight||l.padding||[0,0]),S=this.getBoundsZoom(o,!1,p.add(x));if(S=typeof l.maxZoom=="number"?Math.min(l.maxZoom,S):S,S===1/0)return{center:o.getCenter(),zoom:S};var P=x.subtract(p).divideBy(2),U=this.project(o.getSouthWest(),S),G=this.project(o.getNorthEast(),S),W=this.unproject(U.add(G).divideBy(2).add(P),S);return{center:W,zoom:S}},fitBounds:function(o,l){if(o=ve(o),!o.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(o,l);return this.setView(p.center,p.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(o=Z(o).round(),l=l||{},!o.x&&!o.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ur,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Ne(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,p,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,p){if(p=p||{},p.animate===!1||!me.any3d)return this.setView(o,l,p);this._stop();var x=this.project(this.getCenter()),S=this.project(o),P=this.getSize(),U=this._zoom;o=ce(o),l=l===void 0?U:l;var G=Math.max(P.x,P.y),W=G*this.getZoomScale(U,l),Q=S.distanceTo(x)||1,oe=1.42,_e=oe*oe;function Ae(je){var Ji=je?-1:1,bu=je?W:G,ku=W*W-G*G+Ji*_e*_e*Q*Q,ai=2*bu*_e*Q,li=ku/ai,ui=Math.sqrt(li*li+1)-li,Cr=ui<1e-9?-18:Math.log(ui);return Cr}function dt(je){return(Math.exp(je)-Math.exp(-je))/2}function lt(je){return(Math.exp(je)+Math.exp(-je))/2}function Mt(je){return dt(je)/lt(je)}var St=Ae(0);function Ki(je){return G*(lt(St)/lt(St+oe*je))}function Ls(je){return G*(lt(St)*Mt(St+oe*je)-dt(St))/_e}function qn(je){return 1-Math.pow(1-je,1.5)}var qa=Date.now(),si=(Ae(1)-St)/oe,un=p.duration?1e3*p.duration:1e3*si*.8;function $i(){var je=(Date.now()-qa)/un,Ji=qn(je)*si;je<=1?(this._flyToFrame=Ie($i,this),this._move(this.unproject(x.add(S.subtract(x).multiplyBy(Ls(Ji)/Q)),U),this.getScaleZoom(G/Ki(Ji),U),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),$i.call(this),this},flyToBounds:function(o,l){var p=this._getBoundsCenterZoom(o,l);return this.flyTo(p.center,p.zoom,l)},setMaxBounds:function(o){return o=ve(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var p=this.getCenter(),x=this._limitCenter(p,this._zoom,ve(o));return p.equals(x)||this.panTo(x,l),this._enforcingBounds=!1,this},panInside:function(o,l){l=l||{};var p=Z(l.paddingTopLeft||l.padding||[0,0]),x=Z(l.paddingBottomRight||l.padding||[0,0]),S=this.project(this.getCenter()),P=this.project(o),U=this.getPixelBounds(),G=J([U.min.add(p),U.max.subtract(x)]),W=G.getSize();if(!G.contains(P)){this._enforcingBounds=!0;var Q=P.subtract(G.getCenter()),oe=G.extend(P).getSize().subtract(W);S.x+=Q.x<0?-oe.x:oe.x,S.y+=Q.y<0?-oe.y:oe.y,this.panTo(this.unproject(S),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=a({animate:!1,pan:!0},o===!0?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),x=l.divideBy(2).round(),S=p.divideBy(2).round(),P=x.subtract(S);return!P.x&&!P.y?this:(o.animate&&o.pan?this.panBy(P):(o.pan&&this._rawPanBy(P),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=a({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),p=f(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,p,o):navigator.geolocation.getCurrentPosition(l,p,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,p=o.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var l=o.coords.latitude,p=o.coords.longitude,x=new pe(l,p),S=x.toBounds(o.coords.accuracy*2),P=this._locateOptions;if(P.setView){var U=this.getBoundsZoom(S);this.setView(x,P.maxZoom?Math.min(U,P.maxZoom):U)}var G={latlng:x,bounds:S,timestamp:o.timestamp};for(var W in o.coords)typeof o.coords[W]=="number"&&(G[W]=o.coords[W]);this.fire("locationfound",G)}},addHandler:function(o,l){if(!l)return this;var p=this[o]=new l(this);return this._handlers.push(p),this.options[o]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ye(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Be(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Ye(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var p="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),x=ke("div",p,l||this._mapPane);return o&&(this._panes[o]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),l=this.unproject(o.getBottomLeft()),p=this.unproject(o.getTopRight());return new ye(l,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,p){o=ve(o),p=Z(p||[0,0]);var x=this.getZoom()||0,S=this.getMinZoom(),P=this.getMaxZoom(),U=o.getNorthWest(),G=o.getSouthEast(),W=this.getSize().subtract(p),Q=J(this.project(G,x),this.project(U,x)).getSize(),oe=me.any3d?this.options.zoomSnap:1,_e=W.x/Q.x,Ae=W.y/Q.y,dt=l?Math.max(_e,Ae):Math.min(_e,Ae);return x=this.getScaleZoom(dt,x),oe&&(x=Math.round(x/(oe/100))*(oe/100),x=l?Math.ceil(x/oe)*oe:Math.floor(x/oe)*oe),Math.max(S,Math.min(P,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var p=this._getTopLeftPoint(o,l);return new z(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var p=this.options.crs;return l=l===void 0?this._zoom:l,p.scale(o)/p.scale(l)},getScaleZoom:function(o,l){var p=this.options.crs;l=l===void 0?this._zoom:l;var x=p.zoom(o*p.scale(l));return isNaN(x)?1/0:x},project:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ce(o),l)},unproject:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(Z(o),l)},layerPointToLatLng:function(o){var l=Z(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){var l=this.project(ce(o))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ce(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(ve(o))},distance:function(o,l){return this.options.crs.distance(ce(o),ce(l))},containerPointToLayerPoint:function(o){return Z(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Z(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(Z(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(o)))},mouseEventToContainerPoint:function(o){return Co(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=Wt(o);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Se(l,"scroll",this._onScroll,this),this._containerId=v(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&me.any3d,Ne(o,"leaflet-container"+(me.touch?" leaflet-touch":"")+(me.retina?" leaflet-retina":"")+(me.ielt9?" leaflet-oldie":"")+(me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=yo(o,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),rt(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ne(o.markerPane,"leaflet-zoom-hide"),Ne(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,p){rt(this._mapPane,new $(0,0));var x=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var S=this._zoom!==l;this._moveStart(S,p)._move(o,l)._moveEnd(S),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,p,x){l===void 0&&(l=this._zoom);var S=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),x?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Be(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){rt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[v(this._container)]=this;var l=o?We:Se;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),me.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Be(this._resizeRequest),this._resizeRequest=Ie(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var p=[],x,S=l==="mouseout"||l==="mouseover",P=o.target||o.srcElement,U=!1;P;){if(x=this._targets[v(P)],x&&(l==="click"||l==="preclick")&&this._draggableMoved(x)){U=!0;break}if(x&&x.listens(l,!0)&&(S&&!So(P,o)||(p.push(x),S))||P===this._container)break;P=P.parentNode}return!p.length&&!U&&!S&&this.listens(l,!0)&&(p=[this]),p},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(l))){var p=o.type;p==="mousedown"&&Li(l),this._fireDOMEvent(o,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,p){if(o.type==="click"){var x=a({},o);x.type="preclick",this._fireDOMEvent(x,x.type,p)}var S=this._findEventTargets(o,l);if(p){for(var P=[],U=0;U<p.length;U++)p[U].listens(l,!0)&&P.push(p[U]);S=P.concat(S)}if(S.length){l==="contextmenu"&&tt(o);var G=S[0],W={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Q=G.getLatLng&&(!G._radius||G._radius<=10);W.containerPoint=Q?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(o),W.layerPoint=this.containerPointToLayerPoint(W.containerPoint),W.latlng=Q?G.getLatLng():this.layerPointToLatLng(W.layerPoint)}for(U=0;U<S.length;U++)if(S[U].fire(l,W,!0),W.originalEvent._stopped||S[U].options.bubblingMouseEvents===!1&&Y(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return wn(this._mapPane)||new $(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){var p=o&&l!==void 0?this._getNewPixelOrigin(o,l):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var p=this.getSize()._divideBy(2);return this.project(o,l)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,p){var x=this._getNewPixelOrigin(p,l);return this.project(o,l)._subtract(x)},_latLngBoundsToNewLayerBounds:function(o,l,p){var x=this._getNewPixelOrigin(p,l);return J([this.project(o.getSouthWest(),l)._subtract(x),this.project(o.getNorthWest(),l)._subtract(x),this.project(o.getSouthEast(),l)._subtract(x),this.project(o.getNorthEast(),l)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,p){if(!p)return o;var x=this.project(o,l),S=this.getSize().divideBy(2),P=new z(x.subtract(S),x.add(S)),U=this._getBoundsOffset(P,p,l);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?o:this.unproject(x.add(U),l)},_limitOffset:function(o,l){if(!l)return o;var p=this.getPixelBounds(),x=new z(p.min.add(o),p.max.add(o));return o.add(this._getBoundsOffset(x,l))},_getBoundsOffset:function(o,l,p){var x=J(this.project(l.getNorthEast(),p),this.project(l.getSouthWest(),p)),S=x.min.subtract(o.min),P=x.max.subtract(o.max),U=this._rebound(S.x,-P.x),G=this._rebound(S.y,-P.y);return new $(U,G)},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),p=this.getMaxZoom(),x=me.any3d?this.options.zoomSnap:1;return x&&(o=Math.round(o/x)*x),Math.max(l,Math.min(p,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var p=this._getCenterOffset(o)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,l),!0)},_createAnimProxy:function(){var o=this._proxy=ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var p=cs,x=this._proxy.style[p];Kt(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),x===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ye(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();Kt(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(l),S=this._getCenterOffset(o)._divideBy(1-1/x);return p.animate!==!0&&!this.getSize().contains(S)?!1:(Ie(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(o,l,!0)},this),!0)},_animateZoom:function(o,l,p,x){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,Ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fn(o,l){return new Ue(o,l)}var At=He.extend({options:{position:"topright"},initialize:function(o){A(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),p=this.getPosition(),x=o._controlCorners[p];return Ne(l,"leaflet-control"),p.indexOf("bottom")!==-1?x.insertBefore(l,x.firstChild):x.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ye(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Vn=function(o){return new At(o)};Ue.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",p=this._controlContainer=ke("div",l+"control-container",this._container);function x(S,P){var U=l+S+" "+l+P;o[S+P]=ke("div",U,p)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Ye(this._controlCorners[o]);Ye(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ps=At.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,p,x){return p<x?-1:x<p?1:0}},initialize:function(o,l,p){A(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in o)this._addLayer(o[x],x);for(x in l)this._addLayer(l[x],x,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return At.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(v(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=ke("div",o),p=this.options.collapsed;l.setAttribute("aria-haspopup",!0),To(l),ar(l);var x=this._section=ke("section",o+"-list");p&&(this._map.on("click",this.collapse,this),Se(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=ke("a",o+"-toggle",l);S.href="#",S.title="Layers",S.setAttribute("role","button"),Se(S,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){tt(P),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=ke("div",o+"-base",x),this._separator=ke("div",o+"-separator",x),this._overlaysList=ke("div",o+"-overlays",x),l.appendChild(x)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&v(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,p){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:p}),this.options.sortLayers&&this._layers.sort(f(function(x,S){return this.options.sortFunction(x.layer,S.layer,x.name,S.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;tr(this._baseLayersList),tr(this._overlaysList),this._layerControlInputs=[];var o,l,p,x,S=0;for(p=0;p<this._layers.length;p++)x=this._layers[p],this._addItem(x),l=l||x.overlay,o=o||!x.overlay,S+=x.overlay?0:1;return this.options.hideSingleBase&&(o=o&&S>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(v(o.target)),p=l.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;p&&this._map.fire(p,l)},_createRadioElement:function(o,l){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=p,x.firstChild},_addItem:function(o){var l=document.createElement("label"),p=this._map.hasLayer(o.layer),x;o.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=p):x=this._createRadioElement("leaflet-base-layers_"+v(this),p),this._layerControlInputs.push(x),x.layerId=v(o.layer),Se(x,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+o.name;var P=document.createElement("span");l.appendChild(P),P.appendChild(x),P.appendChild(S);var U=o.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,l,p,x=[],S=[];this._handlingClick=!0;for(var P=o.length-1;P>=0;P--)l=o[P],p=this._getLayer(l.layerId).layer,l.checked?x.push(p):l.checked||S.push(p);for(P=0;P<S.length;P++)this._map.hasLayer(S[P])&&this._map.removeLayer(S[P]);for(P=0;P<x.length;P++)this._map.hasLayer(x[P])||this._map.addLayer(x[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,l,p,x=this._map.getZoom(),S=o.length-1;S>=0;S--)l=o[S],p=this._getLayer(l.layerId).layer,l.disabled=p.options.minZoom!==void 0&&x<p.options.minZoom||p.options.maxZoom!==void 0&&x>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Se(o,"click",tt),this.expand();var l=this;setTimeout(function(){We(o,"click",tt),l._preventClick=!1})}}),cr=function(o,l,p){return new ps(o,l,p)},Di=At.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",p=ke("div",l+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,l+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,l+"-out",p,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,p,x,S){var P=ke("a",p,x);return P.innerHTML=o,P.href="#",P.title=l,P.setAttribute("role","button"),P.setAttribute("aria-label",l),To(P),Se(P,"click",Jt),Se(P,"click",S,this),Se(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";Je(this._zoomInButton,l),Je(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ne(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ne(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ue.mergeOptions({zoomControl:!0}),Ue.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Di,this.addControl(this.zoomControl))});var Sa=function(o){return new Di(o)},Ct=At.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",p=ke("div",l),x=this.options;return this._addScales(x,l+"-line",p),o.on(x.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),p},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,p){o.metric&&(this._mScale=ke("div",l,p)),o.imperial&&(this._iScale=ke("div",l,p))},_update:function(){var o=this._map,l=o.getSize().y/2,p=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(p)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o),p=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,p,l/o)},_updateImperial:function(o){var l=o*3.2808399,p,x,S;l>5280?(p=l/5280,x=this._getRoundNum(p),this._updateScale(this._iScale,x+" mi",x/p)):(S=this._getRoundNum(l),this._updateScale(this._iScale,S+" ft",S/l))},_updateScale:function(o,l,p){o.style.width=Math.round(this.options.maxWidth*p)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),p=o/l;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,l*p}}),Ui=function(o){return new Ct(o)},ms='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ti=At.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(me.inlineSvg?ms+" ":"")+"Leaflet</a>"},initialize:function(o){A(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ke("div","leaflet-control-attribution"),To(this._container);for(var l in o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var p=[];this.options.prefix&&p.push(this.options.prefix),o.length&&p.push(o.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Ue.mergeOptions({attributionControl:!0}),Ue.addInitHook(function(){this.options.attributionControl&&new ti().addTo(this)});var pu=function(o){return new ti(o)};At.Layers=ps,At.Zoom=Di,At.Scale=Ct,At.Attribution=ti,Vn.layers=cr,Vn.zoom=Sa,Vn.scale=Ui,Vn.attribution=pu;var Vt=He.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vt.addTo=function(o,l){return o.addHandler(l,this),this};var gs={Events:qe},Fi=me.touch?"touchstart mousedown":"mousedown",Zt=Me.extend({options:{clickTolerance:3},initialize:function(o,l,p,x){A(this,x),this._element=o,this._dragStartTarget=l||o,this._preventOutline=p},enable:function(){this._enabled||(Se(this._dragStartTarget,Fi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Zt._dragging===this&&this.finishDrag(!0),We(this._dragStartTarget,Fi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ai(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Zt._dragging===this&&this.finishDrag();return}if(!(Zt._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Zt._dragging=this,this._preventOutline&&Li(this._element),or(),Ve(),!this._moving)){this.fire("down");var l=o.touches?o.touches[0]:o,p=Tn(this._element);this._startPoint=new $(l.clientX,l.clientY),this._startPos=wn(this._element),this._parentScale=on(p);var x=o.type==="mousedown";Se(document,x?"mousemove":"touchmove",this._onMove,this),Se(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var l=o.touches&&o.touches.length===1?o.touches[0]:o,p=new $(l.clientX,l.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,tt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ne(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),rt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Je(document.body,"leaflet-dragging"),this._lastTarget&&(Je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),We(document,"mousemove touchmove",this._onMove,this),We(document,"mouseup touchend touchcancel",this._onUp,this),rr(),Mi();var l=this._moved&&this._moving;this._moving=!1,Zt._dragging=!1,l&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function vs(o,l,p){var x,S=[1,4,2,8],P,U,G,W,Q,oe,_e,Ae;for(P=0,oe=o.length;P<oe;P++)o[P]._code=ni(o[P],l);for(G=0;G<4;G++){for(_e=S[G],x=[],P=0,oe=o.length,U=oe-1;P<oe;U=P++)W=o[P],Q=o[U],W._code&_e?Q._code&_e||(Ae=hr(Q,W,_e,l,p),Ae._code=ni(Ae,l),x.push(Ae)):(Q._code&_e&&(Ae=hr(Q,W,_e,l,p),Ae._code=ni(Ae,l),x.push(Ae)),x.push(W));o=x}return o}function Ea(o,l){var p,x,S,P,U,G,W,Q,oe;if(!o||o.length===0)throw new Error("latlngs not passed");Bt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var _e=ce([0,0]),Ae=ve(o),dt=Ae.getNorthWest().distanceTo(Ae.getSouthWest())*Ae.getNorthEast().distanceTo(Ae.getNorthWest());dt<1700&&(_e=ys(o));var lt=o.length,Mt=[];for(p=0;p<lt;p++){var St=ce(o[p]);Mt.push(l.project(ce([St.lat-_e.lat,St.lng-_e.lng])))}for(G=W=Q=0,p=0,x=lt-1;p<lt;x=p++)S=Mt[p],P=Mt[x],U=S.y*P.x-P.y*S.x,W+=(S.x+P.x)*U,Q+=(S.y+P.y)*U,G+=U*3;G===0?oe=Mt[0]:oe=[W/G,Q/G];var Ki=l.unproject(Z(oe));return ce([Ki.lat+_e.lat,Ki.lng+_e.lng])}function ys(o){for(var l=0,p=0,x=0,S=0;S<o.length;S++){var P=ce(o[S]);l+=P.lat,p+=P.lng,x++}return ce([l/x,p/x])}var mu={__proto__:null,clipPolygon:vs,polygonCenter:Ea,centroid:ys};function dr(o,l){if(!l||!o.length)return o.slice();var p=l*l;return o=yu(o,p),o=vu(o,p),o}function Na(o,l,p){return Math.sqrt(ii(o,l,p,!0))}function gu(o,l,p){return ii(o,l,p)}function vu(o,l){var p=o.length,x=typeof Uint8Array<"u"?Uint8Array:Array,S=new x(p);S[0]=S[p-1]=1,_s(o,S,l,0,p-1);var P,U=[];for(P=0;P<p;P++)S[P]&&U.push(o[P]);return U}function _s(o,l,p,x,S){var P=0,U,G,W;for(G=x+1;G<=S-1;G++)W=ii(o[G],o[x],o[S],!0),W>P&&(U=G,P=W);P>p&&(l[U]=1,_s(o,l,p,x,U),_s(o,l,p,U,S))}function yu(o,l){for(var p=[o[0]],x=1,S=0,P=o.length;x<P;x++)_u(o[x],o[S])>l&&(p.push(o[x]),S=x);return S<P-1&&p.push(o[P-1]),p}var xs;function ba(o,l,p,x,S){var P=x?xs:ni(o,p),U=ni(l,p),G,W,Q;for(xs=U;;){if(!(P|U))return[o,l];if(P&U)return!1;G=P||U,W=hr(o,l,G,p,S),Q=ni(W,p),G===P?(o=W,P=Q):(l=W,U=Q)}}function hr(o,l,p,x,S){var P=l.x-o.x,U=l.y-o.y,G=x.min,W=x.max,Q,oe;return p&8?(Q=o.x+P*(W.y-o.y)/U,oe=W.y):p&4?(Q=o.x+P*(G.y-o.y)/U,oe=G.y):p&2?(Q=W.x,oe=o.y+U*(W.x-o.x)/P):p&1&&(Q=G.x,oe=o.y+U*(G.x-o.x)/P),new $(Q,oe,S)}function ni(o,l){var p=0;return o.x<l.min.x?p|=1:o.x>l.max.x&&(p|=2),o.y<l.min.y?p|=4:o.y>l.max.y&&(p|=8),p}function _u(o,l){var p=l.x-o.x,x=l.y-o.y;return p*p+x*x}function ii(o,l,p,x){var S=l.x,P=l.y,U=p.x-S,G=p.y-P,W=U*U+G*G,Q;return W>0&&(Q=((o.x-S)*U+(o.y-P)*G)/W,Q>1?(S=p.x,P=p.y):Q>0&&(S+=U*Q,P+=G*Q)),U=o.x-S,G=o.y-P,x?U*U+G*G:new $(S,P)}function Bt(o){return!F(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function ka(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bt(o)}function Pa(o,l){var p,x,S,P,U,G,W,Q;if(!o||o.length===0)throw new Error("latlngs not passed");Bt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var oe=ce([0,0]),_e=ve(o),Ae=_e.getNorthWest().distanceTo(_e.getSouthWest())*_e.getNorthEast().distanceTo(_e.getNorthWest());Ae<1700&&(oe=ys(o));var dt=o.length,lt=[];for(p=0;p<dt;p++){var Mt=ce(o[p]);lt.push(l.project(ce([Mt.lat-oe.lat,Mt.lng-oe.lng])))}for(p=0,x=0;p<dt-1;p++)x+=lt[p].distanceTo(lt[p+1])/2;if(x===0)Q=lt[0];else for(p=0,P=0;p<dt-1;p++)if(U=lt[p],G=lt[p+1],S=U.distanceTo(G),P+=S,P>x){W=(P-x)/S,Q=[G.x-W*(G.x-U.x),G.y-W*(G.y-U.y)];break}var St=l.unproject(Z(Q));return ce([St.lat+oe.lat,St.lng+oe.lng])}var Ia={__proto__:null,simplify:dr,pointToSegmentDistance:Na,closestPointOnSegment:gu,clipSegment:ba,_getEdgeIntersection:hr,_getBitCode:ni,_sqClosestPointOnSegment:ii,isFlat:Bt,_flat:ka,polylineCenter:Pa},ws={project:function(o){return new $(o.lng,o.lat)},unproject:function(o){return new pe(o.y,o.x)},bounds:new z([-180,-90],[180,90])},Ts={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var l=Math.PI/180,p=this.R,x=o.lat*l,S=this.R_MINOR/p,P=Math.sqrt(1-S*S),U=P*Math.sin(x),G=Math.tan(Math.PI/4-x/2)/Math.pow((1-U)/(1+U),P/2);return x=-p*Math.log(Math.max(G,1e-10)),new $(o.lng*l*p,x)},unproject:function(o){for(var l=180/Math.PI,p=this.R,x=this.R_MINOR/p,S=Math.sqrt(1-x*x),P=Math.exp(-o.y/p),U=Math.PI/2-2*Math.atan(P),G=0,W=.1,Q;G<15&&Math.abs(W)>1e-7;G++)Q=S*Math.sin(U),Q=Math.pow((1-Q)/(1+Q),S/2),W=Math.PI/2-2*Math.atan(P*Q)-U,U+=W;return new pe(U*l,o.x*l/p)}},xu={__proto__:null,LonLat:ws,Mercator:Ts,SphericalMercator:yt},wu=a({},Le,{code:"EPSG:3395",projection:Ts,transformation:(function(){var o=.5/(Math.PI*Ts.R);return Si(o,.5,-o,.5)})()}),Aa=a({},Le,{code:"EPSG:4326",projection:ws,transformation:Si(1/180,1,-1/180,.5)}),Tu=a({},Fe,{projection:ws,transformation:Si(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var p=l.lng-o.lng,x=l.lat-o.lat;return Math.sqrt(p*p+x*x)},infinite:!0});Fe.Earth=Le,Fe.EPSG3395=wu,Fe.EPSG3857=Ei,Fe.EPSG900913=Jr,Fe.EPSG4326=Aa,Fe.Simple=Tu;var Yt=Me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[v(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[v(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var p=this.getEvents();l.on(p,this),this.once("remove",function(){l.off(p,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ue.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=v(o);return this._layers[l]?this:(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var l=v(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return v(o)in this._layers},eachLayer:function(o,l){for(var p in this._layers)o.call(l,this._layers[p]);return this},_addLayers:function(o){o=o?F(o)?o:[o]:[];for(var l=0,p=o.length;l<p;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[v(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=v(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,p=this._getZoomSpan();for(var x in this._zoomBoundLayers){var S=this._zoomBoundLayers[x].options;o=S.minZoom===void 0?o:Math.min(o,S.minZoom),l=S.maxZoom===void 0?l:Math.max(l,S.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Bn=Yt.extend({initialize:function(o,l){A(this,l),this._layers={};var p,x;if(o)for(p=0,x=o.length;p<x;p++)this.addLayer(o[p])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){var l=typeof o=="number"?o:this.getLayerId(o);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l=Array.prototype.slice.call(arguments,1),p,x;for(p in this._layers)x=this._layers[p],x[o]&&x[o].apply(x,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var p in this._layers)o.call(l,this._layers[p]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return v(o)}}),Eo=function(o,l){return new Bn(o,l)},Cn=Bn.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Bn.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Bn.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new ye;for(var l in this._layers){var p=this._layers[l];o.extend(p.getBounds?p.getBounds():p.getLatLng())}return o}}),Ra=function(o,l){return new Cn(o,l)},oi=He.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){A(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var p=this._getIconUrl(o);if(!p){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(p,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(x,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(o,l){var p=this.options,x=p[l+"Size"];typeof x=="number"&&(x=[x,x]);var S=Z(x),P=Z(l==="shadow"&&p.shadowAnchor||p.iconAnchor||S&&S.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(p.className||""),P&&(o.style.marginLeft=-P.x+"px",o.style.marginTop=-P.y+"px"),S&&(o.style.width=S.x+"px",o.style.height=S.y+"px")},_createImg:function(o,l){return l=l||document.createElement("img"),l.src=o,l},_getIconUrl:function(o){return me.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Ma(o){return new oi(o)}var Vi=oi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Vi.imagePath!="string"&&(Vi.imagePath=this._detectIconPath()),(this.options.imagePath||Vi.imagePath)+oi.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(p,x,S){var P=x.exec(p);return P&&P[S]};return o=l(o,/^url\((['"])?(.+)\1\)$/,2),o&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ke("div","leaflet-default-icon-path",document.body),l=yo(o,"background-image")||yo(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l),l)return l;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Cs=Vt.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Zt(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ne(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,p=l._map,x=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,P=wn(l._icon),U=p.getPixelBounds(),G=p.getPixelOrigin(),W=J(U.min._subtract(G).add(S),U.max._subtract(G).subtract(S));if(!W.contains(P)){var Q=Z((Math.max(W.max.x,P.x)-W.max.x)/(U.max.x-W.max.x)-(Math.min(W.min.x,P.x)-W.min.x)/(U.min.x-W.min.x),(Math.max(W.max.y,P.y)-W.max.y)/(U.max.y-W.max.y)-(Math.min(W.min.y,P.y)-W.min.y)/(U.min.y-W.min.y)).multiplyBy(x);p.panBy(Q,{animate:!1}),this._draggable._newPos._add(Q),this._draggable._startPos._add(Q),rt(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Ie(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Be(this._panRequest),this._panRequest=Ie(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,p=l._shadow,x=wn(l._icon),S=l._map.layerPointToLatLng(x);p&&rt(p,x),l._latlng=S,o.latlng=S,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Be(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Sn=Yt.extend({options:{icon:new Vi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){A(this,l),this._latlng=ce(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=ce(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=o.icon.createIcon(this._icon),x=!1;p!==this._icon&&(this._icon&&this._removeIcon(),x=!0,o.title&&(p.title=o.title),p.tagName==="IMG"&&(p.alt=o.alt||"")),Ne(p,l),o.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Se(p,"focus",this._panOnFocus,this);var S=o.icon.createShadow(this._shadow),P=!1;S!==this._shadow&&(this._removeShadow(),P=!0),S&&(Ne(S,l),S.alt=""),this._shadow=S,o.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&P&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&We(this._icon,"focus",this._panOnFocus,this),Ye(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ye(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&rt(this._icon,o),this._shadow&&rt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Cs)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Cs(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Tt(this._icon,o),this._shadow&&Tt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,p=l.iconSize?Z(l.iconSize):Z(0,0),x=l.iconAnchor?Z(l.iconAnchor):Z(0,0);o.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:p.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Cu(o,l){return new Sn(o,l)}var zn=Yt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return A(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fr=zn.extend({options:{fill:!0,radius:10},initialize:function(o,l){A(this,l),this._latlng=ce(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=ce(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return zn.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,p=this._clickTolerance(),x=[o+p,l+p];this._pxBounds=new z(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function La(o,l){return new fr(o,l)}var pr=fr.extend({initialize:function(o,l,p){if(typeof l=="number"&&(l=a({},p,{radius:l})),A(this,l),this._latlng=ce(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:zn.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,p=this._map,x=p.options.crs;if(x.distance===Le.distance){var S=Math.PI/180,P=this._mRadius/Le.R/S,U=p.project([l+P,o]),G=p.project([l-P,o]),W=U.add(G).divideBy(2),Q=p.unproject(W).lat,oe=Math.acos((Math.cos(P*S)-Math.sin(l*S)*Math.sin(Q*S))/(Math.cos(l*S)*Math.cos(Q*S)))/S;(isNaN(oe)||oe===0)&&(oe=P/Math.cos(Math.PI/180*l)),this._point=W.subtract(p.getPixelOrigin()),this._radius=isNaN(oe)?0:W.x-p.project([Q,o-oe]).x,this._radiusY=W.y-U.y}else{var _e=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(_e).x}this._updateBounds()}});function No(o,l,p){return new pr(o,l,p)}var Rt=zn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){A(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var l=1/0,p=null,x=ii,S,P,U=0,G=this._parts.length;U<G;U++)for(var W=this._parts[U],Q=1,oe=W.length;Q<oe;Q++){S=W[Q-1],P=W[Q];var _e=x(o,S,P,!0);_e<l&&(l=_e,p=x(o,S,P))}return p&&(p.distance=Math.sqrt(l)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=ce(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new ye,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Bt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],p=Bt(o),x=0,S=o.length;x<S;x++)p?(l[x]=ce(o[x]),this._bounds.extend(l[x])):l[x]=this._convertLatLngs(o[x]);return l},_project:function(){var o=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new $(o,o);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,p){var x=o[0]instanceof pe,S=o.length,P,U;if(x){for(U=[],P=0;P<S;P++)U[P]=this._map.latLngToLayerPoint(o[P]),p.extend(U[P]);l.push(U)}else for(P=0;P<S;P++)this._projectLatlngs(o[P],l,p)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,p,x,S,P,U,G,W;for(p=0,S=0,P=this._rings.length;p<P;p++)for(W=this._rings[p],x=0,U=W.length;x<U-1;x++)G=ba(W[x],W[x+1],o,x,!0),G&&(l[S]=l[S]||[],l[S].push(G[0]),(G[1]!==W[x+1]||x===U-2)&&(l[S].push(G[1]),S++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,p=0,x=o.length;p<x;p++)o[p]=dr(o[p],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var p,x,S,P,U,G,W=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(p=0,P=this._parts.length;p<P;p++)for(G=this._parts[p],x=0,U=G.length,S=U-1;x<U;S=x++)if(!(!l&&x===0)&&Na(o,G[S],G[x])<=W)return!0;return!1}});function Su(o,l){return new Rt(o,l)}Rt._flat=ka;var En=Rt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ea(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=Rt.prototype._convertLatLngs.call(this,o),p=l.length;return p>=2&&l[0]instanceof pe&&l[0].equals(l[p-1])&&l.pop(),l},_setLatLngs:function(o){Rt.prototype._setLatLngs.call(this,o),Bt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,p=new $(l,l);if(o=new z(o.min.subtract(p),o.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,S=this._rings.length,P;x<S;x++)P=vs(this._rings[x],o,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l=!1,p,x,S,P,U,G,W,Q;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(P=0,W=this._parts.length;P<W;P++)for(p=this._parts[P],U=0,Q=p.length,G=Q-1;U<Q;G=U++)x=p[U],S=p[G],x.y>o.y!=S.y>o.y&&o.x<(S.x-x.x)*(o.y-x.y)/(S.y-x.y)+x.x&&(l=!l);return l||Rt.prototype._containsPoint.call(this,o,!0)}});function Eu(o,l){return new En(o,l)}var sn=Cn.extend({initialize:function(o,l){A(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var l=F(o)?o:o.features,p,x,S;if(l){for(p=0,x=l.length;p<x;p++)S=l[p],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var P=this.options;if(P.filter&&!P.filter(o))return this;var U=Bi(o,P);return U?(U.feature=_r(o),U.defaultOptions=U.options,this.resetStyle(U),P.onEachFeature&&P.onEachFeature(o,U),this.addLayer(U)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=a({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&(typeof l=="function"&&(l=l(o.feature)),o.setStyle(l))}});function Bi(o,l){var p=o.type==="Feature"?o.geometry:o,x=p?p.coordinates:null,S=[],P=l&&l.pointToLayer,U=l&&l.coordsToLatLng||gr,G,W,Q,oe;if(!x&&!p)return null;switch(p.type){case"Point":return G=U(x),mr(P,o,G,l);case"MultiPoint":for(Q=0,oe=x.length;Q<oe;Q++)G=U(x[Q]),S.push(mr(P,o,G,l));return new Cn(S);case"LineString":case"MultiLineString":return W=bo(x,p.type==="LineString"?0:1,U),new Rt(W,l);case"Polygon":case"MultiPolygon":return W=bo(x,p.type==="Polygon"?1:2,U),new En(W,l);case"GeometryCollection":for(Q=0,oe=p.geometries.length;Q<oe;Q++){var _e=Bi({geometry:p.geometries[Q],type:"Feature",properties:o.properties},l);_e&&S.push(_e)}return new Cn(S);case"FeatureCollection":for(Q=0,oe=p.features.length;Q<oe;Q++){var Ae=Bi(p.features[Q],l);Ae&&S.push(Ae)}return new Cn(S);default:throw new Error("Invalid GeoJSON object.")}}function mr(o,l,p,x){return o?o(l,p):new Sn(p,x&&x.markersInheritOptions&&x)}function gr(o){return new pe(o[1],o[0],o[2])}function bo(o,l,p){for(var x=[],S=0,P=o.length,U;S<P;S++)U=l?bo(o[S],l-1,p):(p||gr)(o[S]),x.push(U);return x}function vr(o,l){return o=ce(o),o.alt!==void 0?[N(o.lng,l),N(o.lat,l),N(o.alt,l)]:[N(o.lng,l),N(o.lat,l)]}function yr(o,l,p,x){for(var S=[],P=0,U=o.length;P<U;P++)S.push(l?yr(o[P],Bt(o[P])?0:l-1,p,x):vr(o[P],x));return!l&&p&&S.length>0&&S.push(S[0].slice()),S}function zi(o,l){return o.feature?a({},o.feature,{geometry:l}):_r(l)}function _r(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Ss={toGeoJSON:function(o){return zi(this,{type:"Point",coordinates:vr(this.getLatLng(),o)})}};Sn.include(Ss),pr.include(Ss),fr.include(Ss),Rt.include({toGeoJSON:function(o){var l=!Bt(this._latlngs),p=yr(this._latlngs,l?1:0,!1,o);return zi(this,{type:(l?"Multi":"")+"LineString",coordinates:p})}}),En.include({toGeoJSON:function(o){var l=!Bt(this._latlngs),p=l&&!Bt(this._latlngs[0]),x=yr(this._latlngs,p?2:l?1:0,!0,o);return l||(x=[x]),zi(this,{type:(p?"Multi":"")+"Polygon",coordinates:x})}}),Bn.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(p){l.push(p.toGeoJSON(o).geometry.coordinates)}),zi(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(o);var p=l==="GeometryCollection",x=[];return this.eachLayer(function(S){if(S.toGeoJSON){var P=S.toGeoJSON(o);if(p)x.push(P.geometry);else{var U=_r(P);U.type==="FeatureCollection"?x.push.apply(x,U.features):x.push(U)}}}),p?zi(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function Da(o,l){return new sn(o,l)}var Qt=Da,Hn=Yt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,p){this._url=o,this._bounds=ve(l),A(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ye(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ii(this._image),this},bringToBack:function(){return this._map&&xn(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=ve(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",l=this._image=o?this._url:ke("img");if(Ne(l,"leaflet-image-layer"),this._zoomAnimated&&Ne(l,"leaflet-zoom-animated"),this.options.className&&Ne(l,this.options.className),l.onselectstart=E,l.onmousemove=E,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Kt(this._image,p,l)},_reset:function(){var o=this._image,l=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=l.getSize();rt(o,l.min),o.style.width=p.x+"px",o.style.height=p.y+"px"},_updateOpacity:function(){Tt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Ua=function(o,l,p){return new Hn(o,l,p)},Es=Hn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",l=this._image=o?this._url:ke("video");if(Ne(l,"leaflet-image-layer"),this._zoomAnimated&&Ne(l,"leaflet-zoom-animated"),this.options.className&&Ne(l,this.options.className),l.onselectstart=E,l.onmousemove=E,l.onloadeddata=f(this.fire,this,"load"),o){for(var p=l.getElementsByTagName("source"),x=[],S=0;S<p.length;S++)x.push(p[S].src);this._url=p.length>0?x:[l.src];return}F(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var U=ke("source");U.src=this._url[P],l.appendChild(U)}}});function Fa(o,l,p){return new Es(o,l,p)}var Ns=Hn.extend({_initImage:function(){var o=this._image=this._url;Ne(o,"leaflet-image-layer"),this._zoomAnimated&&Ne(o,"leaflet-zoom-animated"),this.options.className&&Ne(o,this.options.className),o.onselectstart=E,o.onmousemove=E}});function bs(o,l,p){return new Ns(o,l,p)}var an=Yt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof pe||F(o))?(this._latlng=ce(o),A(this,l)):(A(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Tt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Tt(this._container,1),this.bringToFront(),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Tt(this._container,0),this._removeTimeout=setTimeout(f(Ye,void 0,this._container),200)):Ye(this._container),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ce(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ii(this._container),this},bringToBack:function(){return this._map&&xn(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof Cn){l=null;var p=this._source._layers;for(var x in p)if(p[x]._map){l=p[x];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else if(l.getBounds)o=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=Z(this.options.offset),p=this._getAnchor();this._zoomAnimated?rt(this._container,o.add(p)):l=l.add(o).add(p);var x=this._containerBottom=-l.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=x+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Ue.include({_initOverlay:function(o,l,p,x){var S=l;return S instanceof o||(S=new o(x).setContent(l)),p&&S.setLatLng(p),S}}),Yt.include({_initOverlay:function(o,l,p,x){var S=p;return S instanceof o?(A(S,x),S._source=this):(S=l&&!x?l:new o(x,this),S.setContent(p)),S}});var xr=an.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,an.prototype.openOn.call(this,o)},onAdd:function(o){an.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zn||this._source.on("preclick",rn))},onRemove:function(o){an.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zn||this._source.off("preclick",rn))},getEvents:function(){var o=an.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=ke("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=ke("div",o+"-content-wrapper",l);if(this._contentNode=ke("div",o+"-content",p),To(l),ar(this._contentNode),Se(l,"contextmenu",rn),this._tipContainer=ke("div",o+"-tip-container",l),this._tip=ke("div",o+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=ke("a",o+"-close-button",l);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Se(x,"click",function(S){tt(S),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var p=o.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),l.width=p+1+"px",l.whiteSpace="",l.height="";var x=o.offsetHeight,S=this.options.maxHeight,P="leaflet-popup-scrolled";S&&x>S?(l.height=S+"px",Ne(o,P)):Je(o,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),p=this._getAnchor();rt(this._container,l.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,l=parseInt(yo(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+l,x=this._containerWidth,S=new $(this._containerLeft,-p-this._containerBottom);S._add(wn(this._container));var P=o.layerPointToContainerPoint(S),U=Z(this.options.autoPanPadding),G=Z(this.options.autoPanPaddingTopLeft||U),W=Z(this.options.autoPanPaddingBottomRight||U),Q=o.getSize(),oe=0,_e=0;P.x+x+W.x>Q.x&&(oe=P.x+x-Q.x+W.x),P.x-oe-G.x<0&&(oe=P.x-G.x),P.y+p+W.y>Q.y&&(_e=P.y+p-Q.y+W.y),P.y-_e-G.y<0&&(_e=P.y-G.y),(oe||_e)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([oe,_e]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Hi=function(o,l){return new xr(o,l)};Ue.mergeOptions({closePopupOnClick:!0}),Ue.include({openPopup:function(o,l,p){return this._initOverlay(xr,o,l,p).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Yt.include({bindPopup:function(o,l){return this._popup=this._initOverlay(xr,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Cn||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Jt(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof zn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Gi=an.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){an.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){an.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=an.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",l=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ke("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,p,x=this._map,S=this._container,P=x.latLngToContainerPoint(x.getCenter()),U=x.layerPointToContainerPoint(o),G=this.options.direction,W=S.offsetWidth,Q=S.offsetHeight,oe=Z(this.options.offset),_e=this._getAnchor();G==="top"?(l=W/2,p=Q):G==="bottom"?(l=W/2,p=0):G==="center"?(l=W/2,p=Q/2):G==="right"?(l=0,p=Q/2):G==="left"?(l=W,p=Q/2):U.x<P.x?(G="right",l=0,p=Q/2):(G="left",l=W+(oe.x+_e.x)*2,p=Q/2),o=o.subtract(Z(l,p,!0)).add(oe).add(_e),Je(S,"leaflet-tooltip-right"),Je(S,"leaflet-tooltip-left"),Je(S,"leaflet-tooltip-top"),Je(S,"leaflet-tooltip-bottom"),Ne(S,"leaflet-tooltip-"+G),rt(S,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Tt(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ko=function(o,l){return new Gi(o,l)};Ue.include({openTooltip:function(o,l,p){return this._initOverlay(Gi,o,l,p).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Yt.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Gi,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var l=o?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[l](p),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Cn||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&(Se(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Se(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l=o.latlng,p,x;this._tooltip.options.sticky&&o.originalEvent&&(p=this._map.mouseEventToContainerPoint(o.originalEvent),x=this._map.containerPointToLayerPoint(p),l=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(l)}});var wr=oi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&o.tagName==="DIV"?o:document.createElement("div"),p=this.options;if(p.html instanceof Element?(tr(l),l.appendChild(p.html)):l.innerHTML=p.html!==!1?p.html:"",p.bgPos){var x=Z(p.bgPos);l.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Va(o){return new wr(o)}oi.Default=Vi;var Gn=Yt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){A(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Ye(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ii(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(xn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof $?o:new $(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var l=this.getPane().children,p=-o(-1/0,1/0),x=0,S=l.length,P;x<S;x++)P=l[x].style.zIndex,l[x]!==this._container&&P&&(p=o(p,+P));isFinite(p)&&(this.options.zIndex=p+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!me.ielt9){Tt(this._container,this.options.opacity);var o=+new Date,l=!1,p=!1;for(var x in this._tiles){var S=this._tiles[x];if(!(!S.current||!S.loaded)){var P=Math.min(1,(o-S.loaded)/200);Tt(S.el,P),P<1?l=!0:(S.active?p=!0:this._onOpaqueTile(S),S.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),l&&(Be(this._fadeFrame),this._fadeFrame=Ie(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(o!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===o?(this._levels[p].el.style.zIndex=l-Math.abs(o-p),this._onUpdateLevel(p)):(Ye(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var x=this._levels[o],S=this._map;return x||(x=this._levels[o]={},x.el=ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=l,x.origin=S.project(S.unproject(S.getPixelOrigin()),o).round(),x.zoom=o,this._setZoomTransform(x,S.getCenter(),S.getZoom()),E(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var o,l,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)l=this._tiles[o],l.retain=l.current;for(o in this._tiles)if(l=this._tiles[o],l.current&&!l.active){var x=l.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Ye(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,p,x){var S=Math.floor(o/2),P=Math.floor(l/2),U=p-1,G=new $(+S,+P);G.z=+U;var W=this._tileCoordsToKey(G),Q=this._tiles[W];return Q&&Q.active?(Q.retain=!0,!0):(Q&&Q.loaded&&(Q.retain=!0),U>x?this._retainParent(S,P,U,x):!1)},_retainChildren:function(o,l,p,x){for(var S=2*o;S<2*o+2;S++)for(var P=2*l;P<2*l+2;P++){var U=new $(S,P);U.z=p+1;var G=this._tileCoordsToKey(U),W=this._tiles[G];if(W&&W.active){W.retain=!0;continue}else W&&W.loaded&&(W.retain=!0);p+1<x&&this._retainChildren(S,P,p+1,x)}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return l.minNativeZoom!==void 0&&o<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,p,x){var S=Math.round(l);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var P=this.options.updateWhenZooming&&S!==this._tileZoom;(!x||P)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(o),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var p in this._levels)this._setZoomTransform(this._levels[p],o,l)},_setZoomTransform:function(o,l,p){var x=this._map.getZoomScale(p,o.zoom),S=o.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(l,p)).round();me.any3d?Kt(o.el,S,x):rt(o.el,S)},_resetGrid:function(){var o=this._map,l=o.options.crs,p=this._tileSize=this.getTileSize(),x=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],x).x/p.x),Math.ceil(o.project([0,l.wrapLng[1]],x).x/p.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],x).y/p.x),Math.ceil(o.project([l.wrapLat[1],0],x).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,p=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),x=l.getZoomScale(p,this._tileZoom),S=l.project(o,this._tileZoom).floor(),P=l.getSize().divideBy(x*2);return new z(S.subtract(P),S.add(P))},_update:function(o){var l=this._map;if(l){var p=this._clampZoom(l.getZoom());if(o===void 0&&(o=l.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(o),S=this._pxBoundsToTileRange(x),P=S.getCenter(),U=[],G=this.options.keepBuffer,W=new z(S.getBottomLeft().subtract([G,-G]),S.getTopRight().add([G,-G]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Q in this._tiles){var oe=this._tiles[Q].coords;(oe.z!==this._tileZoom||!W.contains(new $(oe.x,oe.y)))&&(this._tiles[Q].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(o,p);return}for(var _e=S.min.y;_e<=S.max.y;_e++)for(var Ae=S.min.x;Ae<=S.max.x;Ae++){var dt=new $(Ae,_e);if(dt.z=this._tileZoom,!!this._isValidTile(dt)){var lt=this._tiles[this._tileCoordsToKey(dt)];lt?lt.current=!0:U.push(dt)}}if(U.sort(function(St,Ki){return St.distanceTo(P)-Ki.distanceTo(P)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mt=document.createDocumentFragment();for(Ae=0;Ae<U.length;Ae++)this._addTile(U[Ae],Mt);this._level.el.appendChild(Mt)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var p=this._globalTileRange;if(!l.wrapLng&&(o.x<p.min.x||o.x>p.max.x)||!l.wrapLat&&(o.y<p.min.y||o.y>p.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(o);return ve(this.options.bounds).overlaps(x)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,p=this.getTileSize(),x=o.scaleBy(p),S=x.add(p),P=l.unproject(x,o.z),U=l.unproject(S,o.z);return[P,U]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),p=new ye(l[0],l[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),p=new $(+l[0],+l[1]);return p.z=+l[2],p},_removeTile:function(o){var l=this._tiles[o];l&&(Ye(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ne(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=E,o.onmousemove=E,me.ielt9&&this.options.opacity<1&&Tt(o,this.options.opacity)},_addTile:function(o,l){var p=this._getTilePos(o),x=this._tileCoordsToKey(o),S=this.createTile(this._wrapCoords(o),f(this._tileReady,this,o));this._initTile(S),this.createTile.length<2&&Ie(f(this._tileReady,this,o,null,S)),rt(S,p),this._tiles[x]={el:S,coords:o,current:!0},l.appendChild(S),this.fire("tileloadstart",{tile:S,coords:o})},_tileReady:function(o,l,p){l&&this.fire("tileerror",{error:l,tile:p,coords:o});var x=this._tileCoordsToKey(o);p=this._tiles[x],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Tt(p.el,0),Be(this._fadeFrame),this._fadeFrame=Ie(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),l||(Ne(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),me.ielt9||!this._map._fadeAnimated?Ie(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new $(this._wrapX?T(o.x,this._wrapX):o.x,this._wrapY?T(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new z(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Oi(o){return new Gn(o)}var On=Gn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,l=A(this,l),l.detectRetina&&me.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&l===void 0&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var p=document.createElement("img");return Se(p,"load",f(this._tileOnLoad,this,l,p)),Se(p,"error",f(this._tileOnError,this,l,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(o),p},getTileUrl:function(o){var l={r:me.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=p),l["-y"]=p}return B(this._url,a(l,this.options))},_tileOnLoad:function(o,l){me.ielt9?setTimeout(f(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,p){var x=this.options.errorTileUrl;x&&l.getAttribute("src")!==x&&(l.src=x),o(p,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,l=this.options.maxZoom,p=this.options.zoomReverse,x=this.options.zoomOffset;return p&&(o=l-o),o+x},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(l=this._tiles[o].el,l.onload=E,l.onerror=E,!l.complete)){l.src=ie;var p=this._tiles[o].coords;Ye(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:p})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",ie),Gn.prototype._removeTile.call(this,o)},_tileReady:function(o,l,p){if(!(!this._map||p&&p.getAttribute("src")===ie))return Gn.prototype._tileReady.call(this,o,l,p)}});function ks(o,l){return new On(o,l)}var Po=On.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var p=a({},this.defaultWmsParams);for(var x in l)x in this.options||(p[x]=l[x]);l=A(this,l);var S=l.detectRetina&&me.retina?2:1,P=this.getTileSize();p.width=P.x*S,p.height=P.y*S,this.wmsParams=p},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,On.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),p=this._crs,x=J(p.project(l[0]),p.project(l[1])),S=x.min,P=x.max,U=(this._wmsVersion>=1.3&&this._crs===Aa?[S.y,S.x,P.y,P.x]:[S.x,S.y,P.x,P.y]).join(","),G=On.prototype.getTileUrl.call(this,o);return G+M(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(o,l){return a(this.wmsParams,o),l||this.redraw(),this}});function Ba(o,l){return new Po(o,l)}On.WMS=Po,ks.wms=Ba;var ln=Yt.extend({options:{padding:.1},initialize:function(o){A(this,o),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var p=this._map.getZoomScale(l,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,l),P=x.multiplyBy(-p).add(S).subtract(this._map._getNewPixelOrigin(o,l));me.any3d?Kt(this._container,P,p):rt(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),p=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new z(p,p.add(l.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ps=ln.extend({options:{tolerance:0},getEvents:function(){var o=ln.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Se(o,"mousemove",this._onMouseMove,this),Se(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Se(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Be(this._redrawRequest),delete this._ctx,Ye(this._container),We(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var l in this._layers)o=this._layers[l],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var o=this._bounds,l=this._container,p=o.getSize(),x=me.retina?2:1;rt(l,o.min),l.width=x*p.x,l.height=x*p.y,l.style.width=p.x+"px",l.style.height=p.y+"px",me.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[v(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,p=l.next,x=l.prev;p?p.prev=x:this._drawLast=x,x?x.next=p:this._drawFirst=p,delete o._order,delete this._layers[v(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var l=o.options.dashArray.split(/[, ]+/),p=[],x,S;for(S=0;S<l.length;S++){if(x=Number(l[S]),isNaN(x))return;p.push(x)}o.options._dashArray=p}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Ie(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var p=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)o=x.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var p,x,S,P,U=o._parts,G=U.length,W=this._ctx;if(G){for(W.beginPath(),p=0;p<G;p++){for(x=0,S=U[p].length;x<S;x++)P=U[p][x],W[x?"lineTo":"moveTo"](P.x,P.y);l&&W.closePath()}this._fillStroke(W,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var l=o._point,p=this._ctx,x=Math.max(Math.round(o._radius),1),S=(Math.max(Math.round(o._radiusY),1)||x)/x;S!==1&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(l.x,l.y/S,x,0,Math.PI*2,!1),S!==1&&p.restore(),this._fillStroke(p,o)}},_fillStroke:function(o,l){var p=l.options;p.fill&&(o.globalAlpha=p.fillOpacity,o.fillStyle=p.fillColor||p.color,o.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=p.opacity,o.lineWidth=p.weight,o.strokeStyle=p.color,o.lineCap=p.lineCap,o.lineJoin=p.lineJoin,o.stroke())},_onClick:function(o){for(var l=this._map.mouseEventToLayerPoint(o),p,x,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(p))&&(x=p);this._fireEvent(x?[x]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(Je(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var p,x,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(l)&&(x=p);x!==this._hoveredLayer&&(this._handleMouseOut(o),x&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([x],o,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,p){this._map._fireDOMEvent(l,p||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var p=l.next,x=l.prev;if(p)p.prev=x;else return;x?x.next=p:p&&(this._drawFirst=p),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var p=l.next,x=l.prev;if(x)x.next=p;else return;p?p.prev=x:x&&(this._drawLast=x),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function Is(o){return me.canvas?new Ps(o):null}var qi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),za={_initContainer:function(){this._container=ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ln.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=qi("shape");Ne(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=qi("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[v(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;Ye(l),o.removeInteractiveTarget(l),delete this._layers[v(o)]},_updateStyle:function(o){var l=o._stroke,p=o._fill,x=o.options,S=o._container;S.stroked=!!x.stroke,S.filled=!!x.fill,x.stroke?(l||(l=o._stroke=qi("stroke")),S.appendChild(l),l.weight=x.weight+"px",l.color=x.color,l.opacity=x.opacity,x.dashArray?l.dashStyle=F(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=x.lineCap.replace("butt","flat"),l.joinstyle=x.lineJoin):l&&(S.removeChild(l),o._stroke=null),x.fill?(p||(p=o._fill=qi("fill")),S.appendChild(p),p.color=x.fillColor||x.color,p.opacity=x.fillOpacity):p&&(S.removeChild(p),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),p=Math.round(o._radius),x=Math.round(o._radiusY||p);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+p+","+x+" 0,"+65535*360)},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){Ii(o._container)},_bringToBack:function(o){xn(o._container)}},Xt=me.vml?qi:Zr,ri=ln.extend({_initContainer:function(){this._container=Xt("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Xt("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ye(this._container),We(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var o=this._bounds,l=o.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,p.setAttribute("width",l.x),p.setAttribute("height",l.y)),rt(p,o.min),p.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=Xt("path");o.options.className&&Ne(l,o.options.className),o.options.interactive&&Ne(l,"leaflet-interactive"),this._updateStyle(o),this._layers[v(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Ye(o._path),o.removeInteractiveTarget(o._path),delete this._layers[v(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,p=o.options;l&&(p.stroke?(l.setAttribute("stroke",p.color),l.setAttribute("stroke-opacity",p.opacity),l.setAttribute("stroke-width",p.weight),l.setAttribute("stroke-linecap",p.lineCap),l.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?l.setAttribute("stroke-dasharray",p.dashArray):l.removeAttribute("stroke-dasharray"),p.dashOffset?l.setAttribute("stroke-dashoffset",p.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),p.fill?(l.setAttribute("fill",p.fillColor||p.color),l.setAttribute("fill-opacity",p.fillOpacity),l.setAttribute("fill-rule",p.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,Yr(o._parts,l))},_updateCircle:function(o){var l=o._point,p=Math.max(Math.round(o._radius),1),x=Math.max(Math.round(o._radiusY),1)||p,S="a"+p+","+x+" 0 1,0 ",P=o._empty()?"M0 0":"M"+(l.x-p)+","+l.y+S+p*2+",0 "+S+-p*2+",0 ";this._setPath(o,P)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){Ii(o._path)},_bringToBack:function(o){xn(o._path)}});me.vml&&ri.include(za);function Tr(o){return me.svg||me.vml?new ri(o):null}Ue.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var l=this._paneRenderers[o];return l===void 0&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&Is(o)||Tr(o)}});var Ha=En.extend({initialize:function(o,l){En.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=ve(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Nu(o,l){return new Ha(o,l)}ri.create=Xt,ri.pointsToPath=Yr,sn.geometryToLayer=Bi,sn.coordsToLatLng=gr,sn.coordsToLatLngs=bo,sn.latLngToCoords=vr,sn.latLngsToCoords=yr,sn.getFeature=zi,sn.asFeature=_r,Ue.mergeOptions({boxZoom:!0});var ji=Vt.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Se(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){We(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ye(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ve(),or(),this._startPoint=this._map.mouseEventToContainerPoint(o),Se(document,{contextmenu:Jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ke("div","leaflet-zoom-box",this._container),Ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new z(this._point,this._startPoint),p=l.getSize();rt(this._box,l.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Ye(this._box),Je(this._container,"leaflet-crosshair")),Mi(),rr(),We(document,{contextmenu:Jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ue.addInitHook("addHandler","boxZoom",ji),Ue.mergeOptions({doubleClickZoom:!0});var Ga=Vt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,p=l.getZoom(),x=l.options.zoomDelta,S=o.originalEvent.shiftKey?p-x:p+x;l.options.doubleClickZoom==="center"?l.setZoom(S):l.setZoomAround(o.containerPoint,S)}});Ue.addInitHook("addHandler","doubleClickZoom",Ga),Ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var As=Vt.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Zt(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Je(this._map._container,"leaflet-grab"),Je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ve(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),p=this._initialWorldOffset,x=this._draggable._newPos.x,S=(x-l+p)%o+l-p,P=(x+l+p)%o-l-p,U=Math.abs(S+p)<Math.abs(P+p)?S:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(o){var l=this._map,p=l.options,x=!p.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),x)l.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,U=p.easeLinearity,G=S.multiplyBy(U/P),W=G.distanceTo([0,0]),Q=Math.min(p.inertiaMaxSpeed,W),oe=G.multiplyBy(Q/W),_e=Q/(p.inertiaDeceleration*U),Ae=oe.multiplyBy(-_e/2).round();!Ae.x&&!Ae.y?l.fire("moveend"):(Ae=l._limitOffset(Ae,l.options.maxBounds),Ie(function(){l.panBy(Ae,{duration:_e,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});Ue.addInitHook("addHandler","dragging",As),Ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Rs=Vt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Se(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),We(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,p=o.scrollTop||l.scrollTop,x=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(x,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var l=this._panKeys={},p=this.keyCodes,x,S;for(x=0,S=p.left.length;x<S;x++)l[p.left[x]]=[-1*o,0];for(x=0,S=p.right.length;x<S;x++)l[p.right[x]]=[o,0];for(x=0,S=p.down.length;x<S;x++)l[p.down[x]]=[0,o];for(x=0,S=p.up.length;x<S;x++)l[p.up[x]]=[0,-1*o]},_setZoomDelta:function(o){var l=this._zoomKeys={},p=this.keyCodes,x,S;for(x=0,S=p.zoomIn.length;x<S;x++)l[p.zoomIn[x]]=o;for(x=0,S=p.zoomOut.length;x<S;x++)l[p.zoomOut[x]]=-o},_addHooks:function(){Se(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){We(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var l=o.keyCode,p=this._map,x;if(l in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(x=this._panKeys[l],o.shiftKey&&(x=Z(x).multiplyBy(3)),p.options.maxBounds&&(x=p._limitOffset(Z(x),p.options.maxBounds)),p.options.worldCopyJump){var S=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(x)));p.panTo(S)}else p.panBy(x)}else if(l in this._zoomKeys)p.setZoom(p.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Jt(o)}}});Ue.addInitHook("addHandler","keyboard",Rs),Ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ke=Vt.extend({addHooks:function(){Se(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){We(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=Ca(o),p=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var x=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),x),Jt(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),p=this._map.options.zoomSnap||0;o._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,P=p?Math.ceil(S/p)*p:S,U=o._limitZoom(l+(this._delta>0?P:-P))-l;this._delta=0,this._startTime=null,U&&(o.options.scrollWheelZoom==="center"?o.setZoom(l+U):o.setZoomAround(this._lastMousePos,l+U))}});Ue.addInitHook("addHandler","scrollWheelZoom",Ke);var Ms=600;Ue.mergeOptions({tapHold:me.touchNative&&me.safari&&me.mobile,tapTolerance:15});var Io=Vt.extend({addHooks:function(){Se(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){We(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var l=o.touches[0];this._startPos=this._newPos=new $(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Se(document,"touchend",tt),Se(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Ms),Se(document,"touchend touchcancel contextmenu",this._cancel,this),Se(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){We(document,"touchend",tt),We(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),We(document,"touchend touchcancel contextmenu",this._cancel,this),We(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new $(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var p=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});p._simulated=!0,l.target.dispatchEvent(p)}});Ue.addInitHook("addHandler","tapHold",Io),Ue.mergeOptions({touchZoom:me.touch,bounceAtZoomLimits:!0});var Wi=Vt.extend({addHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),Se(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),We(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(!(!o.touches||o.touches.length!==2||l._animatingZoom||this._zooming)){var p=l.mouseEventToContainerPoint(o.touches[0]),x=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(p.add(x)._divideBy(2))),this._startDist=p.distanceTo(x),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Se(document,"touchmove",this._onTouchMove,this),Se(document,"touchend touchcancel",this._onTouchEnd,this),tt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var l=this._map,p=l.mouseEventToContainerPoint(o.touches[0]),x=l.mouseEventToContainerPoint(o.touches[1]),S=p.distanceTo(x)/this._startDist;if(this._zoom=l.getScaleZoom(S,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&S<1||this._zoom>l.getMaxZoom()&&S>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var P=p._add(x)._divideBy(2)._subtract(this._centerPoint);if(S===1&&P.x===0&&P.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Be(this._animRequest);var U=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ie(U,this,!0),tt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Be(this._animRequest),We(document,"touchmove",this._onTouchMove,this),We(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ue.addInitHook("addHandler","touchZoom",Wi),Ue.BoxZoom=ji,Ue.DoubleClickZoom=Ga,Ue.Drag=As,Ue.Keyboard=Rs,Ue.ScrollWheelZoom=Ke,Ue.TapHold=Io,Ue.TouchZoom=Wi,n.Bounds=z,n.Browser=me,n.CRS=Fe,n.Canvas=Ps,n.Circle=pr,n.CircleMarker=fr,n.Class=He,n.Control=At,n.DivIcon=wr,n.DivOverlay=an,n.DomEvent=lr,n.DomUtil=wo,n.Draggable=Zt,n.Evented=Me,n.FeatureGroup=Cn,n.GeoJSON=sn,n.GridLayer=Gn,n.Handler=Vt,n.Icon=oi,n.ImageOverlay=Hn,n.LatLng=pe,n.LatLngBounds=ye,n.Layer=Yt,n.LayerGroup=Bn,n.LineUtil=Ia,n.Map=Ue,n.Marker=Sn,n.Mixin=gs,n.Path=zn,n.Point=$,n.PolyUtil=mu,n.Polygon=En,n.Polyline=Rt,n.Popup=xr,n.PosAnimation=ur,n.Projection=xu,n.Rectangle=Ha,n.Renderer=ln,n.SVG=ri,n.SVGOverlay=Ns,n.TileLayer=On,n.Tooltip=Gi,n.Transformation=Ci,n.Util=Re,n.VideoOverlay=Es,n.bind=f,n.bounds=J,n.canvas=Is,n.circle=No,n.circleMarker=La,n.control=Vn,n.divIcon=Va,n.extend=a,n.featureGroup=Ra,n.geoJSON=Da,n.geoJson=Qt,n.gridLayer=Oi,n.icon=Ma,n.imageOverlay=Ua,n.latLng=ce,n.latLngBounds=ve,n.layerGroup=Eo,n.map=Fn,n.marker=Cu,n.point=Z,n.polygon=Eu,n.polyline=Su,n.popup=Hi,n.rectangle=Nu,n.setOptions=A,n.stamp=v,n.svg=Tr,n.svgOverlay=bs,n.tileLayer=ks,n.tooltip=ko,n.transformation=Si,n.version=s,n.videoOverlay=Fa;var Oa=window.L;n.noConflict=function(){return window.L=Oa,this},window.L=n}))})(ea,ea.exports)),ea.exports}var $r=TE();const Sg=dd($r);function ru(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function su(t,e){return e==null?function(s,a){const d=D.useRef();return d.current||(d.current=t(s,a)),d}:function(s,a){const d=D.useRef();d.current||(d.current=t(s,a));const f=D.useRef(s),{instance:g}=d.current;return D.useEffect(function(){f.current!==s&&(e(g,s,f.current),f.current=s)},[g,s,a]),d}}function CE(t,e){D.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var d;(d=e.layerContainer)==null||d.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Eg(t){return function(n){const s=ou(),a=t(Id(n,s),s);return _g(s.map,n.attribution),Cg(a.current,n.eventHandlers),CE(a.current,s),a}}function SE(t){function e(a,d){return ru(t(a),d)}const n=su(e),s=_E(n);return Tg(s)}function EE(t,e){const n=su(t,e),s=Eg(n);return vE(s)}function NE(t,e){const n=su(t),s=xE(n,e);return yE(s)}function bE(t,e){const n=su(t,e),s=Eg(n);return Tg(s)}function kE(t,e,n){const{opacity:s,zIndex:a}=e;s!=null&&s!==n.opacity&&t.setOpacity(s),a!=null&&a!==n.zIndex&&t.setZIndex(a)}function au(){return ou().map}function PE(t){const e=au();return D.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function ad(){return ad=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ad.apply(this,arguments)}function IE({bounds:t,boundsOptions:e,center:n,children:s,className:a,id:d,placeholder:f,style:g,whenReady:v,zoom:y,...T},E){const[N]=D.useState({className:a,id:d,style:g}),[b,I]=D.useState(null);D.useImperativeHandle(E,()=>(b==null?void 0:b.map)??null,[b]);const A=D.useCallback(j=>{if(j!==null&&b===null){const B=new $r.Map(j,T);n!=null&&y!=null?B.setView(n,y):t!=null&&B.fitBounds(t,e),v!=null&&B.whenReady(v),I(mE(B))}},[]);D.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const M=b?Oo.createElement(wg,{value:b},s):f??null;return Oo.createElement("div",ad({},N,{ref:A}),M)}const Ng=D.forwardRef(IE),bg=EE(function({position:e,...n},s){const a=new $r.Marker(e,n);return ru(a,gE(s,{overlayContainer:a}))},function(e,n,s){n.position!==s.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),kg=bE(function({url:e,...n},s){const a=new $r.TileLayer(e,Id(n,s));return ru(a,s)},function(e,n,s){kE(e,n,s);const{url:a}=n;a!=null&&a!==s.url&&e.setUrl(a)}),Pg=NE(function(e,n){const s=new $r.Tooltip(e,n.overlayContainer);return ru(s,n)},function(e,n,{position:s},a){D.useEffect(function(){const f=n.overlayContainer;if(f==null)return;const{instance:g}=e,v=T=>{T.tooltip===g&&(s!=null&&g.setLatLng(s),g.update(),a(!0))},y=T=>{T.tooltip===g&&a(!1)};return f.on({tooltipopen:v,tooltipclose:y}),f.bindTooltip(g),function(){f.off({tooltipopen:v,tooltipclose:y}),f._map!=null&&f.unbindTooltip()}},[e,n,a,s])}),Ig=SE(function(e){return new $r.Control.Zoom(e)}),AE=[16,108],RE=(t=.1)=>{const[e,n]=D.useState(!1),s=D.useRef(null);return D.useEffect(()=>{const a=new IntersectionObserver(([d])=>{d.isIntersecting&&(n(!0),a.disconnect())},{threshold:t});return s.current&&a.observe(s.current),()=>{a.disconnect()}},[t]),{ref:s,isVisible:e}},Ul=({children:t,className:e="",delay:n=0})=>{const{ref:s,isVisible:a}=RE(.1);return _.jsx("div",{ref:s,className:`transition-all duration-[1000ms] ease-out-expo ${e} ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-16"}`,style:{transitionDelay:`${n}ms`},children:t})},ME=()=>{const t=au();return D.useEffect(()=>{const e=setTimeout(()=>{t.invalidateSize()},600);return()=>clearTimeout(e)},[t]),null},LE=({onInteract:t})=>(PE({dragstart:()=>t(),zoomstart:()=>t(),click:()=>t(),mousedown:()=>t()}),null),DE=({coords:t})=>{const e=au();return D.useEffect(()=>{t&&!isNaN(t[0])&&!isNaN(t[1])&&e.flyTo(t,9,{animate:!0,duration:1.5})},[t,e]),null},UE=Oo.memo(({ethnic:t,isSelected:e,onClick:n,onHover:s})=>_.jsxs("button",{onMouseEnter:()=>s(t.name),onMouseLeave:()=>s(null),onClick:()=>n(t),className:`w-full text-left p-4 rounded-2xl transition-all duration-300 border-2 flex items-center gap-4 group ${e?"bg-primary border-primary text-white shadow-xl scale-[1.02] z-10":"bg-white border-gold/10 text-text-main hover:border-primary/30 shadow-sm hover:translate-x-1"}`,children:[_.jsx("div",{className:`size-10 rounded-full flex items-center justify-center font-black text-xs shrink-0 shadow-inner transition-colors duration-300 ${e?"bg-gold/20 text-gold":"bg-primary/5 text-primary"}`,children:t.name.charAt(0)}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h4",{className:"font-black uppercase text-[12px] tracking-tight truncate",children:t.name}),_.jsx("p",{className:`text-[9px] font-bold tracking-widest transition-colors duration-300 ${e?"text-gold-light/70":"text-bronze"}`,children:t.location})]})]})),FE=({story:t,onClose:e})=>(D.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),Yl.createPortal(_.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center px-4 font-display",children:[_.jsx("div",{className:"absolute inset-0 bg-text-main/80 backdrop-blur-sm animate-fade-in",onClick:e}),_.jsxs("div",{className:"bg-white w-[95vw] h-[85vh] rounded-[2.5rem] shadow-2xl relative z-10 animate-slide-up flex overflow-hidden border-4 border-gold/20 flex-col md:flex-row",children:[_.jsx("button",{onClick:e,className:"absolute top-6 right-6 z-50 size-12 rounded-full bg-white/20 hover:bg-primary hover:text-white transition-colors flex items-center justify-center backdrop-blur-md border border-white/40 shadow-lg group",children:_.jsx("span",{className:"material-symbols-outlined text-2xl group-hover:rotate-90 transition-transform",children:"close"})}),_.jsxs("div",{className:"w-full md:w-[70%] h-1/2 md:h-full relative bg-[#F2EFE6] group border-b md:border-b-0 md:border-r border-gold/10",children:[_.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover grayscale-[10%]"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-80"}),_.jsxs("div",{className:"absolute bottom-6 left-6 md:bottom-10 md:left-16 text-white max-w-2xl p-2",children:[_.jsx("div",{className:"inline-block px-4 py-1.5 bg-primary/90 backdrop-blur text-white text-[10px] font-black uppercase tracking-widest rounded-full mb-3 md:mb-4 border border-white/20 shadow-lg",children:t.subtitle}),_.jsx("h2",{className:"text-3xl md:text-4xl lg:text-6xl font-black italic tracking-tighter leading-tight drop-shadow-lg",children:t.title})]})]}),_.jsx("div",{className:"w-full md:w-[30%] h-1/2 md:h-full flex flex-col bg-white relative",children:_.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-8 lg:p-10",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6 md:mb-8",children:[_.jsx("span",{className:"w-8 h-1 bg-primary rounded-full"}),_.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em] text-text-soft",children:"Cu chuyn di sn"})]}),_.jsx("div",{className:"prose prose-sm md:prose-lg text-text-main font-serif leading-loose text-justify",children:t.content.map((n,s)=>_.jsx("p",{className:"mb-4 md:mb-6 opacity-0 animate-fade-in-up",style:{animationDelay:`${s*150}ms`,animationFillMode:"forwards"},children:n},s))}),_.jsx("div",{className:"mt-8 md:mt-10 p-6 bg-background-light rounded-2xl border border-gold/10",children:_.jsx("p",{className:"text-center font-serif italic text-primary font-bold",children:'"Lng nghe ngn xa vng li..."'})})]})})]})]}),document.body)),VE=()=>{const[t,e]=D.useState(null),[n,s]=D.useState(null),[a,d]=D.useState(0),[f,g]=D.useState(null),v=pd(),y=D.useRef(null);D.useEffect(()=>{let b=!1;const I=()=>{b||(window.requestAnimationFrame(()=>{window.scrollY<window.innerHeight*1.2&&d(window.scrollY),b=!1}),b=!0)};return window.addEventListener("scroll",I,{passive:!0}),()=>window.removeEventListener("scroll",I)},[]);const T=()=>{var b;(b=y.current)==null||b.scrollIntoView({behavior:"smooth"})},E=D.useCallback((b,I,A)=>{const M=I?48:A?40:28;return Sg.divIcon({className:"ethnic-marker-container",html:`
        <div class="relative flex items-center justify-center transition-all duration-300" style="width:${M}px; height:${M}px;">
          ${I||A?'<div class="absolute inset-0 bg-gold/40 rounded-full animate-ping"></div>':""}
          <div class="absolute inset-0 bg-primary rounded-full border-2 ${I?"border-gold scale-110 shadow-2xl":"border-white/50 shadow-md"} flex items-center justify-center overflow-hidden">
             <span class="text-white font-black" style="font-size: ${M*.4}px;">${b.name.charAt(0)}</span>
          </div>
        </div>
      `,iconSize:[M,M],iconAnchor:[M/2,M/2]})},[]),N=b=>{const I=b.currentTarget;I.onerror=null,I.src="https://images.unsplash.com/photo-1528127269322-539801943592?auto=format&fit=crop&q=80&w=800",I.style.opacity="0.7"};return _.jsxs("div",{className:"relative flex flex-col min-h-screen font-display bg-background-light scroll-smooth overflow-x-hidden",children:[f&&_.jsx(FE,{story:f,onClose:()=>g(null)}),_.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden bg-text-main",children:[_.jsxs("div",{className:"absolute inset-0 z-0 will-change-transform",style:{transform:`translate3d(0, ${a*.3}px, 0) scale(${1+a*2e-4})`},children:[_.jsx("img",{src:"https://cdn.nhandan.vn/assets/web/styles/img/54dantoc/zone-1-1.png",className:"w-full h-full object-cover opacity-60 mix-blend-overlay",alt:"Vietnam Heritage",loading:"eager"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-transparent to-background-light"}),_.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/black-scales.png')]"})]}),_.jsx("div",{className:"relative z-30 text-center px-6 max-w-6xl will-change-transform",style:{transform:`translate3d(0, ${a*-.1}px, 0)`,opacity:Math.max(0,1-a/500)},children:_.jsxs(Ul,{children:[_.jsx("div",{className:"inline-block px-8 sm:px-12 py-3 bg-white/10 border border-white/20 rounded-full mb-10 backdrop-blur-xl",children:_.jsx("span",{className:"text-gold text-[10px] sm:text-[13px] font-black uppercase tracking-[0.5em] sm:tracking-[0.8em]",children:"Mi sn phm l mt cu chuyn"})}),_.jsxs("h1",{className:"text-5xl sm:text-6xl lg:text-[10rem] font-black text-white italic tracking-tighter uppercase leading-snug lg:leading-[1.1] drop-shadow-[0_20px_50px_rgba(0,0,0,0.5)]",children:["SC NI ",_.jsx("br",{}),_.jsx("span",{className:"text-gold lg:text-[11rem] block mt-2 lg:mt-6 text-shadow-gold",children:"SC VIT"})]}),_.jsxs("div",{className:"mt-16 flex flex-col sm:flex-row items-center justify-center gap-6 sm:gap-8",children:[_.jsxs("button",{onClick:T,className:"group relative px-10 sm:px-12 py-5 sm:py-6 bg-primary text-white font-black uppercase tracking-[0.2em] sm:tracking-[0.3em] rounded-[2rem] shadow-[0_0_40px_rgba(161,29,29,0.4)] transition-all duration-500 hover:-translate-y-1 hover:shadow-[0_0_60px_rgba(161,29,29,0.6)] active:scale-95 overflow-hidden text-xs sm:text-sm w-full sm:w-auto",children:[_.jsx("span",{className:"relative z-10",children:"Khm ph bn "}),_.jsx("div",{className:"absolute inset-0 bg-gold translate-y-full group-hover:translate-y-0 transition-transform duration-500"})]}),_.jsx("button",{onClick:()=>v("/marketplace"),className:"group relative px-10 sm:px-12 py-5 sm:py-6 border-2 border-white/30 text-white font-black uppercase tracking-[0.2em] sm:tracking-[0.3em] rounded-[2rem] hover:bg-white hover:text-text-main transition-all duration-500 active:scale-95 text-xs sm:text-sm backdrop-blur-sm w-full sm:w-auto",children:"Gh thm ch phin"})]})]})}),_.jsxs("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 flex flex-col items-center gap-4 z-40 pointer-events-none",children:[_.jsx("span",{className:"text-text-main/60 font-black uppercase tracking-[0.4em] text-[10px] animate-pulse",children:"Cun  khm ph"}),_.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-text-main to-transparent"})]})]}),_.jsxs("section",{className:"relative py-20 sm:py-32 bg-[#F2EFE6] overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-7xl h-px bg-gradient-to-r from-transparent via-gold/40 to-transparent"}),_.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/handmade-paper.png')] opacity-40"}),_.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-20",children:[_.jsx(Ul,{children:_.jsxs("div",{className:"text-center mb-16 sm:mb-24",children:[_.jsx("span",{className:"material-symbols-outlined text-4xl text-primary mb-6",children:"auto_stories"}),_.jsxs("h2",{className:"text-4xl sm:text-5xl lg:text-7xl font-black text-text-main uppercase italic tracking-tighter leading-snug mb-6",children:["Chuyn K ",_.jsx("br",{}),_.jsx("span",{className:"text-primary text-shadow-glow block mt-3",children:"Di Sn"})]}),_.jsx("p",{className:"text-text-soft font-serif text-lg sm:text-xl italic max-w-2xl mx-auto leading-relaxed",children:'"Mi di sn l mt cun sch cha k ht. Hy dng li mt cht, lng nghe ting vng ca ngn xa qua nhng cu chuyn nh."'})]})}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 sm:gap-10",children:BE.map((b,I)=>_.jsx(Ul,{delay:I*150,children:_.jsxs("div",{className:"group relative h-[500px] sm:h-[600px] rounded-[2.5rem] overflow-hidden cursor-pointer shadow-xl hover:shadow-[0_30px_60px_rgba(0,0,0,0.15)] transition-all duration-700 bg-white border border-gold/10",onClick:()=>g(b),children:[_.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[_.jsx("img",{src:b.image,className:"w-full h-full object-cover transition-transform duration-[2s] group-hover:scale-110 filter grayscale-[20%] group-hover:grayscale-0",alt:b.title,loading:"lazy"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 via-transparent to-black/90 opacity-80 group-hover:opacity-70 transition-opacity duration-500"})]}),_.jsx("div",{className:"absolute inset-4 border border-white/20 border-double rounded-[2rem] pointer-events-none group-hover:border-gold/60 transition-colors duration-500"}),_.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-8 sm:p-10 flex flex-col items-center text-center transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500",children:[_.jsx("p",{className:"text-gold text-[10px] font-black uppercase tracking-[0.4em] mb-4 opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-100",children:b.subtitle}),_.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white font-display uppercase italic leading-tight mb-8 group-hover:text-gold-light transition-colors",children:b.title}),_.jsxs("button",{className:"flex items-center gap-3 px-6 sm:px-8 py-3 rounded-full border border-white/30 bg-white/10 backdrop-blur-sm text-white hover:bg-white hover:text-primary transition-all duration-500 group-hover:scale-105",children:[_.jsx("span",{className:"material-symbols-outlined text-lg animate-pulse",children:"headphones"}),_.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Lng nghe"})]})]})]})},b.id))})]})]}),_.jsx("section",{ref:y,className:"bg-background-light py-20 sm:py-32 relative z-10 overflow-hidden border-t border-gold/20",children:_.jsxs("div",{className:"max-w-[1700px] mx-auto px-6",children:[_.jsx(Ul,{children:_.jsxs("div",{className:"mb-12 sm:mb-20 text-center lg:text-left lg:px-14",children:[_.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-5 mb-6",children:[_.jsx("div",{className:"h-1.5 w-20 bg-primary"}),_.jsx("span",{className:"text-primary font-black uppercase tracking-[0.6em] text-[12px]",children:"Khng gian vn ha"})]}),_.jsxs("h2",{className:"text-5xl sm:text-6xl lg:text-[9rem] font-black text-primary italic uppercase tracking-tighter leading-snug lg:leading-[1.1] mb-6 drop-shadow-sm",children:["BN  ",_.jsx("br",{}),_.jsx("span",{className:"text-text-main block mt-2 lg:mt-4",children:"54 DN TC"})]}),_.jsx("p",{className:"text-bronze font-black uppercase text-[12px] tracking-[0.6em] opacity-80",children:"Hi t v lan ta sc mnh dng mu Lc Hng"})]})}),_.jsxs("div",{className:"flex flex-col lg:flex-row h-[700px] sm:h-[900px] gap-8 sm:gap-12",children:[_.jsx("div",{className:"flex-1 relative rounded-[3rem] sm:rounded-[5rem] overflow-hidden border-[8px] border-primary/10 shadow-2xl group transition-all duration-1000 bg-[#e4e9f0]",children:_.jsxs(Ng,{center:AE,zoom:6,className:"w-full h-full",zoomControl:!1,attributionControl:!1,children:[_.jsx(ME,{}),_.jsx(LE,{onInteract:()=>{}}),_.jsx(kg,{url:"https://mt1.google.com/vt/lyrs=m&hl=vi&x={x}&y={y}&z={z}",noWrap:!0}),_.jsx(Ig,{position:"bottomright"}),t&&_.jsx(DE,{coords:t.coords}),ld.map(b=>_.jsx(bg,{position:b.coords,icon:E(b,(t==null?void 0:t.name)===b.name,n===b.name),eventHandlers:{click:()=>{e(b)}},children:_.jsx(Pg,{direction:"top",offset:[0,-15],opacity:1,children:_.jsx("div",{className:"px-6 py-2.5 bg-primary text-white border-2 border-gold rounded-full shadow-2xl",children:_.jsx("span",{className:"text-[13px] font-black uppercase tracking-[0.2em]",children:b.name})})})},b.name))]})}),_.jsxs("div",{className:"w-full lg:w-[480px] bg-[#F7F3E9] rounded-[3rem] sm:rounded-[5rem] flex flex-col overflow-hidden border-[8px] border-gold/20 shadow-2xl relative h-[500px] sm:h-auto",children:[_.jsxs("div",{className:"p-10 sm:p-14 bg-primary shrink-0 relative overflow-hidden",children:[_.jsx("div",{className:"absolute -top-10 -right-10 p-8 opacity-10 rotate-12 scale-150",children:_.jsx("span",{className:"material-symbols-outlined text-9xl text-white",children:"temple_buddhist"})}),_.jsxs("h2",{className:"text-3xl sm:text-4xl font-black text-white italic uppercase leading-none relative z-10",children:["CNG NG ",_.jsx("br",{}),_.jsx("span",{className:"text-gold",children:"VIT NAM"})]}),_.jsx("p",{className:"text-gold-light/80 text-[11px] font-black uppercase tracking-[0.5em] mt-6 relative z-10",children:"Dng mu Lc Hng ngn nm"})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-6 sm:p-10 space-y-5 custom-scrollbar bg-[#F7F3E9]",children:ld.map(b=>_.jsx(UE,{ethnic:b,isSelected:(t==null?void 0:t.name)===b.name,onClick:e,onHover:s},b.name))}),t&&_.jsxs("div",{className:"absolute inset-0 z-[100] bg-background-light p-8 sm:p-12 animate-slide-up-slow flex flex-col overflow-y-auto custom-scrollbar",children:[_.jsx("button",{onClick:()=>e(null),className:"self-end size-14 sm:size-16 rounded-full border-2 border-gold/20 flex items-center justify-center bg-white shadow-2xl hover:bg-primary hover:text-white transition-all group",children:_.jsx("span",{className:"material-symbols-outlined text-3xl sm:text-4xl group-hover:rotate-90 transition-transform",children:"close"})}),_.jsxs("div",{className:"mt-6 sm:mt-10 space-y-8 sm:space-y-12 text-left",children:[_.jsxs("div",{className:"rounded-[3rem] sm:rounded-[4rem] overflow-hidden aspect-[4/3] border-[6px] sm:border-[8px] border-white shadow-[0_50px_100px_rgba(0,0,0,0.2)] relative group",children:[_.jsx("img",{src:encodeURI(t.img),alt:t.name,className:"w-full h-full object-cover transition-transform duration-[4s] group-hover:scale-110",loading:"lazy",onError:N}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/80 via-transparent to-transparent"})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("span",{className:"text-primary font-black uppercase text-[10px] sm:text-[12px] tracking-[0.6em] sm:tracking-[0.8em] opacity-60",children:"Thng tin di sn"}),_.jsxs("h3",{className:"text-5xl sm:text-6xl lg:text-[5rem] font-black text-text-main italic uppercase leading-[0.85]",children:["DN TC ",_.jsx("br",{}),_.jsx("span",{className:"text-primary",children:t.name})]})]}),_.jsxs("div",{className:"bg-white p-8 sm:p-10 rounded-[2.5rem] sm:rounded-[3rem] border-2 border-gold/10 shadow-sm relative",children:[_.jsx("div",{className:"absolute -top-4 -left-4 size-10 bg-gold rounded-full flex items-center justify-center text-white",children:_.jsx("span",{className:"material-symbols-outlined text-2xl",children:"format_quote"})}),_.jsxs("p",{className:"text-text-soft font-bold italic leading-relaxed text-lg sm:text-xl",children:['"',t.description,'"']})]}),_.jsxs("div",{className:"bg-primary py-10 sm:py-12 px-10 sm:px-12 rounded-[3rem] sm:rounded-[4rem] border-2 border-gold/40 shadow-2xl shadow-primary/30 relative overflow-hidden",children:[_.jsx("div",{className:"absolute -top-6 -right-6 p-8 opacity-10 rotate-12",children:_.jsx("span",{className:"material-symbols-outlined text-9xl text-white",children:"workspace_premium"})}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("p",{className:"text-gold/80 text-[10px] sm:text-[11px] font-black uppercase mb-4 tracking-[0.4em] flex items-center gap-2",children:[_.jsx("span",{className:"w-8 h-0.5 bg-gold/60"}),"Sn phm tiu biu:"]}),_.jsx("p",{className:"text-white font-black italic text-2xl lg:text-4xl uppercase leading-tight tracking-tight drop-shadow-lg",children:t.heritage})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-6 sm:gap-8",children:[_.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-[2rem] sm:rounded-[2.5rem] border border-gold/15",children:[_.jsx("p",{className:"text-[10px] font-black text-bronze uppercase mb-3 tracking-widest",children:"Vng c tr"}),_.jsx("p",{className:"text-base sm:text-lg font-black text-primary uppercase leading-tight",children:t.location})]}),_.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-[2rem] sm:rounded-[2.5rem] border border-gold/15",children:[_.jsx("p",{className:"text-[10px] font-black text-bronze uppercase mb-3 tracking-widest",children:"Dn s"}),_.jsxs("p",{className:"text-base sm:text-lg font-black text-text-main",children:[t.population.toLocaleString("vi-VN")," ngi"]})]})]}),_.jsx("button",{onClick:()=>v(`/marketplace?ethnic=${encodeURIComponent(t.name.toUpperCase())}`),className:"w-full bg-gold py-6 sm:py-8 rounded-[2.5rem] font-black text-primary uppercase text-xs sm:text-sm tracking-[0.4em] sm:tracking-[0.5em] shadow-[0_30px_60px_rgba(212,175,55,0.4)] hover:brightness-110 transition-all active:scale-95 mb-10 border border-white/20",children:"VO CH PHIN"}),_.jsx("div",{className:"h-10"})]})]})]})]})]})}),_.jsx("style",{children:`
        .writing-vertical-rl { writing-mode: vertical-rl; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #A11D1D; border-radius: 10px; }
        @keyframes slide-up-slow { 
          from { transform: translateY(100%); opacity: 0; } 
          to { transform: translateY(0); opacity: 1; } 
        }
        .animate-slide-up-slow { animation: slide-up-slow 0.8s cubic-bezier(0.2, 1, 0.3, 1) forwards; }
        .ethnic-marker-container { background: transparent !important; }
        .ease-out-expo { transition-timing-function: cubic-bezier(0.19, 1, 0.22, 1); }
        .text-shadow-gold { text-shadow: 0 0 40px rgba(212,175,55,0.6); }
        .text-shadow-glow { text-shadow: 0 0 30px rgba(212,175,55,0.5); }
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.6s ease-out forwards; }
        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
        @keyframes slide-up { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
      `})]})},BE=[{id:"su-thi-dam-san",title:"S Thi am San",subtitle:"Huyn thoi  ",themeColor:"#A11D1D",image:"https://cdn.luatminhkhue.vn/lmk/article/2023/Abt%20(3)(23).png",content:["Thu xa, t trng am San mnh nh thn, ting ni vang nh sm, bc chn lm rung chuyn c ni rng. Chng  chin thng mi k th, nhng kht vng ln nht ca chng l chinh phc N Thn Mt Tri  mang nh sng vnh cu v cho bun lng.","Mc li can ngn ca Gi lng, am San ci nga bng qua rng thing nc c, i mi n tn chn tri. Chng mun bt N Thn Mt Tri v lm v,  t trng   tr thnh ngi quyn uy nht th gian. Nhng N Thn t chi, v nu nng i, vn vt s cht chy.","am San gin d quay v, nhng c ngi v nga u b chm dn trong vng t ly ca Rng Sp en. Chng cht i, nhng hn thing ha thnh con rui bay vo ming ch gi mnh,  ri ti sinh thnh am San chu, tip tc vit nn nhng trang s thi ho hng ca ngi  ."]},{id:"chuyen-tinh-khau-vai",title:"Li Th Khu Vai",subtitle:"H Giang - Mo Vc",themeColor:"#3E1C1C",image:"https://image.vovworld.vn/w500/uploaded/vovworld/rdywf/2020_01_25/chuong_1__arts_yogq.png",content:["Ngy xa,  vng ni H Giang c chng Ba ngi Nng v nng t ngi Giy yu nhau tha thit. Nhng v khc bit tp qun, hai dng h cm cn quyt lit. Khng cam chu chia la, c hai  cng nhau trn ln nh ni Khu Vai.","Nhn xung bn lng, h thy hai bn dng h mang gy gc ra nh nhau v mnh. au lng trc cnh mu chy, chng v nng gt nc mt quyt nh chia tay  gi bnh yn cho gia tc. Trc khi ri i, h ct mu n th: Kip ny khng nn duyn chng v, th mi nm s gp li nhau mt ln ti Khu Vai vo ngy 27 thng 3 m lch.","T , Ch Tnh Khu Vai ra i.  khng phi l ni bun bn, m l ni nhng ngi yu nhau nhng khng n c vi nhau tm v,  k cho nhau nghe nhng vui bun cuc sng, gi trn li th thy chung son st."]},{id:"su-tich-trau-cau",title:"S Tch Tru Cau",subtitle:"Vn ha ngi Kinh",themeColor:"#D4AF37",image:"https://sachhoc.com/image/cache/catalog/Truyen/Truyen-tranh/Su-tich-trau-cau-500x554.jpg",content:["Vo i vua Hng th t, c hai anh em Tn v Lang ging nhau nh c, thng yu nhau ht mc. Sau khi Tn ly v, Lang cm thy anh khng cn quan tm mnh nh trc, bun ti b i. Lang i mi, kit sc v ha thnh tng  vi bn b sui.","Tn i tm em, n b sui th gc khc bn tng  ri ha thnh cy cau cao vt, mc thng ng bn cnh. V Tn i tm chng, da vo thn cy cau m cht, ha thnh dy tru khng leo quanh thn cy, che ch cho tng .","Vua Hng i qua, nghe chuyn bn ly l tru, qu cau nghin vi vi t tng , thy to ra sc  thm nh mu. Vua t tn l Tru Cau, biu tng cho tnh anh em thm thit v ngha v chng thy chung. T , 'ming tru l u cu chuyn' trong mi l ci hi ca ngi Vit."]}],ld=[{name:"Kinh",location:"TP. H Ni",population:82085826,coords:[21.0285,105.8542],description:"Dn tc a s, gi vai tr ch o trong vic xy dng v bo v t nc Vit Nam.",heritage:"Gm Bt Trng, Tranh ng H, Nn l Hu.",img:"/pictures-54dantoc/kinh.jpg"},{name:"Ty",location:"Tnh Lng Sn",population:1845492,coords:[21.85,106.76],description:"Ni ting vi ht Then v n Tnh huyn thoi, c tr ch yu vng ni pha Bc.",heritage:"Ht Then, n tnh, Vi chm.",img:"/pictures-54dantoc/tay.jpg"},{name:"Thi",location:"Tnh Sn La",population:1820902,coords:[21.32,103.92],description:"Ch nhn ca cc iu xe tinh t v trang phc khn Piu c nht v nh.",heritage:"Ma Xe, Khn Piu, Nh sn.",img:"/pictures-54dantoc/thai.jpg"},{name:"Mng",location:"Tnh Ph Th",population:1452095,coords:[20.81,105.33],description:"Ch nhn vn ha Cng ching v b s thi v i  t  nc.",heritage:"Ching Mng, Th cm, Gi tre.",img:"/pictures-54dantoc/muong.jpg"},{name:"H'Mng",location:"Tnh Tuyn Quang",population:1393547,coords:[22.82,104.98],description:"Sng trn nhng nh ni cao my ph, gi gn ngh dt lanh v l hi Gu To.",heritage:"L hi Gu To, Vi lanh nhum chm.",img:"/pictures-54dantoc/hmong.jpg"},{name:"Khmer",location:"TP. Cn Th",population:1319652,coords:[9.6,105.97],description:"Vn ha gn lin vi Pht gio Nam tng v cc ngi cha thp rc r vng son.",heritage:"Khn Krama, Tng g Pht gio, ua ghe Ngo.",img:"/pictures-54dantoc/khmer.jpg"},{name:"Nng",location:"Tnh Cao Bng",population:1083298,coords:[22.67,106.26],description:"Gii ngh rn c th cng v c cc ln iu Sli thm m tnh ngi.",heritage:"Vi chm, R tre, Khn thu.",img:"/pictures-54dantoc/nung.jpg"},{name:"Dao",location:"Tnh Lo Cai",population:891151,coords:[22.48,103.97],description:"Ni ting vi cc nghi l Cp sc linh thing v trang phc thu cu k.",heritage:"Khn  thu, o chm thu tay, Trang sc bc.",img:"/pictures-54dantoc/dao.jpg"},{name:"Hoa",location:"TP. H Ch Minh",population:749466,coords:[10.76,106.66],description:"Cng ng nng ng, gi gn ngh th cng truyn thng v m thc c sc.",heritage:"n lng, Tranh th php, Gm s.",img:"/pictures-54dantoc/hoa.jpg"},{name:"Gia Rai",location:"Tnh Gia Lai",population:513930,coords:[13.98,108],description:"Dn tc ng nht Ty Nguyn vi truyn thng tng g nh m c o.",heritage:"Tng nh m, Ching, Th cm.",img:"/pictures-54dantoc/gia-rai.jpg"},{name:" ",location:"Tnh k Lk",population:398671,coords:[12.66,108.03],description:"Ch nhn ca s thi Khan v nhng ngi nh di mu h huyn thoi.",heritage:"Gi my, Ching, Th cm.",img:"/pictures-54dantoc/e-de.webp"},{name:"Ba Na",location:"Tnh Qung Ngi",population:286910,coords:[14.35,108],description:"Sng trong nhng nh Rng vt cao, gii ch tc nhc c tre na.",heritage:"Nh rng, Dt th cm, Nhc c tre.",img:"/pictures-54dantoc/bana.jpg"},{name:"X ng",location:"Tnh Qung Ngi",population:212277,coords:[14.65,107.9],description:"Ni ting vi iu ma cng ching v ngh rn c sc.",heritage:"Th cm, Gi, Khn tre.",img:"/pictures-54dantoc/xo-dang.jpg"},{name:"Sn Chay",location:"Tnh Thi Nguyn",population:201398,coords:[21.59,105.84],description:"S hu cc iu ma Tc snh c nht v nh vng trung du.",heritage:"o chm, R my, Tranh dn gian.",img:"/pictures-54dantoc/san-chay.jpg"},{name:"C Ho",location:"Tnh Lm ng",population:200800,coords:[11.5,108.1],description:"C dn lu i ca cao nguyn Lm Vin, gii dt th cm.",heritage:"Gi my, Dt vi, Nhc c tre.",img:"/pictures-54dantoc/co-ho.webp"},{name:"Chm",location:"Tnh Khnh Ho",population:178948,coords:[11.56,108.99],description:"Gi gn tinh hoa gm Bu Trc v dt th cm M Nghip rc r.",heritage:"Gm Bu Trc, Dt M Nghip.",img:"/pictures-54dantoc/cham.jpg"},{name:"Sn Du",location:"Tnh Ph Th",population:183008,coords:[21.3,105.6],description:"Sng vng trung du, gi gn li ht Song c thm m tnh ngi.",heritage:"Trang phc truyn thng, Qut giy.",img:"/pictures-54dantoc/san-diu.jpg"},{name:"Hr",location:"Tnh Qung Ngi",population:149460,coords:[15.1,108.6],description:"Gii canh tc la nc v lm cc loi nhc c g bng tre na.",heritage:"Gi my, Dt vi, Nhc c tre.",img:"/pictures-54dantoc/hre.jpg"},{name:"Ra Glai",location:"Tnh Khnh Ho",population:146613,coords:[11.8,108.7],description:"Ch nhn ca n  v n Chapi huyn thoi vng Nam Trung B.",heritage:"n Chapi, Vi dt, R tre.",img:"/pictures-54dantoc/ra-glai.jpg"},{name:"M'Nng",location:"Tnh Lm ng",population:127334,coords:[12,107.6],description:"Ni ting vi ngh sn bt v thun dng voi rng v i.",heritage:"Gi tre, Ching, Dt vi.",img:"/pictures-54dantoc/mnong.jpg"},{name:"Xting",location:"Tnh ng Nai",population:100752,coords:[11.7,106.8],description:"Sng vng bin gii, gi ngh dt v rn th cng truyn thng.",heritage:"Gi, Th cm, Trng t.",img:"/pictures-54dantoc/xtieng.jpg"},{name:"Kh M",location:"Tnh in Bin",population:90612,coords:[21.5,103.1],description:"Giu truyn thng dn ca v cc iu ma sp rn rng.",heritage:"Ma sp, Gi, Th cm.",img:"/pictures-54dantoc/kho-mu.jpg"},{name:"Bru-Vn Kiu",location:"Tnh Qung Tr",population:94598,coords:[16.6,106.8],description:"Sng dc dy Trng Sn, ni ting vi nhc c khn b.",heritage:"Gi, Vi dt, So tre.",img:"/pictures-54dantoc/bru-van-kieu.jpg"},{name:"Th",location:"Tnh Ngh An",population:91430,coords:[19.2,105.2],description:"Dn tc c truyn thng canh tc la nc v ngh dt gai lu i.",heritage:"Vng gai, Cng ching, Dn ca.",img:"/pictures-54dantoc/tho.jpg"},{name:"Giy",location:"Tnh Lo Cai",population:67989,coords:[22.4,103.8],description:"Vn ha m thc phong ph v trang phc n gii rc r sc mu.",heritage:"Bnh chng g, Ma qut, Trang phc n.",img:"/pictures-54dantoc/giay.jpg"},{name:"C Tu",location:"TP.  Nng",population:74172,coords:[15.9,107.8],description:"Ngh thut tc tng g v dt th cm cm c sc.",heritage:"Tng g, Th cm, Gi my.",img:"/pictures-54dantoc/co-tu.jpg"},{name:"Gi Tring",location:"Tnh Qung Ngi",population:63322,coords:[15.2,107.7],description:"Cng ng gi gn tt cc iu ma xoang truyn thng.",heritage:"Th cm, Nhc c tre, Gi my.",img:"/pictures-54dantoc/gie-trieng.jpg"},{name:"M",location:"Tnh Lm ng",population:50322,coords:[11.6,107.8],description:"C dn cao nguyn gi ngh dt vi truyn thng lu i.",heritage:"Gi my, Dt vi, Nhc c tre.",img:"/pictures-54dantoc/ma.jpg"},{name:"Khng",location:"Tnh Sn La",population:16180,coords:[21.6,103.5],description:"Gn b vi ngh lm thuyn c mc v cc iu ma sp.",heritage:"Thuyn c mc, Ma sp, Gi.",img:"/pictures-54dantoc/khang.jpg"},{name:"Co",location:"Tnh Qung Ngi",population:40458,coords:[14.8,108.4],description:"Gn b mt thit vi cy qu v vn ha cng ching vng ni.",heritage:"Dt vi, Gi tre, Khn.",img:"/pictures-54dantoc/co.jpg"},{name:"T i",location:"TP. Hu",population:52356,coords:[16.2,107.2],description:"Ch nhn ca ngh dt vi Zng - Di sn vn ha quc gia.",heritage:"Vi zng, Trang sc ht, Gi.",img:"/pictures-54dantoc/ta-oi.jpg"},{name:"Ch Ro",location:"Tnh ng Nai",population:29520,coords:[10.8,107.1],description:"Dn tc bn a lu i nht min ng Nam B.",heritage:"Gi, Dt vi, So tre.",img:"/pictures-54dantoc/cho-ro.jpg"},{name:"Xinh Mun",location:"Tnh Sn La",population:29503,coords:[21.1,104.2],description:"C dn min ni pha Bc c tc nhum rng en v ma sp.",heritage:"Gi, Th cm, Nhc c.",img:"/pictures-54dantoc/xinh-mun.jpg"},{name:"H Nh",location:"Tnh Lai Chu",population:25539,coords:[22.6,102.6],description:"Nh tng trnh t dy v trang phc thu c o bc nht.",heritage:"Trang phc thu, Gi tre.",img:"/pictures-54dantoc/ha-nhi.webp"},{name:"Chu Ru",location:"Tnh Lm ng",population:23242,coords:[11.7,108.2],description:"S hu ngh c ng v lm gm th cng gia truyn.",heritage:"Gm th cng, Dt vi, Gi.",img:"/pictures-54dantoc/chu-ru.jpg"},{name:"Lo",location:"Tnh in Bin",population:17532,coords:[21.4,102.9],description:"Gii ngh dt vi v s hu ch vit truyn thng ring bit.",heritage:"Khn dt, Gi tre,  bc.",img:"/pictures-54dantoc/lao.jpg"},{name:"La Ch",location:"Tnh Tuyn Quang",population:15126,coords:[22.7,104.6],description:"Nhng k s rung bc thang ti ba vng cao.",heritage:"Vy th cm, Gi, Trang sc.",img:"/pictures-54dantoc/la-chi.png"},{name:"La Ha",location:"Tnh Sn La",population:10157,coords:[21.7,103.7],description:"Dn tc nng nghip lu i, gii an lt th cng m ngh.",heritage:"Dt vi, R tre, Nhc c.",img:"/pictures-54dantoc/la-ha.jpg"},{name:"Ph L",location:"Tnh Lo Cai",population:12435,coords:[22.7,104.1],description:"Trang phc thu tay c sc v v cng tinh t vng ni cao.",heritage:"Vy thu, Gi, Trang sc bc.",img:"/pictures-54dantoc/phu-la.jpg"},{name:"La H",location:"Tnh Lai Chu",population:12113,coords:[22.4,102.7],description:"Gn b mt thit vi ni rng Hong Lin Sn hng v.",heritage:"Trang phc thu, Gi, Trang sc.",img:"/pictures-54dantoc/la-hu.jpg"},{name:"L",location:"Tnh Lai Chu",population:6757,coords:[22.2,103.2],description:"Ph n c tc nhum rng en v dt vi thu hoa vn tinh xo.",heritage:"Khn thu, Dt vi, Gi.",img:"/pictures-54dantoc/lu.jpg"},{name:"L L",location:"Tnh Tuyn Quang",population:4827,coords:[23.2,105.4],description:"Ch nhn trng ng c v trang phc thu ghp vi cu k.",heritage:"Trang phc thu, Trng ng nh.",img:"/pictures-54dantoc/lo-lo.jpg"},{name:"Cht",location:"Tnh Qung Tr",population:7513,coords:[17.8,105.9],description:"Lu gi li sng hang ng s khai v cng qu gi.",heritage:"Gi my, Dt vi, Nhc c tre.",img:"/pictures-54dantoc/chut.jpg"},{name:"Mng",location:"Tnh Lai Chu",population:4650,coords:[22.3,103],description:"Sng ven sng , gii ngh sng nc v nh bt c.",heritage:"Gi, R tre, Vi dt.",img:"/pictures-54dantoc/mang.jpg"},{name:"P Thn",location:"Tnh Tuyn Quang",population:8248,coords:[22.5,105],description:"Ni ting vi l hi Nhy la y kch tnh v huyn b.",heritage:"Vy  thu, Trang sc, Khn i u.",img:"/pictures-54dantoc/pa-then.jpg"},{name:"C Lao",location:"Tnh Tuyn Quang",population:4003,coords:[23,105.1],description:"Sng trn cc hc  tai mo, gii ngh th rn v an lt.",heritage:"Yn nga, Dao rn, Tc cng thn rng.",img:"/pictures-54dantoc/co-lao.jpg"},{name:"Cng",location:"Tnh Lai Chu",population:2729,coords:[22.3,102.8],description:"Dn tc t ngi gn gi l hi hoa mo g c o.",heritage:"L hi hoa mo g, Gi my, Canh tc nng.",img:"/pictures-54dantoc/cong.jpg"},{name:"B Y",location:"Tnh Lo Cai",population:3232,coords:[22.9,104.9],description:"Ni ting vi trang phc thu hoa vn tinh t v  trang sc bc.",heritage:"Trang phc thu, Trang sc bc, L hi.",img:"/pictures-54dantoc/bo-y.webp"},{name:"Si La",location:"Tnh Lai Chu",population:909,coords:[22.5,102.6],description:"C dn bin gii vi tc nhum rng en v trang phc nh bc.",heritage:"Trang phc nh bc, Tc nhum rng, Ht giao duyn.",img:"/pictures-54dantoc/si-la.jpg"},{name:"Pu Po",location:"Tnh Tuyn Quang",population:903,coords:[23.1,105.2],description:"Th thn rng thing ling v gi gn cc khu rng cm.",heritage:"L cng thn rng, Trng ng, Trang phc.",img:"/pictures-54dantoc/pu-peo.jpg"},{name:"Bru",location:"Tnh Qung Ngi",population:525,coords:[14.7,107.6],description:"Dn tc t ngi nht nh Ty Nguyn vi tc c rng cng tai xa.",heritage:"Ching tha, C rng, Nh rng.",img:"/pictures-54dantoc/brau.jpg"},{name:" u",location:"Tnh Ngh An",population:428,coords:[19.1,104.4],description:"Dn tc t ngi nht Vit Nam, ang khi phc bn sc vn ha.",heritage:"L hi ting sm, Trang phc, Ngn ng.",img:"/pictures-54dantoc/o-du.jpg"},{name:"R Mm",location:"Tnh Qung Ngi",population:639,coords:[14.4,107.7],description:"C tr ti lng Le, ni ting vi ngh dt vi truyn thng.",heritage:"Vi dt, L b m, Cng ching.",img:"/pictures-54dantoc/ro-mam.jpg"},{name:"Ngi",location:"Tnh Thi Nguyn",population:1649,coords:[21.6,105.8],description:"Cng ng sng ri rc, gii ngh lm rung v nh c.",heritage:"Ma s t, Tranh th, L hi k yn.",img:"/pictures-54dantoc/ngai.jpg"}],zE=[16.4673,107.5905],HE=()=>{const t=au();return D.useEffect(()=>{const e=setTimeout(()=>{t.invalidateSize()},500);return()=>clearTimeout(e)},[t]),null},ud=[{id:"yentu",name:"Yn T  Vnh Nghim  Cn Sn, Kip Bc",type:"UNESCO",unescoYear:"2025",category:"temple",location:"Qung Ninh, Bc Giang v Hi Phng",coords:[21.1578,106.7214],description:"Vng t thing ca Pht gio Trc Lm, ni hi t linh kh t tri v nhng gi tr lch s, vn ha v gi.",img:"https://cdn2.tuoitre.vn/thumb_w/1200/471584752817336320/2025/7/12/chua-yen-tu-17523255573811017341205-80-0-1152-2048-crop-1752325584572837395867.jpg",vrEmbedUrl:"https://smarttravel-vr.mobifone.vn/vr-tour/quan-the-di-tich-va-danh-lam-thang-canh-yen-tu/66a8e8db9b37be124d53b99a"},{id:"thanh-nha-ho",name:"Thnh Nh H",type:"UNESCO",unescoYear:"2011",category:"citadel",location:"Thanh Ha",coords:[20.0782,105.6067],description:"Ta thnh  c nht v nh  ng Nam  vi k thut ghp  tinh xo t th k 14.",img:"https://image.sggp.org.vn/1200x630/Uploaded/2026/lcgkcwvo/2023_11_14/1-9587.jpg.webp",vrEmbedUrl:"https://yootek.vn/chiem-nguong-toan-canh-thanh-nha-ho/"},{id:"myson",name:"Thnh a M Sn",type:"UNESCO",unescoYear:"1999",category:"temple",location:"Qung Nam",coords:[15.7643,108.1245],description:"Khu di tch n thp gch nung c o ca vng quc Champa c i gia thung lng linh thing.",img:"https://fvgtravel.com.vn/uploads/up/root/editor/2025/05/20/19/33/w1230/tha1747722808_5733.jpg",vrEmbedUrl:"https://my.matterport.com/show/?m=zMqkoZNoadz"},{id:"hue",name:"Qun th di tch C  Hu",type:"UNESCO",unescoYear:"1993",category:"citadel",location:"Tha Thin Hu",coords:[16.4676,107.5904],description:"Kinh  ca triu i phong kin cui cng Vit Nam, di sn u tin c UNESCO cng nhn.",img:"https://ik.imagekit.io/tvlk/blog/2025/03/quan-the-di-tich-co-do-hue-2-1024x576.jpg?tr=q-70,c-at_max,w-1000,h-600",vrEmbedUrl:"https://www.google.com/maps/embed?pb=!4v1715600000000!6m8!1m2!1sAF1QipMfZ_cZH3QhkJJRvD3Ihzq0qNx1IVIla7np2njI!2i7!3m1!7e115!9m1!2b1"},{id:"halong",name:"Vnh H Long",type:"UNESCO",unescoYear:"1994, 2000",category:"nature",location:"Qung Ninh",coords:[20.9492,107.0522],description:"K quan thin nhin th gii vi hng ngn o  vi vn ln t mt bin xanh ngc lc bo.",img:"https://tructhang.vn/wp-content/uploads/2022/08/Vinh-Ha-Long.jpg",vrEmbedUrl:"https://www.halomedia.vn/360tours/ha-long-bay"},{id:"hoian",name:"Ph c Hi An",type:"UNESCO",unescoYear:"1999",category:"citadel",location:"Qung Nam",coords:[15.8802,108.3381],description:"Thng cng quc t th k 17 c bo tn nguyn vn vi nhng dy nh vng v n lng rc r.",img:"https://images.vietnamtourism.gov.vn/vn//images/2023/cd_hoi_an5.jpeg",vrEmbedUrl:"https://www.halomedia.vn/360tours/hoi-an-360-tour"},{id:"phongnha",name:"Phong Nha - K Bng",type:"UNESCO",unescoYear:"2003, 2015",category:"nature",location:"Qung Bnh",coords:[17.5412,106.1545],description:"Vng quc hang ng th gii, ni s hu Sn ong v h thng ni  vi c nht chu .",img:"https://vietnamdiscovery.com/wp-content/uploads/2019/11/Phong-nha-ke-bang-national-park.jpg",vrEmbedUrl:"https://www.halomedia.vn/360tours/phong-nha"},{id:"thanglong",name:"Hong thnh Thng Long",type:"UNESCO",unescoYear:"2010",category:"citadel",location:"H Ni",coords:[21.0371,105.8376],description:"Trung tm quyn lc bn vng tri di hn 13 th k ca cc vng triu Vit Nam.",img:"https://lamejorhotel.com/UploadFile/Blog/anh1%20ho%C3%A0ng%20th%C3%A0nh.jpg",vrEmbedUrl:"https://trungbayonline.hoangthanhthanglong.vn/TB360/D67"},{id:"trangan",name:"Qun th danh thng Trng An",type:"UNESCO",unescoYear:"2014",category:"nature",location:"Ninh Bnh",coords:[20.2465,105.9128],description:"Di sn th gii kp u tin v duy nht ti Vit Nam kt hp v p thin nhin v lch s.",img:"https://media.vneconomy.vn/images/upload/2024/10/31/89.jpg",vrEmbedUrl:"https://www.halomedia.vn/360tours/ninh-binh"},{id:"catba",name:"Vnh H Long - Ct B",type:"UNESCO",unescoYear:"2023",category:"nature",location:"Hi Phng - Qung Ninh",coords:[20.8033,107.0375],description:"S m rng lin vng mi nht ca UNESCO vinh danh h sinh thi bin o k v ca Vit Nam.",img:"https://ktmt.vnmediacdn.com/images/2024/08/25/98-1724593455-vinh-ha-long-quan-dao-cat-ba-duoc-cong-nhan-la-di-san-dia-chat-quoc-te-20240825135755.jpg",vrEmbedUrl:"https://www.google.com/maps/embed?pb=!4v1715600000000!6m8!1m2!1sAF1QipN3Uo5q4O_X_Vq0Bf0b0uY5z_r1r7v_YlU9V0p!2i7!3m1!7e115!9m1!2b1"}],Gc=t=>{switch(t){case"temple":return"temple_buddhist";case"citadel":return"castle";case"nature":return"landscape";default:return"location_on"}},GE=({site:t,onClose:e})=>{const[n,s]=D.useState(!0);return _.jsxs("div",{className:"fixed inset-0 z-[100000] bg-black flex flex-col items-center justify-center animate-fade-in",children:[_.jsxs("div",{className:"absolute top-0 left-0 w-full p-6 lg:p-10 flex justify-between items-center z-[110] bg-gradient-to-b from-black/90 via-black/40 to-transparent",children:[_.jsxs("div",{className:"flex items-center gap-6 text-white text-left",children:[_.jsx("div",{className:"size-14 rounded-full bg-primary flex items-center justify-center text-white border-2 border-gold shadow-[0_0_20px_rgba(161,29,29,0.6)]",children:_.jsx("span",{className:"material-symbols-outlined text-3xl",children:"view_in_ar"})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl lg:text-3xl font-black italic tracking-tighter uppercase leading-none max-w-2xl",children:t.name}),_.jsxs("p",{className:"text-gold text-[10px] font-black uppercase tracking-[0.4em] mt-2 flex items-center gap-2",children:[_.jsx("span",{className:"size-1.5 bg-gold rounded-full animate-pulse"}),"Tri nghim VR 360 Trc Tuyn"]})]})]}),_.jsx("button",{onClick:e,className:"size-14 lg:size-16 rounded-full bg-white/10 hover:bg-primary transition-all flex items-center justify-center text-white border-2 border-gold shadow-2xl backdrop-blur-xl group",children:_.jsx("span",{className:"material-symbols-outlined text-3xl group-hover:rotate-90 transition-transform",children:"close"})})]}),_.jsx("div",{className:"relative w-full h-full pt-24 pb-14 px-4 lg:px-16 flex items-center justify-center z-[100]",children:_.jsxs("div",{className:"w-full h-full max-w-7xl bg-black rounded-[2rem] lg:rounded-[4rem] overflow-hidden border-2 border-gold/40 shadow-2xl relative",children:[n&&_.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black z-50",children:[_.jsx("div",{className:"w-24 h-24 border-4 border-gold border-t-transparent rounded-full animate-spin mb-8"}),_.jsx("p",{className:"text-gold font-black tracking-[0.6em] animate-pulse uppercase text-center text-sm",children:"ang ti khng gian thc t o..."})]}),_.jsx("iframe",{src:t.vrEmbedUrl,className:"w-full h-full border-none",onLoad:()=>s(!1),allowFullScreen:!0,title:t.name,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})]})})]})},OE=()=>{const[t,e]=D.useState(null),[n,s]=D.useState(null),[a,d]=D.useState(!1),f=(g,v,y)=>{const T=g.type==="UNESCO",E=Gc(g.category),N=y?52:v?44:38;return Sg.divIcon({className:"custom-heritage-marker",html:`
        <div class="relative flex items-center justify-center transition-all duration-300" style="width:${N}px; height:${N}px;">
          ${T?'<div class="absolute inset-0 bg-gold/40 rounded-full animate-ping"></div>':""}
          <div class="absolute inset-0 bg-white rounded-full border-2 ${y?"border-primary scale-110 shadow-xl":"border-gold/60"} flex items-center justify-center">
             <span class="material-symbols-outlined" style="font-size: ${N*.55}px; color: ${y?"#A11D1D":"#3E1C1C"}; font-variation-settings: 'FILL' 1;">${E}</span>
          </div>
        </div>
      `,iconSize:[N,N],iconAnchor:[N/2,N/2]})};return _.jsxs("div",{className:"flex flex-col lg:flex-row h-[calc(100vh-73px)] overflow-hidden bg-background-light font-display relative",children:[a&&t&&_.jsx(GE,{site:t,onClose:()=>d(!1)}),_.jsxs("aside",{className:"w-full lg:w-[450px] bg-background-light border-r border-gold/15 flex flex-col shadow-2xl z-20",children:[_.jsxs("div",{className:"p-8 border-b border-gold/20 bg-primary shrink-0 text-left",children:[_.jsxs("h2",{className:"text-2xl font-black text-white italic tracking-tighter mb-1 uppercase leading-tight",children:["Bn  ",_.jsx("span",{className:"text-gold",children:"Di Sn"})]}),_.jsx("p",{className:"text-[9px] font-black uppercase text-gold-light tracking-[0.4em]",children:"Tinh hoa vn ha Vit Nam"})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar bg-[#F7F3E9]",children:ud.map(g=>_.jsxs("button",{onMouseEnter:()=>s(g.id),onMouseLeave:()=>s(null),onClick:()=>e(g),className:`w-full text-left p-4 rounded-3xl transition-all border-2 flex items-center gap-4 group ${(t==null?void 0:t.id)===g.id?"bg-primary border-primary text-white shadow-xl scale-[1.01]":"bg-white border-gold/10 text-text-main hover:border-primary/40 shadow-sm"}`,children:[_.jsx("div",{className:`size-12 rounded-full flex items-center justify-center shrink-0 shadow-inner ${(t==null?void 0:t.id)===g.id?"bg-white/10 text-gold":"bg-primary/5 text-primary"}`,children:_.jsx("span",{className:"material-symbols-outlined text-2xl font-variation-settings: 'FILL' 1;",children:Gc(g.category)})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h4",{className:"font-black uppercase text-[13px] leading-tight tracking-tight mb-0.5",children:g.name}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("p",{className:`text-[10px] font-bold uppercase tracking-widest ${(t==null?void 0:t.id)===g.id?"text-gold-light/70":"text-bronze"}`,children:g.location}),g.unescoYear&&_.jsxs("span",{className:"text-[9px] bg-gold/20 text-gold px-2 py-0.5 rounded-full font-black",children:["UNESCO ",g.unescoYear]})]})]})]},g.id))})]}),_.jsxs("main",{className:"flex-1 relative bg-background-light overflow-hidden p-4 lg:p-8",children:[_.jsx("div",{className:"w-full h-full rounded-[2.5rem] overflow-hidden border-2 border-gold/20 shadow-inner relative",children:_.jsxs(Ng,{center:zE,zoom:6,className:"w-full h-full",zoomControl:!1,attributionControl:!1,children:[_.jsx(HE,{}),_.jsx(kg,{url:"https://mt1.google.com/vt/lyrs=m&hl=vi&x={x}&y={y}&z={z}",noWrap:!0}),_.jsx(Ig,{position:"bottomright"}),ud.map(g=>_.jsx(bg,{position:g.coords,icon:f(g,n===g.id,(t==null?void 0:t.id)===g.id),eventHandlers:{click:()=>e(g)},children:_.jsx(Pg,{direction:"top",offset:[0,-25],opacity:1,children:_.jsx("div",{className:"px-3 py-1 bg-white border-2 border-primary rounded-full shadow-xl",children:_.jsx("span",{className:"text-[10px] font-black text-primary uppercase",children:g.name})})})},g.id))]})}),t&&_.jsxs("div",{className:"absolute bottom-10 right-10 w-[92%] lg:w-[480px] bg-white border-2 border-gold/30 rounded-[3rem] overflow-hidden shadow-[0_30px_60px_-15px_rgba(62,28,28,0.4)] animate-slide-up z-[1000]",children:[_.jsx("button",{onClick:()=>e(null),className:"absolute top-6 right-6 size-10 rounded-full bg-white border border-gold/10 flex items-center justify-center text-text-soft hover:bg-primary hover:text-white transition-all z-[60]",children:_.jsx("span",{className:"material-symbols-outlined text-lg",children:"close"})}),_.jsxs("div",{className:"h-60 overflow-hidden relative group",children:[_.jsx("img",{src:t.img,alt:t.name,className:"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110"}),_.jsxs("div",{className:"absolute top-6 left-6 z-50 flex gap-2",children:[_.jsx("div",{className:"bg-primary text-white px-5 py-2 text-[10px] font-black uppercase rounded-full shadow-2xl border border-gold/30",children:"DI SN TH GII"}),t.unescoYear&&_.jsx("div",{className:"bg-gold text-text-main px-4 py-2 text-[10px] font-black uppercase rounded-full shadow-2xl border border-white/50",children:t.unescoYear})]}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent"})]}),_.jsxs("div",{className:"p-8 space-y-6 bg-white relative -mt-4 text-left",children:[_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("span",{className:"material-symbols-outlined text-primary text-5xl shrink-0",children:Gc(t.category)}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-2xl lg:text-3xl font-black text-text-main italic leading-tight tracking-tighter uppercase",children:t.name}),_.jsx("p",{className:"text-[10px] font-black text-bronze uppercase tracking-[0.3em] mt-1",children:t.location})]})]}),_.jsxs("p",{className:"text-sm text-text-soft leading-relaxed font-bold italic border-l-4 border-primary/40 pl-6",children:['"',t.description,'"']}),_.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-primary py-5 rounded-3xl text-[11px] font-black uppercase text-white hover:brightness-110 shadow-2xl transition-all flex items-center justify-center gap-4 active:scale-95",children:[_.jsx("span",{className:"material-symbols-outlined text-xl",children:"view_in_ar"})," KHM PH VR 360 NGAY"]})]})]})]}),_.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #D4AF37; border-radius: 10px; }
        @keyframes slide-up { from { transform: translateY(100px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-slide-up { animation: slide-up 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .custom-heritage-marker { background: transparent !important; border: none !important; }
      `})]})},qE=(t,e)=>{const n=t.toLowerCase();let s="craft";return n.includes("gi")||n.includes("an")||n.includes("st")||n.includes("gi")?s="wicker+basket":n.includes("th cm")||n.includes("dt")||n.includes("khn")||n.includes("o")||n.includes("vy")||n.includes("chn")?s="fabric+pattern":n.includes("gm")||n.includes("bnh")?s="ceramic+vase":n.includes("n")||n.includes("kn")||n.includes("so")||n.includes("trng")||n.includes("ching")?s="musical+instrument":n.includes("ru")?s="wine+bottle":n.includes("bc")||n.includes("trang sc")||n.includes("vng")?s="silver+jewelry":n.includes("tranh")||n.includes("ng h")?s="art+painting":n.includes("nn")||n.includes("m")?s="hat+straw":n.includes("la")&&(s="silk+fabric"),`https://images.unsplash.com/photo-${e%2===0?"1590736962231-419b6727768e":`1528127269322-539801943592?auto=format&fit=crop&q=80&w=600&h=600&keyword=${s}&sig=${e}`}`},Ag=[{e:"BA NA",items:[{n:"Gi mini (Trang tr)",p:"50.000 - 150.000 VN",img:"https://down-vn.img.susercontent.com/file/78d869fc7f29ac98f4a7a1aaf725cd57",d:"Phin bn thu nh ca chic gi i ngn, c an t m bi i tay kho lo ca ngi Ba Na. N khng ch l vt trang tr, m l li nhc nh v s cn c, chu kh v v p mc mc ca ni rng Ty Nguyn."},{n:"Gi ma (Biu din)",p:"250.000 - 450.000 VN",img:"https://cdn.nhandan.vn/images/22f099ca8bc7ae81aa2a8d3416a84bf8141e17aab8e836f6a34f0689f96932c4b79cc3f1de038d147c96eecef8a31cbd392c3683b956cc79feec098a0166d49cb7ae13cda333b1a658a4aa09dbd85477/tn2-6506.jpg.webp",d:"Chic gi nh nhng, thanh thot dng trong cc iu ma xoang truyn thng. Mi nhp gi ung a l mt nhp th ca bun lng trong ngy hi ma, cu mong ma thun gi ha."},{n:"Gi sinh hot (i ry)",p:"500.000 - 800.000 VN",img:"https://dantra.vn/uploads/san-pham/tho-cam-dan-toc/gui-dan-toc/gui-dan-toc-12.jpg",d:"Ngi bn ng thn thit ca ph n Ba Na. c an t my tre gi bn b, chic gi ny cng c nng ry, cng c nhng a tr ln ln trn lng m, thm m m hi v tnh yu thng."},{n:"Gi hoa vn tinh xo (C np)",p:"1.200.000 - 2.000.000 VN",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQeSErQPmB8EADVc11kratrcNk0bBfttJfpxg&s",d:"Kit tc an lt vi hoa vn hnh hc phc tp (K'th). y l vt gia bo, thng dng  ng t trang qu gi hoc lm qu snh l, th hin s trn trng v kho lo tuyt nh."},{n:"Gm",p:"T 150.000 VN tr ln",img:"https://baovinhlong.com.vn/file/e7837c027f6ecd14017ffa4e5f2a0e34/dataimages/201702/original/images1824596_BVL_image003.jpg",d:"c nung l thin bng rm r v ci, gm Ba Na mang v p mc mc, m khi thi gian. Mi sn phm l s giao ha ngu hng gia t v la, khng ci no ging ci no."},{n:"Chiu",p:"500.000 - 1.500.000 VN",img:"https://culaochamtourist.vn/wp-content/uploads/2023/07/lang-chieu-ban-thach-2.jpg",d:"Tm chiu dt th cng t cy lc rng, m i v mt lnh. Ni y chng kin bao cu chuyn k khan bn bp la, l ni gic ng i ngn c v v bnh yn."}]},{e:"B Y",items:[{n:"Khn b",p:"T 150.000 VN",img:"https://dotchuoinon.com/wp-content/uploads/2015/03/boy17_khc3a8n-c491b.jpg?w=474",d:"m thanh ca khn b nh ting sui chy, ting gi reo. Chng trai B Y gi gm tm tnh vo ting khn  gi bn tnh, ting khn ni lin i la gia trp trng ni ."},{n:"Kn l",p:"Min ph",img:"https://dotchuoinon.com/wp-content/uploads/2015/03/boy13-kc3a8n-lc3a1.jpg?w=474",d:"Ch mt chic l rng n s cng c th ct ln iu nhc da dit. y l nhc c ca tm hn, ca nhng pht ngu hng gia thin nhin bao la."}]},{e:"BRU",items:[{n:"Gi nh (Mini/Trang tr)",p:"150.000  300.000 VN",img:"https://product.hstatic.net/200000106437/product/gui_tay_nguyen_kich_thuoc_nho_dung_hat_1679a917d3f241c0bbb9cf25daa20e1e_grande.jpg",d:"Vt phm lu nim nh xinh mang hn ct ngi Bru. D nh b nhng vn gi nguyn k thut an lt tinh xo, l mn qu mang hi th i ngn v ph th."},{n:"Gi trung (Thng dng)",p:"300.000  600.000 VN",img:"https://upload.wikimedia.org/wikipedia/commons/c/c9/The_papoose_of_people_Ede.jpg",d:"Vt dng gn lin vi i sng hng ngy, bn b cng nm thng. Chic gi theo chn ngi Bru ln ry, xung sui, l chng nhn cho s cn lao."},{n:"Gi cao cp (an kn ha tit)",p:"1.200.000  1.500.000 VN tr ln",img:"https://dantra.vn/uploads/san-pham/khay-sot-cac-loai/gui/gui-dan-toc-11.jpg",d:"nh cao ca ngh thut an lt Bru. Cc nan tre c nhum mu t nhin, an ci kn k to nn nhng hoa vn c truyn, th hin ng cp v khiu thm m ca ngi s hu."}]},{e:"BRU - VN KIU",items:[{n:"Trang phc truyn thng & Th cm",p:"T 1.000.000 VN tr ln",img:"https://afamilycdn.com/150157425591193600/2021/3/16/15997297728452857924195383843884882270463127n-16158657822271823021731-16158664079071277090625.jpg",d:"B trang phc rc r sc mu, c bit l chic khn i u qun gn gng. Tng ng kim mi ch l s gi gm nim t ho dn tc ca ngi Bru - Vn Kiu di dy Trng Sn."}]},{e:"CHM",items:[{n:"Gm bn xoay (Bu Trc)",p:"T 100.000 VN tr ln",img:"https://images.vietnamtourism.gov.vn/vn//images/dacsacnghegom1.jpg",d:"Gm 'n hoa' trn la. Khng dng bn xoay, ngi ngh nhn Chm i git li quanh khi t, gi gm nhp th v hn va vo tng th t st sng Quao linh thing."},{n:"Sn phm dt th cm (M Nghip)",p:"T 50.000 VN tr ln",img:"https://cdnphoto.dantri.com.vn/i2F5iSb4_hLgF3V3SgglyeN6_go=/thumb_w/1020/2022/11/23/lang-my-nghiepdocx-1669173001168.png",d:"Mi tm vi l mt bc tranh thu nh v v tr quan ca ngi Chm. Hoa vn thn Shiva, thn Ganesha c dt ni tinh t, k li nhng huyn thoi Champa c xa."}]},{e:"CH RO",items:[{n:"n tre Goong Cla",p:"T 350.000 VN",img:"https://imagevietnam.vnanet.vn//MediaUpload/Org/2022/05/27/lythinhien527-10-11-20.jpg",d:"c lm t ng tre gi, ting n Goong Cla thnh tht nh ting sui reo vui. y l nhc c kt ni cng ng trong nhng m la tri bp bng."},{n:"Dn Chinh (Cng ching)",p:"T 2.500.000 VN",img:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Chi%C3%AAng_%C4%91%E1%BB%93ng.jpg/330px-Chi%C3%AAng_%C4%91%E1%BB%93ng.jpg",d:"Bu vt ca bun lng. Ting Chinh vang ln l bo hiu ma l hi, l cu ni gia con ngi v thn linh (Yang), mang theo kht vng v cuc sng m no."}]},{e:"CHU RU",items:[{n:"Gm KRng G (Ngh nhn Ma Ly)",p:"(Gi ty sn phm)",img:"https://images.baodantoc.vn/uploads/2021/1/18/root41/H%C3%ACnh%204.jpg",d:"Dng gm mc mc ang c hi sinh. Mi sn phm khng ch l vt dng m cn l tm huyt ca ngh nhn Ma Ly mun gi gn ngn la ngh truyn thng ca cha ng."},{n:"Gi mini (Qu tng)",p:"200.000  400.000 VN",img:"https://qualuuniemvn.com/uploads/shops/files/gui-mini.jpg",d:"Mn qu nh mang  ngha ln. Chic gi mini gi ghm tnh cm hiu khch v s kho lo ca ngi Chu Ru gi n bn b phng xa."},{n:"Gi thng dng",p:"500.000  1.000.000 VN",img:"https://dantra.vn/uploads/san-pham/gui-dan-toc/gui-dan-toc-31.jpg",d:"Vt dng thit thn trong mi np nh Chu Ru. an t tre na chn lc, chic gi bn b cng ngi dn i qua bao ma ry."},{n:"Gi l vt (Gi ci tinh xo)",p:"1.500.000  3.000.000 VN",img:"https://imagevietnam.vnanet.vn/Upload/2017/10/17/17102017100458445-Ya-Hieg_26_resize.JPG",d:"Chic gi p nht, trang trng nht dng trong ngy ci. N cha ng snh l v c li chc phc trm nm, c an bng tt c ti hoa v s trn trng."}]},{e:"CHT",items:[{n:"n Chrabon (Ph thng)",p:"500.000  900.000 VN",img:"https://cdn.baohatinh.vn/images/27a0ad0fe483fdf921c9b9fc23e3afaa65a85e1e36cf660e342c7e228013ed686a3cf1c09ae70bdc723f57af739489ab/106d5061100t101554l2.jpg",d:"Nhc c dy c o ca ngi Cht. Ting n trm bng k v cuc sng ni hang  xa kia v kht vng vn ln cuc sng mi."},{n:"n Chrabon (Ngh nhn ch tc)",p:"1.500.000  3.000.000 VN",img:"https://cdn.baohatinh.vn/images/27a0ad0fe483fdf921c9b9fc23e3afaa65a85e1e36cf660e342c7e228013ed680fb633871a4cb834d41dc20e5cadaeeb/106d5061100t101553l1.jpg",d:"Phin bn cao cp c ch tc bi nhng ngh nhn lo luyn. m thanh t  chun mc, l bu vt gn gi bn sc vn ha tc ngi."}]},{e:"CO",items:[{n:"Trang sc cm",p:"T 50.000 VN",img:"https://pos.nvncdn.com/71e899-15049/ps/20191225_L5NAm4eQR7K6arpOWS8nWmGX.jpg?v=1676095683",d:"Nhng chui cm  ng sc rc r qun quanh c, quanh eo l nim t ho ca ph n Co. N tng trng cho v p, s giu c v a v trong cng ng."}]},{e:"C HO",items:[{n:"Sn phm an lt",p:"T 80.000 VN",img:"https://cly.1cdn.vn/2023/11/01/taynguyen-kimanh-3-1942.jpg",d:"T nhng si my, si tre v tri, qua bn tay ngi C Ho  tr thnh nhng vt dng tinh xo. Mi mi an l s kin nhn v tnh yu vi thin nhin."},{n:"Th cm K'Ho",p:"T 150.000 VN",img:"https://imagevietnam.vnanet.vn/Upload/2018/1/5/05012018101859794-Tho-cam_17_resize.JPG",d:"Sc mu th cm K'Ho rc r nh hoa rng. Ha tit trn vi k li nhng cu chuyn v mung th, ni rng v thn linh che ch bun lng."},{n:"C ph K'Ho",p:"250.000  500.000 VN/kg",img:"https://images.squarespace-cdn.com/content/v1/546f111fe4b0719612dda3f1/1444308876368-ROF484O43BSGAOZU3LW9/image-asset.jpeg?format=1000w",d:"Hng v c ph Arabica thng hng trng trn nh Langbiang. Mi ht c ph l kt tinh ca t  bazan, sng m cao nguyn v m hi ngi nng dn K'Ho."}]},{e:"C LAO",items:[{n:"Sn phm an lt",p:"T 30.000 VN",img:"https://thiennhienmoitruong.vn/upload2024/images/btv-t-phuong-2/161.jpg",d:"Vt dng n s nhng bn b, phn nh cuc sng thch nghi vi vng ni  tai mo khc nghit ca ngi C Lao."},{n:"Th cm & Trang phc truyn thng",p:"T 40.000 VN tr ln",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRG3ajmRimTrHVXlXKNfCEhehGllOWzvEy3qA&s",d:"B trang phc ghp vi c o, mu sc hi ha. y l nhn din vn ha khng th trn ln ca ngi C Lao gia cao nguyn ."}]},{e:"C TU",items:[{n:"Sn phm an lt truyn thng",p:"T 150.000 VN tr ln",img:"https://imagevietnam.vnanet.vn/Upload/2020/12/18/18122020101536870-20_resize.JPG",d:"Ngh thut an lt ca ngi C Tu t trnh  iu luyn vi cc hoa vn cm trng ni bt trn nn my en, to nn v p huyn b v mnh m."}]},{e:"CNG",items:[{n:"Chiu my loi thng",p:"1.500.000  3.000.000 VN",img:"https://hoanghamobile.com/tin-tuc/wp-content/uploads/2025/08/chieu-may-5.jpg",d:"c dt t nhng si my rng chn lc, chiu my ngi Cng ni ting bn p, cng dng cng bng, mang li gic ng ngon lnh."},{n:"Chiu my cao cp",p:"4.000.000  8.000.000 VN",img:"https://thegioichieutruc.com/wp-content/uploads/2024/09/Uu1-4.png",d:"Tuyt phm th cng i hi hng thng tri lao ng. Nhng si my nh nht, u nht c tuyn chn  dt nn tm chiu mm mi nh la, qu gi v cng."}]},{e:"DAO",items:[{n:"Thuc tm ngi Dao ",p:"30.000  150.000 VN",img:"https://media.loveitopcdn.com/28306/thumb/600x600/091916-nuoc-tam-dao-do-danh-cho-phu-nu-sau-sinh-cham-soc-suc-khoe-sau-sinh.jpg?zc=1",d:"Bi thuc b truyn t hng trm loi l rng, gip hi phc sc khe thn k, c bit cho ph n sau sinh. Ngm mnh trong thng g p mu, mi mt mi tan bin."},{n:"Trang sc Bc chm khc",p:"500.000  Vi triu ng",img:"https://baothainguyen.vn/file/oldimage/baothainguyen/UserFiles/image/20210506100449_chambac1.jpg",d:"Bc khng ch l trang sc m cn l ba h mnh, l ca hi mn. Ngh thut chm khc bc ca ngi Dao t n  tinh xo vi hoa vn chim mung, hoa l sng ng."},{n:"Tranh th",p:"T 800.000 VN",img:"https://media.vietnamplus.vn/images/bc12065fef1dc485941a5ad9a9fec4717fb4d9e3186add1d79fcc8e23698e0a4642d215268d27a0650010b9b06e1c5663baf0aa24dfd57111e811a4b44265e78/ttxvntranh_tho5.jpg",d:"B tranh th o gio huyn b, th hin th gii tm linh phong ph ca ngi Dao. Mi bc tranh l mt cu chuyn v v tr, rn dy o l lm ngi."}]},{e:" ",items:[{n:"Gi mini/trang tr",p:"140.000  300.000 VN",img:"https://product.hstatic.net/200000106437/product/gui_tay_nguyen_trang_tri_cam_hoa_dep_mat_19497286db72407198339cf5ac70bee8.jpg",d:"Biu tng ca Ty Nguyn thu nh. Chic gi xinh xn mang theo hi th ca t  bazan v khng gian sng ca bn."},{n:"Gi an tha (i ry)",p:"Khong 720.000 VN",img:"https://daklakmuseum.vn/baotangdaklak/imgs/169707792221527.jpeg",d:"Chic gi chuyn dng  ng ci, ng nc. Cc mt an tha gip thot nc, nh nhng nhng chu lc cc tt."},{n:"Gi an kn ha tit",p:"1.400.000  1.500.000 VN",img:"https://dantra.vn/uploads/san-pham/tho-cam-dan-toc/gui-dan-toc/gui-dan-toc-9.jpg",d:"Tc phm ngh thut trn lng ngi ph n  . Nhng hoa vn en  ni bt trn nn tre vng ng  th hin s kho lo v thm m tinh t."},{n:"Nhc c Bro (Lu nim)",p:"300.000  600.000 VN",img:"https://dotchuoinon.com/wp-content/uploads/2015/06/broh_bro-ce1bba7a-ngc6b0e1bb9di-c3aadc3aa1.jpg",d:"Cy n ca nhng chng trai si tnh. Ting n Bro trm m, mc mc nh li t tnh e p di nh trng."},{n:"Nhc c Bro (Biu din)",p:"1.200.000  3.000.000 VN",img:"https://nhaccuphongvan.vn/wp-content/uploads/2015/06/Broh2.jpg",d:"Nhc c chuyn nghip vi m thanh chun xc, vang vng. Ch tc t nhng qu bu kh trn tra v ng tre gi nht rng."}]},{e:"GIA RAI",items:[{n:"Ru cn",p:"T 300.000 VN tr ln",img:"https://www.vangdanh.com/wp-content/uploads/2024/04/ruou-can-y-mien-avatar-15.jpg",d:"Men say ca i ngn. Ru cn Gia Rai  bng l rng v go nng, ung vo khng au u m ch thy lng lng tnh ngi, tnh t."}]},{e:"GIY",items:[{n:"So ngang (Nu Vang)",p:"200.000  500.000 VN",img:"https://tatham.vn/media/news/2802_saongang.jpg",d:"Ting so vt cao trn nh ni my m. Chng trai Giy thi so  gi lng mnh theo gi, tm bn tri m."},{n:"Giy thu tay th cng",p:"400.000  800.000 VN",img:"https://dantocmiennui-media.baotintuc.vn/images/b02bcd7dc301a62e318b19b2cae4453cf67c7e73476a92d7509526f2ea78aa7ce2f70135d22d21a88dc4a7c7b5fcf1dd/3a.jpg",d:"i giy vi thu hoa vn sc s, nng niu bn chn ngi ph n Giy. Tng ng kim mi ch l s kin nhn v tnh yu ci p."}]},{e:"GI TRING",items:[{n:"Gi",p:"300.000  900.000 VN",img:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lyp6sdisbbfl86",d:"Chic gi ca ngi Gi Tring c dng v thanh mnh, c o. N gn lin vi tc 'ci ha hn', minh chng cho s m ang ca ngi con gi."},{n:"n inh Tt",p:"T 300.000 VN",img:"https://dbnd.1cdn.vn/2023/11/25/images-2cae99c722739fd7811264aa24039009df45a530ab4c1409bb79bdfbb5b5df067526b8db971d2a89a6f3669679fae53784a7f0e98f6d1708ff7d5d6c30c8863e-_3-1700913420783.jpg",d:"Loi nhc c tre na thi bng hi, m thanh rn rng nh ting gi a qua khe sui, thng c chi trong cc l hi cng ng."},{n:"ng ng bng tre",p:"(Ty loi)",img:"https://lh4.googleusercontent.com/proxy/P-5viXCOjlSlbiSCGTsgogt1KMs8-niLVFMLujeNnU9aJ1Pu4Fx2ZADgGTs3zphPZAJimg3G4d2IQQI-85nnRI3lmbcWbmxMtRwLQzLhVdXMzwY7Sl7QuoqwLR2vk8rn35vmMEd3mGR5AHANphmdoc0bn1cYJesgUzL7PaGzzwr1I2JubbWhgj3F",d:"Vt dng n gin nhng hu ch, dng  ng ht ging, mui hay cm lam. ng tre gi bng long, bn b theo thi gian."}]},{e:"H NH",items:[{n:"n H T",p:"800.000  1.800.000 VN",img:"https://laichau.gov.vn/upload/2000066/20200214/5f8794f2a471ed89a48b063d263f2ce1dao2752019sau.JPG",d:"Cy n 3 dy vi bu cng hng hnh tam gic c o. Ting n H T trm bng l ngi bn tm tnh ca chng trai H Nh bn bp la hng."},{n:"Mm my (an th cng)",p:"2.500.000  3.000.000 VN",img:"https://dacsantaybac.vn/wp-content/uploads/2025/01/Loi-ich-khi-su-dung-mam-may-Anh-tu-Minh-Thu.jpg",d:"Chic mm trn an bng my rng, va l vt dng n ung, va l vt cng t linh thing. K thut an tinh xo gip mm bn chc qua nhiu th h."}]},{e:"HOA",items:[{n:"Bnh bt truyn thng",p:"15.000  45.000 VN",img:"https://cdn.diemnhangroup.com/seoulacademy/2023/04/cach-lam-banh-bot-nguoi-hoa-6.jpg",d:"Hng v ngt ngo ca ngi Hoa. Nhng chic bnh b, bnh tiu, bnh pa... khng ch l mn n m cn gi ghm vn ha m thc nghn nm."}]},{e:"H'MNG (MNG)",items:[{n:"Khn Mng",p:"400.000  2.000.000 VN",img:"https://nhaccuphongvan.vn/wp-content/uploads/2019/04/z2360494894774_8d5faf7c8186e5c843195f2b812d36db.jpg",d:"Linh hn ca ngi Mng trn cao nguyn . Sng trn , cht vi trong , ting khn vn vang vng gi bn tnh, gi t tin, mnh m v da dit khn ngui."}]},{e:"HR",items:[{n:"C vt th cm",p:"80.000  150.000 VN",img:"https://thocamyhoa.vn/wp-content/uploads/2024/05/ca-vat-tho-cam28-800x1067.jpg",d:"S kt hp gia truyn thng v hin i. Ha tit th cm Hr to im nhn c o cho trang phc u phc, mang bn sc vn ha vo i sng ng i."},{n:"Ti xch th cm",p:"100.000  300.000 VN",img:"https://thocamyhoa.vn/wp-content/uploads/2024/12/tui-tho-cam10-768x594.jpg",d:"Chic ti nh xinh dt t si bng t nhin, nhum mu r cy. Mi ng nt hoa vn l mt cu chuyn v thin nhin ni rng Qung Ngi."},{n:"Khn chong (K'tu)",p:"150.000  350.000 VN",img:"https://tourdulichdaolyson.com/view/at_nghe-det-tho-cam-o-lang-teng-xu-quang_2460f08305a48abffeda3dc8728bae81.jpg",d:"Tm khn chong m p, che ch ngi Hr qua ma gi lnh. Mu  en ch o tng trng cho la v t ai mu m."},{n:"Vy (K'chiu) & o n",p:"800.000  2.000.000 VN",img:"https://product.hstatic.net/200000774833/product/3eac7173-5f5a-4796-a097-43bfebe49236_b242f9852255488b94ce14e5b3d5e1e3.jpeg",d:"B trang phc duyn dng ca ph n Hr. S phi mu tinh t v k thut dt iu luyn to nn v p mn m, m thm."}]},{e:"KHNG",items:[{n:"ng ng xi (Khu tung)",p:"T 80.000 VN",img:"https://dacsanvungtaybac.org/wp-content/uploads/2025/08/dacsanvungtaybac-org-3.webp",d:"Hng np nng thm lng c  m trong chic 'Khu tung' an bng my. Vt dng gi nhit t nhin, gi trn v ngon ca ht ngc tri."},{n:"Hm my",p:"T 350.000 VN",img:"https://lh4.googleusercontent.com/proxy/tDxtMOtJ1c_gdEScZQnfzRrFmWmqzIJ7ger03DlfGhtjuh8X1t3Zt3P_nLbbrWLj89kFoQ9JTRabBItm219sdW3a0fjQLybkw1uJ29BTHv4JvUo2FlwKTqi96C2ifHG09yO0PrqvQyOQqI-suJJVcVmSINfg-kV-CXid4lOrFKb_Rh_1SEYgamvx",d:"Chic vali ca ngi vng cao. Hm my chc chn, kn o dng  ng qun o, t trang, theo chn ngi Khng trong nhng chuyn i xa."},{n:"Hn my (Nhc c)",p:"T 800.000 VN",img:"https://media.vov.vn/sites/default/files/styles/large_watermark/public/2021-07/hun_may-nhac_cu_truyen_thong_cua_dong_bao_khang.jpg",d:"Nhc c c o lm t ng tre, khi g xung sn to ra m thanh cng hng trm hng, nhp nhng cho iu ma sp vui ti."}]},{e:"KHMER",items:[{n:"Gi nh (Srok - Lu nim)",p:"150.000  300.000 VN",img:"https://dantra.vn/uploads/san-pham/khay-sot-cac-loai/gui/gui-tre-dan-toc.jpg",d:"Phin bn nh ca chic 'Srok' ng la. Mn qu lu nim mang m nt vn ha la nc ca ng bo Khmer Nam B."},{n:"Gi trung (Ph bin)",p:"350.000  600.000 VN",img:"https://upload.wikimedia.org/wikipedia/commons/c/c9/The_papoose_of_people_Ede.jpg",d:"Vt dng quen thuc trn cnh ng. Chic gi Khmer c dng bu bnh, an dy dn, cha ng s no m ca ma mng bi thu."},{n:"Gi ln/Tinh xo",p:"800.000  1.500.000 VN",img:"https://cdn.baogialai.com.vn/images/881770e9a829e196090410b8e66bdb2a7afebd841fa0023e2d438c1a82f9c6602f9fd50cd599080dc0afdeafc4d978a26b57fcd4937b5d10f3b511e7d5d0ec64/images1037263_44gui1.gif",d:"Nhng chic gi c an bi ngh nhn lo lng, hoa vn ni tinh t. y l nim t ho ca gia ch, thng dng trong cc dp l tt quan trng."}]},{e:"KH M",items:[{n:"Nhc c ao ao (Ph thng)",p:"150.000  300.000 VN",img:"https://dantocmiennui-media.baotintuc.vn/images/57c5aab70c5efc5a98d240302ffc6edbfca596afee0f858145c35e6ee61658a8aaec2b4361bd921c2900d8e534226f4b/k1-2.jpg",d:"ng tre t nhin, khi v to ra m thanh 'ao ao' vui nhn. Nhc c n gin nhng mang li nim vui bt tn cho tr nh v ngi gi."},{n:"Nhc c ao ao (Ngh nhn)",p:"400.000  600.000 VN",img:"https://dantocmiennui-media.baotintuc.vn/images/57c5aab70c5efc5a98d240302ffc6edbc17fd3529f80cdb375172f4920d73776a20fe7c16550bf7e66d29dda31abc836/k4-2.JPG",d:"c ch tc, cn chnh m thanh k lng. Ting 'ao ao' vang, gin, ha quyn hon ho trong dn nhc dn gian Kh M."}]},{e:"LA CH",items:[{n:"an lt",p:"T 30.000 VN",img:"https://s-aicmscdn.vietnamhoinhap.vn/vnhn-media/18/7/20/nghe-dan-lat.jpg",d:"Sn phm my tre an bn b, phc v i sng t cung t cp trn vng cao. Mi chic gi, chic r l kt qu ca s t m nhng ngy nng nhn."},{n:"Trang sc",p:"T 380.000 VN",img:"https://baotanglichsu.vn/DataFiles/Uploaded/image/data%20Hung/thang%207%20nam%202014/sac%20mau%20nguoi%20dan%20toc%20la%20chi/2.jpg",d:"Vng c, vng tay bng bc chm khc n gin nhng tinh t. N l ba h mnh, bo v ngi La Ch khi gi c v t ma."}]},{e:"LA HA",items:[{n:"Ru cn (Bnh nh 4-5L)",p:"220.000  250.000 VN",img:"https://bizweb.dktcdn.net/thumb/1024x1024/100/530/543/products/87885526-2806409242760133-6368219602589057024-n-44a9a751-ca38-47ca-8698-c33339d1ccc4.jpg?v=1749308725590",d:"Bnh ru nh gn cho nhng cuc vui m m. Hng men l rng nng nn gn kt tnh cm gia nh, bn b."},{n:"Ru cn (Bnh trung 6-10L)",p:"300.000  480.000 VN",img:"https://www.vangdanh.com/wp-content/uploads/2024/04/ruou-can-dac-san-avatar-2.jpg",d:"La chn hon ho cho nhng ba tic i khch. V ru ngt m, cng ung cng say lng ngi."},{n:"Ru cn (Bnh i 20-30L)",p:"800.000  1.300.000 VN",img:"https://amthucxanh.vn/wp-content/uploads/2021/05/ruou-can-tay-bac-8.jpg",d:"Bnh ru khng l cho l hi ln ca bn. Cn ru vt cong mi gi c cng ng cng chung vui, say trong ting cng ching."}]},{e:"LA H",items:[{n:"So  La La (Ph thng)",p:"150.000  250.000 VN",img:"https://dotchuoinon.com/wp-content/uploads/2015/04/lhu_cc3b4-gc3a1i-la-he1bba7-say-sc6b0a-ge1bb8di-be1baa1n-tc3acnh-be1bab1ng-tie1babfng-sc3a1o-du-dc6b0c6a1ng.jpg",d:"Ting so gi ma xun ca ngi La H. m thanh trong tro nh ting chim rng, mang theo c vng v mt nm mi m no."},{n:"So  La La (Ch tc k)",p:"300.000  500.000 VN",img:"https://dotchuoinon.com/wp-content/uploads/2015/04/lhu_me1bb8di-ngc6b0e1bb9di-trong-be1baa3n-ve1baabn-quc3a2y-que1baa7n-c491e1bb83-the1bb95i-sc3a1o-vui-ve1babb.jpg",d:"Cy so qu c lm t trc gi, l bm chnh xc. y l ngi bn tri k ca cc ngh nhn, thi hn vo nhng giai iu ni rng bin cng."}]},{e:"LO",items:[{n:"Mm c Padek",p:"60.000 - 120.000 VN",img:"https://khamphahue.com.vn/Portals/0/Medias/Nam2020/T6/Khamphahue_Dac-san-a-Luoi_Mam-ca-Paderk.jpg",d:"Gia v 'linh hn' trong m thc ngi Lo. Mm c Padek mn mi, m , nm nm vo mn n no cng dy mi thng nh qu hng."},{n:"Tha/Mung (t v bom)",p:"100.000  250.000 VN",img:"https://tourhot24h.vn/wp-content/uploads/2024/03/qua-luu-niem-lao.png",d:"T tn tch chin tranh, ngi dn Lo  ti ch thnh vt dng ha bnh. Chic tha nhm c th cng mang thng ip mnh m v s hi sinh t tro tn."},{n:"Vng tay (t v bom)",p:"200.000  600.000 VN",img:"https://tourhot24h.vn/wp-content/uploads/2024/03/qua-luu-niem-lao.png",d:"Vng tay c t v bom, khc ha tit truyn thng. Mt mn trang sc c o, va c tnh va mang  ngha lch s su sc."},{n:"Bp b voi (Lu nim)",p:"30.000  700.000 VN",img:"https://tourhot24h.vn/wp-content/uploads/2024/03/qua-luu-niem-lao-bup-be-voi.png",d:"Nhng ch voi vi ng nghnh, biu tng ca t nc Triu Voi. Mn qu d thng mang li may mn v sc mnh."}]},{e:"L L",items:[{n:"Sn phm thu",p:"T 300.000 VN",img:"https://imgcdn.tapchicongthuong.vn/thumb/w_1920/tcct-media/23/9/18/tinh-xao-nghe-theu-cua-nguoi-lo-lo_65086b4c0ab46.jpg",d:"K thut thu ghp vi (patchwork) nh cao ca ngi L L. Nhng mng mu rc r c ghp ni t m to nn bc tranh tru tng y m hoc."},{n:"Trng ng",p:"T 700.000 VN",img:"https://cdn.tienphong.vn/images/a6bf4f60924201126af6849ca45a398089773d38c0d1721924aef5dbd6b922d4a054e0edd71a7226910b349a91dacef150a2364b21c83afb5f4706b33da6e3b5/tempimagetivbep-2918.jpg",d:"Biu tng thing ling kt ni tri v t. Trng ng L L l bu vt gia truyn, ting trng vang ln trong l cng t tin, cu mong s bo tr ca thn linh."}]},{e:"L",items:[{n:"Ti eo th cm",p:"200.000  500.000 VN",img:"https://dantra.vn/uploads/san-pham/tho-cam-dan-toc/tui-tho-cam/tui-tho-cam-2.jpeg",d:"Chic ti nh duyn dng vi ha tit qu trm c trng. Ph kin hon ho  tn ln v p mc mc m tinh t."},{n:"Vi dt th",p:"200.000  400.000 VN/mt",img:"https://khankm0.com/media/uploads/TC2023/v%E1%BA%A3i/vai-tho-cam-tphcm%20(13).jpg",d:"Cht liu vi bng t nhin, nhum chm th cng. Vi th mc, thong mt, mang mu sc trm mc ca ni rng Ty Bc."},{n:"Khn i u (Pha phong)",p:"300.000  600.000 VN",img:"https://media.vov.vn/sites/default/files/styles/large/public/2024-05/lu2_mpfy.jpg",d:"Chic khn thu hoa vn cu k, l im nhn quan trng nht trn trang phc ngi ph n L, th hin s kho lo v nt na."},{n:"o (Xa)",p:"800.000  1.500.000 VN",img:"https://media.daidoanket.vn/w1200/uploaded/images/2025/09/09/8b615b2a-921f-4e61-96ac-bdbf7da870a8.jpg",d:"Nhng chic o c truyn may theo li xa, nh hng cc bc v thu hoa vn tinh xo. Mt tc phm ngh thut may mc gn gi hn ct dn tc."},{n:"Vy (Sn)",p:"1.500.000  3.000.000 VN",img:"https://media.vov.vn/sites/default/files/styles/large/public/2024-05/lu3_wokf.jpg",d:"Chic vy hai tng c o vi phn chn vy thu dy c hoa vn. Khi bc i, vy xe ra nh bng hoa rng ang n."}]},{e:"M",items:[{n:"Ti xch, v, vi dt",p:"50.000  300.000 VN",img:"https://craftlink.com.vn/wp-content/uploads/2021/09/DSC_0156-scaled.jpg",d:"Nhng ph kin nh xinh dt t si bng, mang hoa vn hnh hc c trng ca ngi M. Mn qu  ngha, mang nt vn ha i ngn."},{n:"Gi mini (Lu nim)",p:"150.000  200.000 VN",img:"https://down-vn.img.susercontent.com/file/vn-11134207-7qukw-lg2h470fe8h66f_tn.webp",d:"Chic gi nh nhn, m phng chnh xc gi tht. Mt mn  trang tr c o, gi nh v cuc sng nng ry thanh bnh."},{n:"Khn chong th cm",p:"250.000  500.000 VN",img:"https://chus.vn/images/detailed/288/10038_34_F1.jpg",d:"Tm khn dt dy dn, m p. Hoa vn trng ni bt trn nn chm en to nn v p sang trng, c in."},{n:"Gi hoa vn (Gi i hi)",p:"500.000  800.000 VN",img:"https://dantocmiennui-media.baotintuc.vn/images/5c0c54f95c9777a45a8f5910a7a986a5eadc21e57187dd2933c144a25095343f41a7ade5047008cab0335126d30faed060066eceff44e1b72e5e52cb583452f5/gui-1-1.jpg.webp",d:"Chic gi p nht ca ngi con gi M khi i l hi. N ng vy o p, trang sc v c nim vui phi phi ca tui tr."},{n:"Tm p dt th cng",p:"800.000  5.000.000 VN (Ty  tinh xo)",img:"https://craftlink.com.vn/wp-content/uploads/2021/09/DSC_0156-scaled.jpg",d:"Tm chn (Ui) dt cng phu, l ca hi mn qu gi. N che ch gic ng, si m gia nh qua nhng m ng lnh gi trn cao nguyn."}]},{e:"MNG",items:[{n:"Sn phm my tre an",p:"T 150.000 VN tr ln",img:"https://images.baodantoc.vn/uploads/banchuyende/2024/LAI%20CHAU/70tr/bai-3/anh-1-1.jpg",d:"Sng ven sng nc, ngi Mng an lt rt gii. Cc sn phm t my tre nh gi c, nm, gi u rt tinh xo, bn p, phc v c lc cho vic nh bt v hi lm."}]},{e:"M'NNG",items:[{n:"Trang sc",p:"T 50.000 VN",img:"https://dantocmiennui-media.baotintuc.vn/images/57c5aab70c5efc5a98d240302ffc6edbe2ea33c18f2ada3ea6902a66d7c3e99388908afb016b147a5b833391c48042ce/m5-1.jpg",d:"Vng c, vng tay bng ng, bc, ht cm... khng ch lm p m cn th hin sc mnh v quyn uy ca ngi M'Nng."},{n:"Gi",p:"T 150.000 VN",img:"https://media.sketchfab.com/models/dad2b1377b8b41269b77f69e5d270a38/thumbnails/95730f946af14f65acc3753f97806b27/35a4287986484a6b9633c9d62948176d.jpeg",d:"Chic gi thn thuc, gn b vi ngi M'Nng nh hnh vi bng. Gi theo ngi ln ry, gi theo ngi i sn voi, cha ng c cuc sng sinh tn."},{n:"Th cm",p:"T 400.000 VN",img:"https://binhphuoc.gov.vn/uploads/binhphuoc/dulich/2023_05/det-tho-cam-6.jpg",d:"Sc  en ch o mnh m. Th cm M'Nng dy dn, bn b, mang v p hoang s v phng khong nh chnh con ngi ni y."}]},{e:"MNG",items:[{n:"Th cm (Tn Sn)",p:"T 30.000 VN tr ln",img:"https://images.baodantoc.vn/uploads/2023/Thang-12/Ngay-10/Manh-Ha/2023-12-5-N%E1%BB%97%20l%E1%BB%B1c%20h%E1%BB%93i%20sinh%20ngh%E1%BB%81%20d%E1%BB%87t%20th%E1%BB%95%20c%E1%BA%A9m%20c%E1%BB%A7a%20%C4%91%E1%BB%93ng%20b%C3%A0o%20d%C3%A2n%20t%E1%BB%99c%20M%C6%B0%E1%BB%9Dng%20huy%E1%BB%87n%20T%C3%A2n%20S%C6%A1n-%E1%BA%A2nh%203.jpg",d:"c sc nht l cp vy Mng vi hoa vn rng, phng, hu, nai... c dt t m.  l c mt th gii quan thu nh qun quanh eo ngi ph n."},{n:"Ching tiu (20-30cm)",p:"2.500.000  4.500.000 VN",img:"https://nhn.1cdn.vn/2023/08/05/img_8106.jpg",d:"Chic ching nh, m thanh trong tro, thng dng  gi nhp hoc chi cc giai iu vui ti trong dn ching Mng."},{n:"Ching trung (40-55cm)",p:"6.000.000  12.000.000 VN",img:"https://media-cdn-v2.laodong.vn/Storage/NewsPortal/2022/8/4/1076949/3-TB-922631-03.jpg",d:"Linh hn ca dn ching. Ting ching trung trm m, vang vng, kt ni cc b trm v bng, to nn s ha quyn tuyt vi."},{n:"Ching i (>60cm)",p:"15.000.000  30.000.000 VN",img:"https://maichauhideaway.com/Data/Sites/1/News/430/c%E1%BB%93ng-chi%C3%AAng-ng%C6%B0%E1%BB%9Di-m%C6%B0%E1%BB%9Dng-(2).png",d:"Chic ching ln nht, quyn uy nht. Ting ching i rn vang nh sm, th hin sc mnh ca nh Lang v s phn thnh ca bn Mng."}]},{e:"NNG",items:[{n:"Hng sch (Nhang)",p:"5.000  10.000 VN/nn",img:"https://lamgiau.laodongthudo.vn/stores/news_dataimages/2023/032023/13/23/540c667da0e75205fd6dc9e0afc46467.jpg",d:"Hng lm t tho mc thin nhin, khng ha cht. Mi thm du nh, thanh khit, dng ln t tin tm lng thnh knh nht."},{n:"Sn phm vi chm",p:"T 150.000 VN",img:"https://scontent.iocvnpt.com/resources/portal/Images/CBG/hongsoncbg/542227f37fd3f08da9c27_605091245.jpg",d:"Mu chm thm trm, bn b nh ngi Nng. Vi nhum th cng nhiu ln nc chm, c mi thm c trng, cng mc cng mm mi."},{n:"Chm bc",p:"T 400.000 VN",img:"https://scov.gov.vn/upload/2005660/20210923/d5aef07799019eaca8e68b7388efef33img_0518.jpg",d:"Ngh chm bc Nng Phn Slin tinh xo nc ting. Tng nt chm khc hnh hoa l, chim mung trn bc trng tinh khi th hin ti hoa bc thy."}]},{e:" U",items:[{n:"Ru cn  u",p:"T 350.000 VN tr ln",img:"https://www.vangdanh.com/wp-content/uploads/2024/04/ruou-can-dac-san-avatar-3.jpg",d:"Hng v c bit ca tc ngi t ngi nht Vit Nam. Ru  t men l rng b truyn, ung vo nghe nh ting sm u ma gi s sng sinh si."}]},{e:"P THN",items:[{n:"Sn phm dt th cm (Vn Chi)",p:"T 150.000 VN tr ln",img:"https://baohagiang.vn/file/4028eaa4679b32c401679c0c74382a7e/042024/dua_sac_mau_1_20240417094932.jpg",d:"Sc  rc r nh la. Th cm P Thn ni bt vi mu  ch o, tng trng cho thn La, mang li may mn v sc sng mnh lit."}]},{e:"PH L",items:[{n:'Nhc c "Cc k" (So mi)',p:"200.000  500.000 VN",img:"https://cdn.baolaocai.vn/images/a55fab73fc22a03d0e5e6d06fcff08fde3ddfa1e2ac7f5da86b4fcee2f97d240a2261f7a3cb18c5a8083f50b30d02d338c91794c3be7daf08be5fcc2acf4587b/ts.jpg",d:"Nhc c c o thi bng mi. m thanh Cc k m i, nh nhng nh li th thm tm s, cha ng ni nim su kn ca ngi Ph L."}]},{e:"RA GLAI",items:[{n:"n Chapi truyn thng",p:"80.000  1.000.000 VN",img:"https://images.baodantoc.vn/uploads/2024/Thang-8/Ngay-4/Thuan/z57010.jpg",d:"'Ai ngho cng c cy n Chapi'. Cy n tre n s nhng cha ng c tm hn phng khong ca ngi Ra Glai, ting n nh ting lng ngi ngh s ni rng."}]},{e:"R MM",items:[{n:"Gi mini (Lu nim)",p:"150.000  250.000 VN",img:"https://product.hstatic.net/200000106437/product/gui_tay_nguyen_kich_thuoc_trung_trang_tri_ban_an_an_tuong_59ccb0acff8a4c56aa27dd0c12682ec3_1024x1024.jpg",d:"Phin bn nh nhn, ng yu ca chic gi R Mm. Mn qu lu nim c o, mang nt vn ha ca mt trong nhng dn tc t ngi nht Ty Nguyn."},{n:"Gi th (Lao ng)",p:"300.000  500.000 VN",img:"https://dantra.vn/uploads/san-pham/tho-cam-dan-toc/gui-dan-toc/gui-dan-toc-6.jpg",d:"Chic gi mc mc, bn b. c an lt chc chn  chu c sc nng ca la, ng v nhng chuyn i rng di ngy."},{n:"Gi hoa vn (Trang tr)",p:"600.000  1.200.000 VN",img:"https://baothainguyen.vn/file/oldimage/baothainguyen/UserFiles/image/3%20(1).jpg",d:"Tuyt tc an lt vi k thut ci nan to hoa vn hnh hc. Chic gi khng ch l vt dng m l nim kiu hnh v s kho lo ca ngi R Mm."}]},{e:"SN DU",items:[{n:"Trang phc truyn thng ph n",p:"T 150.000 VN",img:"https://i.ytimg.com/vi/JmwKw7blNBw/maxresdefault.jpg",d:"Chic o di mu chm gin d, kt hp vi vy xe v khn i u. V p m thm, kn o ca ph n Sn Du c tn ln qua tng np vi."}]},{e:"SI LA",items:[{n:"n tnh tu",p:"800.000  1.500.000 VN",img:"https://product.hstatic.net/200000903353/product/6_fe6f8d3263b34a72992ddeab0db7b253_master.jpg",d:"Cy n 2 dy bu trn, m thanh trong tro. Ting n tnh tu ha cng iu ht giao duyn l nt vn ha c sc ca ngi Si La ni bin cng."}]},{e:"T I",items:[{n:"Sn phm dt t Zng (Lu nim/Gia dng)",p:"50.000  300.000 VN",img:"https://cly.1cdn.vn/2023/11/13/20.jpg",d:"Dt Zng l di sn vn ha quc gia. Nhng ht cm c dt trc tip vo si vi to nn hoa vn ni c o, mang v p sang trng v qu phi."}]},{e:"TY",items:[{n:"Min dong Bnh Liu",p:"T 30.000 VN",img:"https://data3.ikitech.vn/images/SHImages/v2/720/webp/epuENPSrLw1749456468.webp",d:"Si min dai gin lm t c dong ring trng trn ni . Hng v thanh mt, khng ha cht, mang m phong v m thc ngi Ty vng bin i."},{n:"Th cm (Mt pha)",p:"300.000  1.500.000 VN",img:"https://www.dulichvn.org.vn/nhaptin/uploads/images/2021/Thang12/712Lao-Cai-Nghe-det-tho-cam-cua-nguoi-Tay-vung-Nghia-Do2.jpg",d:"Mt chn th cm dt hoa vn hnh qu trm, hnh mc cu. Mu sc hi ha, trang nh, l vt dng khng th thiu trong ngy ci ca c gi Ty."},{n:"n Tnh (Tnh Tu)",p:"600.000  1.500.000 VN",img:"https://product.hstatic.net/200000903353/product/1_a2dfdf03f8b74b83ab7ff054d2d5fcf8_master.jpg",d:"'n Tnh ba dy'. Cy n linh thing ca cc ng Then b Then, l cu ni gia ci trn v Mng Tri, mang li cu phc an lnh cho bn lng."}]},{e:"THI",items:[{n:"an lt",p:"T 30.000 VN",img:"https://dacsantaybac.vn/wp-content/uploads/2025/01/Cac-buoc-lam-gio-dung-ca-o-Tay-Bac-Anh-suu-tam.jpg",d:"Nhng chic p khu ng xi, p ng c c an kho lo t tre na. Va tin dng va mang v p thm m dn gian tinh t."},{n:"Th cm",p:"T 50.000 VN",img:"https://maichauhideaway.com/Data/Sites/1/media/tin-tuc/%E1%BA%A3nh-b%C3%A0i-vi%E1%BA%BFt/t22025/hoa-tiet-tho-cam-dan-toc-thai/hoa-tiet-tho-cam-dan-toc-thai-2.jpg",d:"Ni ting nht l khn Piu thu tay cu k. Tng ng ch thu 'lun rng' th hin s kho lo, kin nhn v tnh yu ca c gi Thi gi gm vo ."},{n:"P (So)",p:"T 250.000 VN",img:"https://imagevietnam.vnanet.vn/Upload//2013/1/25/25-1KPVN4BaoAnh25120139472744.jpg",d:"Ting P n non, da dit nh ting lng ngi ang yu. Cy so trc n s nhng c sc lay ng lng ngi mnh lit."}]},{e:"TH",items:[{n:"Xp xng (Thanh la)",p:"500.000  1.200.000 VN",img:"https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lkxliy90vrodb4",d:"Nhp phch rn rng ca l hi. Ting xp xng ha cng ting trng, ting cng to nn khng kh tng bng, xua tan mt nhc."},{n:"Trng (Ci/Con)",p:"2.500.000  6.000.000 VN",img:"https://images.baodantoc.vn/uploads/2022/Th%C3%A1ng%204/Ng%C3%A0y%202/TRUNG/Ngh%E1%BB%87%20An/1.jpg",d:"Trng da tru bt kn hai mt, m thanh trm hng. Ting trng Th vang ln l bo hiu ma l hi, l nhp p tri tim ca cng ng."},{n:"Ching (Cng)",p:"3.500.000  8.000.000 VN",img:"https://image.vovworld.vn/w500/Uploaded/vovworld/thpsplu/2020_06_29/154507_7_HZXI.jpg",d:"Cng ching khng ch l nhc c m l vt thing. Ngi Th qu ching nh con, gi gn cn thn v ch mang ra nh vo nhng dp trng i."}]},{e:"XINH MUN",items:[{n:"Gi u (Thu th cng)",p:"100.000  450.000 VN",img:"https://www.vwu.vn/documents/1809139/0/thocam+xinmun+2.jpg/b5c7da95-9ca2-4f0f-97e8-0a21a2d7ae22",d:"Chic gi thu hoa vn sc s  hai u. y l qu tng  ngha ca c du biu b m chng, th hin lng hiu tho v ti n cng gia chnh."},{n:"Khn i u (Thu tinh xo)",p:"150.000  600.000 VN",img:"https://vov4.vov.vn/sites/default/files/styles/large_watermark/public/2023-09/img20190817145913.jpg",d:"Khn i u thu hoa vn cy thng, hnh thoi... L im nhn duyn dng trn mi tc ngi ph n Xinh Mun, che ch v lm p cho ngi i."}]},{e:"X NG",items:[{n:"Bn go ",p:"40.000  65.000 VN/kg",img:"https://tmangdeeng.vn/wp-content/uploads/2024/10/b1b7e7133e2e8670df3f9.jpg",d:"Si bn dai ngon lm t go la ry  (go huyt rng). Hng v m , giu dinh dng, mang mu sc ca t  Ty Nguyn."},{n:"n T'rng",p:"T 120.000 VN",img:"https://nhaccuphongvan.vn/wp-content/uploads/2016/01/dan-trung-12-ong-3-400x400.jpg",d:"Dn nhc nc chy. Nhng ng na to nh ghp li, khi g to ra m thanh thnh tht nh ting sui rc rch, ting thc , mang c m hng i ngn vo nh."},{n:" dng t v cy",p:"1.500.000  4.000.000 VN",img:"https://cly.1cdn.vn/2024/07/03/img_20240703_190204.jpg",d:"Sn phm c o t v cy rng p dp, ngm bn. Tm chn, chic o v cy gi nh v thu s khai, l minh chng cho kh nng sng to phi thng ca ngi X ng."}]},{e:"XTING",items:[{n:"Nt (Nia)",p:"T 50.000 VN",img:"https://media.baobinhphuoc.com.vn/upload/news/11_2022/h2_19502907112022.jpg",d:"Chic nia trn tra an bng tre, dng  sy go, phi nng sn. Vt dng quen thuc gn lin vi ht go do thm nui sng bun lng."},{n:"Sor (Gi)",p:"T 150.000 VN",img:"https://media.baobinhphuoc.com.vn/upload/news/11_2022/h1_19501907112022.jpg",d:"Gi Xting c dng thon gn, y vung vng chi. L ngi bn ng hnh khng th thiu trong mi chuyn i rng, i ry ca b con."},{n:"Th cm",p:"T 250.000 VN",img:"https://dotchuoinon.com/wp-content/uploads/2015/05/xt_le1bb85-he1bb99i-bombo3.jpg?w=768",d:"Ngh dt th cm Xting ni ting vi cc hoa vn m phng thin nhin sinh ng. Tm vi bn chc, mu sc hi ha, m p nh tnh ngi Bnh Phc."}]}],rm=Ag.flatMap((t,e)=>t.items.map((n,s)=>({id:`${t.e}-${s}`,ethnic:t.e,name:n.n,price:n.p,desc:n.d||`Sn phm ${n.n} l kt tinh vn ha ca dn tc ${t.e}, c ch tc th cng t m, mang m du n ni rng v tm hn ngi bn a.`,artisan:"",exp:`${5+Math.floor(Math.random()*20)} nm ngh`,sold:Math.floor(Math.random()*500)+10,category:"craft",img:n.img&&n.img!=="gn hnh vo y"?n.img:qE(n.n,e*10+s)}))),jE=Oo.memo(({product:t,onOpenDetail:e})=>_.jsxs("div",{className:"group rounded-2xl md:rounded-[2.5rem] overflow-hidden transition-all duration-500 hover:shadow-[0_40px_80px_rgba(209,77,77,0.15)] hover:-translate-y-2 border border-gold/10 bg-white flex flex-col h-full",children:[_.jsxs("div",{className:"relative h-40 md:h-72 overflow-hidden shrink-0 cursor-pointer bg-[#F9F7F2]",onClick:()=>e(t),children:[_.jsx("img",{src:t.img,alt:t.name,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-[2s] group-hover:scale-110"}),_.jsx("div",{className:"absolute top-2 left-2 md:top-4 md:left-4 bg-primary/90 text-white text-[8px] md:text-[9px] font-black px-2 md:px-4 py-1 md:py-1.5 rounded-full uppercase tracking-widest backdrop-blur-sm border border-gold/30 shadow-md",children:t.ethnic}),_.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center backdrop-blur-[2px]",children:_.jsx("span",{className:"bg-white text-primary px-3 md:px-6 py-1.5 md:py-2.5 rounded-full font-black text-[10px] md:text-xs uppercase tracking-widest transform scale-90 group-hover:scale-100 transition-transform shadow-lg hidden md:block",children:"Xem chi tit"})})]}),_.jsxs("div",{className:"p-3 md:p-6 text-left flex-grow flex flex-col",children:[_.jsx("h3",{className:"text-sm md:text-lg font-black text-text-main tracking-tight mb-1 md:mb-2 group-hover:text-primary transition-colors cursor-pointer line-clamp-2 min-h-[2.5rem] md:min-h-[3.5rem]",onClick:()=>e(t),children:t.name}),_.jsxs("div",{className:"mt-auto pt-2 md:pt-4 border-t border-gold/5 space-y-2 md:space-y-4",children:[_.jsx("div",{className:"flex items-center justify-between",children:_.jsx("span",{className:"text-primary font-black text-sm md:text-lg",children:t.price})}),_.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[_.jsx("button",{onClick:()=>e(t),className:"border border-gold/30 rounded-lg md:rounded-xl py-2 md:py-2.5 text-[8px] md:text-[10px] font-black uppercase text-text-soft hover:bg-gold/10 transition-colors",children:"Tm hiu"}),_.jsx("button",{onClick:()=>e(t),className:"bg-primary rounded-lg md:rounded-xl py-2 md:py-2.5 text-[8px] md:text-[10px] font-black uppercase text-white hover:brightness-110 shadow-lg shadow-primary/20 transition-all active:scale-95",children:"t mua"})]})]})]})]})),WE=({product:t,onClose:e})=>{const[n,s]=D.useState(1),{addToCart:a,toggleCart:d}=_d();D.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const f=()=>{for(let v=0;v<n;v++)a(t);e()},g=()=>{for(let v=0;v<n;v++)a(t);e(),d()};return Yl.createPortal(_.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center px-4 font-display",children:[_.jsx("div",{className:"absolute inset-0 bg-text-main/80 backdrop-blur-sm animate-fade-in",onClick:e}),_.jsxs("div",{className:"bg-white w-[95vw] h-[85vh] rounded-[2.5rem] shadow-2xl relative z-10 animate-slide-up flex overflow-hidden border-4 border-gold/20 flex-col md:flex-row",children:[_.jsx("button",{onClick:e,className:"absolute top-6 right-6 z-50 size-12 rounded-full bg-white/20 hover:bg-primary hover:text-white transition-colors flex items-center justify-center backdrop-blur-md border border-white/40 shadow-lg group",children:_.jsx("span",{className:"material-symbols-outlined text-2xl group-hover:rotate-90 transition-transform",children:"close"})}),_.jsxs("div",{className:"w-full md:w-[70%] h-2/5 md:h-full relative bg-[#F2EFE6] group border-b md:border-b-0 md:border-r border-gold/10",children:[_.jsx("img",{src:t.img,alt:t.name,className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-50"})]}),_.jsxs("div",{className:"w-full md:w-[30%] h-3/5 md:h-full flex flex-col bg-white relative",children:[_.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-8 lg:p-10",children:[_.jsxs("div",{className:"inline-block px-3 py-1 bg-primary/10 text-primary text-[10px] font-black uppercase tracking-widest rounded-full mb-4 border border-primary/20",children:["Dn tc ",t.ethnic]}),_.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-black text-text-main leading-tight mb-3",children:t.name}),_.jsxs("div",{className:"flex items-center gap-4 mb-6 pb-6 border-b border-gold/10",children:[_.jsx("span",{className:"text-xl md:text-2xl font-black text-primary",children:t.price}),_.jsxs("div",{className:"flex items-center gap-1 text-gold",children:[[1,2,3,4,5].map(v=>_.jsx("span",{className:"material-symbols-outlined text-xs md:text-sm font-variation-settings: 'FILL' 1",children:"star"},v)),_.jsxs("span",{className:"text-text-soft text-xs font-bold ml-1",children:["(",t.sold,")"]})]})]}),_.jsxs("div",{className:"prose prose-sm text-text-soft",children:[_.jsxs("h4",{className:"font-black text-text-main uppercase text-xs mb-3 flex items-center gap-2",children:[_.jsx("span",{className:"w-1 h-4 bg-gold rounded-full"}),"Cu chuyn sn phm"]}),_.jsxs("p",{className:"italic leading-relaxed opacity-90 text-justify text-sm",children:['"',t.desc,'"']}),_.jsxs("div",{className:"mt-6 p-4 bg-background-light rounded-xl border border-gold/10",children:[_.jsxs("p",{className:"text-[10px] font-black uppercase text-bronze mb-2 flex items-center gap-2",children:[_.jsx("span",{className:"material-symbols-outlined text-sm text-primary",children:"verified"}),"Cam kt t Sc Ni"]}),_.jsx("p",{className:"text-xs leading-relaxed text-text-main/80",children:"Sn phm th cng 100%, h tr sinh k trc tip cho ngh nhn bn a."})]})]})]}),_.jsxs("div",{className:"p-4 md:p-6 border-t border-gold/10 bg-white shrink-0 shadow-[0_-10px_40px_rgba(0,0,0,0.05)] z-10",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("span",{className:"font-black text-text-main text-xs uppercase tracking-widest",children:"S lng:"}),_.jsxs("div",{className:"flex items-center gap-3 bg-background-light rounded-full px-3 py-1.5 border border-gold/20",children:[_.jsx("button",{onClick:()=>s(Math.max(1,n-1)),className:"text-text-soft hover:text-primary w-6 h-6 flex items-center justify-center",children:"-"}),_.jsx("span",{className:"font-black w-6 text-center text-sm",children:n}),_.jsx("button",{onClick:()=>s(n+1),className:"text-text-soft hover:text-primary w-6 h-6 flex items-center justify-center",children:"+"})]})]}),_.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[_.jsx("button",{onClick:f,className:"col-span-2 py-3.5 rounded-xl border-2 border-primary text-primary font-black uppercase text-[10px] tracking-widest hover:bg-primary hover:text-white transition-colors flex items-center justify-center gap-2",children:_.jsx("span",{className:"material-symbols-outlined text-lg",children:"add_shopping_cart"})}),_.jsx("button",{onClick:g,className:"col-span-3 py-3.5 rounded-xl bg-primary text-white font-black uppercase text-[10px] tracking-widest hover:brightness-110 shadow-xl shadow-primary/20 transition-all flex items-center justify-center gap-2",children:"t hng ngay"})]})]})]})]})]}),document.body)},KE=()=>{const[t,e]=J0(),n=(t.get("ethnic")||"TT C").toUpperCase(),[s,a]=D.useState(n),[d,f]=D.useState(""),[g,v]=D.useState(1),[y,T]=D.useState(null),E=D.useRef(null),N=12;D.useEffect(()=>{a(n),v(1)},[n]);const b=D.useCallback(F=>{a(F),e({ethnic:F}),v(1)},[e]),I=D.useMemo(()=>["TT C",...Array.from(new Set(rm.map(Y=>Y.ethnic))).sort((Y,ie)=>Y.localeCompare(ie,"vi"))],[]),A=D.useMemo(()=>{let F=rm;if(s!=="TT C"&&(F=F.filter(Y=>Y.ethnic===s)),d.trim()){const Y=d.toLowerCase();F=F.filter(ie=>ie.name.toLowerCase().includes(Y)||ie.ethnic.toLowerCase().includes(Y))}return F},[s,d]),M=Math.ceil(A.length/N),j=D.useMemo(()=>{const F=(g-1)*N;return A.slice(F,F+N)},[A,g]),B=F=>{v(F),window.scrollTo({top:400,behavior:"smooth"})};return _.jsxs("div",{className:"min-h-screen font-display bg-background-light relative overflow-x-hidden",children:[_.jsx("div",{className:"fixed left-0 top-0 bottom-0 w-32 bg-[url('https://www.transparenttextures.com/patterns/black-scales.png')] opacity-[0.03] pointer-events-none hidden 2xl:block mix-blend-multiply z-0"}),_.jsx("div",{className:"fixed right-0 top-0 bottom-0 w-32 bg-[url('https://www.transparenttextures.com/patterns/black-scales.png')] opacity-[0.03] pointer-events-none hidden 2xl:block mix-blend-multiply z-0"}),y&&_.jsx(WE,{product:y,onClose:()=>T(null)}),_.jsxs("div",{className:"w-[96%] max-w-[1920px] mx-auto px-4 py-8 md:py-12 relative z-10",children:[_.jsxs("section",{className:"relative rounded-[2rem] md:rounded-[3.5rem] overflow-hidden mb-8 md:mb-12 h-48 md:h-80 flex items-center shadow-2xl border-4 border-white",children:[_.jsxs("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://topsapa.vn/uploads/2023/04/07/nguoi-dan-o-cho-phien-bac-ha-rat-chat-phac-va-gian-di-mac-nh_cufz0_042151300.png')"},children:[_.jsx("div",{className:"absolute inset-0 bg-primary/70 mix-blend-multiply"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/90 via-primary/40 to-transparent"})]}),_.jsxs("div",{className:"relative z-10 px-6 md:px-16 max-w-3xl text-left",children:[_.jsxs("h2",{className:"text-3xl md:text-5xl lg:text-7xl font-black text-white mb-2 md:mb-4 italic uppercase tracking-tighter drop-shadow-2xl",children:["CH ",_.jsx("span",{className:"text-gold",children:"PHIN"})]}),_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"w-1 md:w-1.5 h-8 md:h-12 bg-gold/80 rounded-full mt-1 shrink-0"}),_.jsx("p",{className:"text-white text-xs md:text-xl lg:text-2xl font-bold italic tracking-tight opacity-90 drop-shadow-md leading-tight",children:'"Kt ni di sn vi thng mi cng bng cho cc ngh nhn dn tc thiu s vng cao Vit Nam."'})]})]})]}),_.jsxs("div",{className:"sticky top-20 md:top-24 z-40 mb-6 md:mb-10 space-y-4 md:space-y-6",children:[_.jsxs("div",{className:"max-w-3xl mx-auto relative group",children:[_.jsx("input",{type:"text",placeholder:"Tm kim sn phm...",value:d,onChange:F=>{f(F.target.value),v(1)},className:"w-full bg-white/95 backdrop-blur border-2 border-gold/20 rounded-full py-3 md:py-4 px-8 pl-12 md:pl-14 text-text-main shadow-xl text-sm md:text-lg font-medium focus:outline-none focus:border-primary transition-all"}),_.jsx("span",{className:"material-symbols-outlined absolute left-4 md:left-5 top-1/2 -translate-y-1/2 text-gold text-xl md:text-2xl",children:"search"})]}),_.jsxs("div",{className:"bg-white/90 backdrop-blur p-2 rounded-2xl md:rounded-[2.5rem] border border-gold/20 shadow-lg flex items-center max-w-[95vw] md:max-w-[90vw] mx-auto",children:[_.jsxs("div",{className:"pl-4 md:pl-6 pr-4 hidden md:flex items-center gap-2 border-r border-gold/10 text-primary",children:[_.jsx("span",{className:"material-symbols-outlined",children:"filter_list"}),_.jsx("span",{className:"font-black text-xs uppercase tracking-widest whitespace-nowrap",children:"B lc dn tc"})]}),_.jsx("div",{ref:E,className:"flex-1 flex overflow-x-auto gap-2 px-2 custom-scrollbar-h py-2 scroll-smooth",children:I.map(F=>_.jsx("button",{onClick:()=>b(F),className:`px-4 md:px-6 py-2 md:py-2.5 rounded-full text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap border ${s===F?"bg-primary border-primary text-white shadow-md":"bg-transparent border-transparent text-text-soft hover:bg-gold/10"}`,children:F},F))})]})]}),_.jsxs("div",{className:"mb-6 md:mb-8 flex flex-col sm:flex-row sm:items-center justify-between px-2 md:px-4 gap-4",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("h3",{className:"text-lg md:text-2xl font-black text-text-main uppercase tracking-tighter italic",children:s==="TT C"?"Ton b di sn":`Dn tc ${s}`}),_.jsx("span",{className:"bg-gold/20 text-text-main text-[10px] font-black px-2 py-0.5 rounded-md",children:A.length})]}),_.jsxs("div",{className:"text-[10px] md:text-xs font-bold text-bronze uppercase tracking-widest",children:["Trang ",g," / ",M>0?M:1]})]}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6 lg:gap-8 min-h-[600px] content-start",children:j.map(F=>_.jsx(jE,{product:F,onOpenDetail:T},F.id))}),j.length===0&&_.jsxs("div",{className:"py-20 text-center bg-white/50 rounded-[3rem] border-2 border-dashed border-gold/20",children:[_.jsx("span",{className:"material-symbols-outlined text-6xl text-gold/30 mb-4",children:"storefront"}),_.jsx("p",{className:"text-text-soft font-bold italic",children:"Khng tm thy sn phm no ph hp."}),_.jsx("button",{onClick:()=>{f(""),a("TT C")},className:"mt-4 text-primary font-black uppercase text-xs hover:underline",children:"Xem tt c"})]}),M>1&&_.jsxs("div",{className:"mt-8 md:mt-16 flex items-center justify-center gap-2 pb-20 lg:pb-0",children:[_.jsx("button",{onClick:()=>B(Math.max(1,g-1)),disabled:g===1,className:"size-8 md:size-10 rounded-full flex items-center justify-center border border-gold/20 bg-white text-primary disabled:opacity-30 disabled:cursor-not-allowed hover:bg-primary hover:text-white transition-colors",children:_.jsx("span",{className:"material-symbols-outlined text-lg",children:"chevron_left"})}),_.jsx("div",{className:"flex gap-1 md:gap-2 mx-2 md:mx-4",children:Array.from({length:M},(F,Y)=>Y+1).map(F=>F!==1&&F!==M&&Math.abs(g-F)>1?Math.abs(g-F)===2?_.jsx("span",{className:"text-gold/50 font-bold self-end text-xs",children:"..."},F):null:_.jsx("button",{onClick:()=>B(F),className:`size-8 md:size-10 rounded-full flex items-center justify-center text-[10px] md:text-xs font-black transition-all ${g===F?"bg-primary text-white shadow-lg scale-110":"bg-white border border-gold/10 text-text-soft hover:border-gold/50"}`,children:F},F))}),_.jsx("button",{onClick:()=>B(Math.min(M,g+1)),disabled:g===M,className:"size-8 md:size-10 rounded-full flex items-center justify-center border border-gold/20 bg-white text-primary disabled:opacity-30 disabled:cursor-not-allowed hover:bg-primary hover:text-white transition-colors",children:_.jsx("span",{className:"material-symbols-outlined text-lg",children:"chevron_right"})})]}),_.jsx("div",{className:"h-24"})]}),_.jsx("style",{children:`
        /* n scrollbar ngang cho menu mobile nhng vn scroll c */
        .custom-scrollbar-h::-webkit-scrollbar { height: 0px; background: transparent; }
        
        .custom-scrollbar-h::-webkit-scrollbar { height: 4px; }
        .custom-scrollbar-h::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar-h::-webkit-scrollbar-thumb { background: #D14D4D; border-radius: 10px; }
        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
        @keyframes slide-up { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-slide-up { animation: slide-up 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #D14D4D; border-radius: 10px; }
      `})]})},$E=()=>{const[t,e]=D.useState("architecture"),[n,s]=D.useState("ALL"),[a,d]=D.useState(null),[f,g]=D.useState(""),[v,y]=D.useState(1),T=12,E=D.useRef(null);D.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[a]),D.useEffect(()=>{y(1)},[t,n,f]);const N=D.useMemo(()=>{const B=new Set(cd.map(F=>F.ethnic));return["ALL",...Array.from(B).sort((F,Y)=>F.localeCompare(Y,"vi"))]},[]),b=D.useMemo(()=>cd.filter(B=>{const F=B.category===t,Y=n==="ALL"||B.ethnic===n,ie=B.ethnic.toLowerCase().includes(f.toLowerCase())||B.title.toLowerCase().includes(f.toLowerCase())||B.desc.toLowerCase().includes(f.toLowerCase());return F&&Y&&ie}),[t,n,f]),I=Math.ceil(b.length/T),A=D.useMemo(()=>{const B=(v-1)*T;return b.slice(B,B+T)},[b,v,T]),M=B=>{y(B),window.scrollTo({top:0,behavior:"smooth"})},j=[{id:"architecture",icon:"temple_hindu",label:"Kin Trc"},{id:"ritual",icon:"self_improvement",label:"Nghi L"},{id:"festival",icon:"festival",label:"L Hi"}];return _.jsxs("div",{className:"relative min-h-screen font-display bg-[#F7F3E9]",children:[_.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/black-scales.png')"}}),_.jsxs("div",{className:"max-w-[1920px] mx-auto px-4 lg:px-6 py-8 lg:py-12 relative z-10",children:[_.jsxs("header",{className:"mb-8 lg:mb-12 text-center",children:[_.jsxs("div",{className:"flex items-center justify-center gap-4 text-primary font-bold tracking-[0.3em] uppercase text-xs lg:text-sm mb-4",children:[_.jsx("span",{className:"h-px w-8 lg:w-12 bg-primary"}),"Kho Tng Di Sn S",_.jsx("span",{className:"h-px w-8 lg:w-12 bg-primary"})]}),_.jsxs("h2",{className:"text-4xl lg:text-7xl font-black text-text-main italic mb-6",children:["Ting Vng ",_.jsx("span",{className:"text-gold",children:"Tin Nhn"})]}),_.jsxs("div",{className:"max-w-md mx-auto relative group z-20 px-4 lg:px-0",children:[_.jsx("input",{type:"text",placeholder:"Tm kim di sn...",value:f,onChange:B=>g(B.target.value),className:"w-full bg-white/80 backdrop-blur-sm border-2 border-gold/20 rounded-full py-3 px-6 pl-12 text-text-main placeholder:text-text-soft/50 focus:outline-none focus:border-primary transition-colors shadow-lg text-sm"}),_.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-gold group-hover:text-primary transition-colors",children:"search"})]})]}),_.jsxs("div",{className:"lg:hidden mb-8 space-y-4 sticky top-20 z-30 bg-[#F7F3E9]/95 backdrop-blur-md py-2 -mx-4 px-4 border-b border-gold/10 shadow-sm",children:[_.jsx("div",{className:"flex gap-2 overflow-x-auto custom-scrollbar-h pb-2",children:j.map(B=>_.jsxs("button",{onClick:()=>{e(B.id),s("ALL")},className:`flex items-center gap-2 px-4 py-2 rounded-full whitespace-nowrap transition-all border ${t===B.id?"bg-primary border-primary text-white shadow-md":"bg-white border-gold/20 text-text-soft hover:bg-gold/10"}`,children:[_.jsx("span",{className:"material-symbols-outlined text-lg",children:B.icon}),_.jsx("span",{className:"font-black uppercase tracking-widest text-[10px]",children:B.label})]},B.id))}),_.jsx("div",{className:"flex gap-2 overflow-x-auto custom-scrollbar-h pb-2",ref:E,children:N.map(B=>_.jsx("button",{onClick:()=>s(B),className:`px-4 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-wider whitespace-nowrap border transition-all ${n===B?"bg-text-main border-text-main text-gold":"bg-transparent border-gold/20 text-text-soft hover:border-gold"}`,children:B==="ALL"?"Tt c":B},B))})]}),_.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[_.jsxs("aside",{className:"hidden lg:block w-72 shrink-0 space-y-8 sticky top-24 z-10",children:[_.jsx("div",{className:"bg-white p-2 rounded-[2rem] border border-gold/20 shadow-xl",children:j.map(B=>_.jsxs("button",{onClick:()=>{e(B.id),s("ALL")},className:`w-full flex items-center gap-4 p-4 rounded-[1.5rem] transition-all duration-300 mb-2 last:mb-0 ${t===B.id?"bg-primary text-white shadow-lg":"hover:bg-gold/10 text-text-soft"}`,children:[_.jsx("span",{className:`material-symbols-outlined ${t===B.id?"text-white":"text-primary"}`,children:B.icon}),_.jsx("span",{className:"font-black uppercase tracking-widest text-xs",children:B.label}),t===B.id&&_.jsx("span",{className:"ml-auto material-symbols-outlined text-sm",children:"chevron_right"})]},B.id))}),_.jsxs("div",{className:"bg-white rounded-[2rem] border border-gold/20 shadow-xl overflow-hidden flex flex-col max-h-[60vh]",children:[_.jsx("div",{className:"p-5 border-b border-gold/10 bg-gold/5",children:_.jsxs("h3",{className:"font-black uppercase text-xs tracking-[0.2em] text-text-main flex items-center gap-2",children:[_.jsx("span",{className:"material-symbols-outlined text-base",children:"groups"}),"Chn Dn Tc"]})}),_.jsx("div",{className:"overflow-y-auto p-2 custom-scrollbar flex-1",children:N.map(B=>_.jsxs("button",{onClick:()=>s(B),className:`w-full text-left px-5 py-3 rounded-xl text-sm font-bold transition-all mb-1 flex justify-between items-center ${n===B?"bg-text-main text-gold":"text-text-soft hover:bg-gold/10"}`,children:[B==="ALL"?"Tt c dn tc":`${B}`,n===B&&_.jsx("span",{className:"size-2 rounded-full bg-gold"})]},B))})]})]}),_.jsxs("main",{className:"flex-1 w-full",children:[_.jsxs("div",{className:"mb-6 hidden lg:flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("h3",{className:"text-2xl font-black text-text-main uppercase italic",children:[t==="architecture"&&"Khng gian kin trc",t==="ritual"&&"Nghi l & Tn ngng",t==="festival"&&"L hi & Vn ha"]}),n!=="ALL"&&_.jsx("span",{className:"bg-primary text-white px-3 py-1 rounded-lg text-xs font-black uppercase tracking-widest",children:n})]}),_.jsxs("div",{className:"flex items-center gap-4 text-xs font-bold text-bronze uppercase tracking-widest",children:[_.jsxs("span",{children:[b.length," kt qu"]}),_.jsxs("span",{children:["Trang ",v,"/",I>0?I:1]})]})]}),A.length>0?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6",children:A.map(B=>_.jsxs("div",{onClick:()=>d(B),className:"group bg-white rounded-2xl md:rounded-[2rem] overflow-hidden border border-gold/15 shadow-md hover:shadow-2xl hover:-translate-y-2 active:scale-[0.98] transition-all duration-300 cursor-pointer relative flex flex-col h-[300px] md:h-[400px]",children:[_.jsxs("div",{className:"h-40 md:h-56 overflow-hidden relative shrink-0",children:[_.jsx("img",{src:B.image,alt:B.title,className:"w-full h-full object-cover transition-transform duration-[1.5s] ease-out group-hover:scale-105",loading:"lazy",decoding:"async"}),_.jsx("div",{className:"absolute top-2 left-2 md:top-4 md:left-4 bg-primary/90 text-white text-[8px] md:text-[9px] font-black px-2 md:px-3 py-1 md:py-1.5 rounded-full uppercase tracking-widest backdrop-blur-md border border-white/20 shadow-md z-10",children:B.ethnic})]}),_.jsxs("div",{className:"p-3 md:p-6 flex flex-col flex-grow",children:[_.jsx("h3",{className:"text-xs md:text-lg font-black text-text-main mb-1 md:mb-2 group-hover:text-primary transition-colors line-clamp-2 leading-tight",children:B.title}),_.jsx("p",{className:"text-[10px] md:text-xs text-text-soft font-medium line-clamp-2 md:line-clamp-3 mb-2 md:mb-4 leading-relaxed flex-grow opacity-80",children:B.desc}),_.jsxs("div",{className:"flex items-center justify-between border-t border-gold/10 pt-2 md:pt-4 mt-auto",children:[_.jsx("span",{className:"text-[8px] md:text-[9px] font-bold text-bronze uppercase tracking-widest group-hover:text-gold transition-colors",children:"Xem chi tit"}),_.jsx("div",{className:"size-6 md:size-8 rounded-full bg-gold/10 flex items-center justify-center text-primary group-hover:bg-primary group-hover:text-white transition-all duration-300 group-hover:rotate-45",children:_.jsx("span",{className:"material-symbols-outlined text-xs md:text-lg",children:"arrow_outward"})})]})]})]},B.id))}),I>1&&_.jsxs("div",{className:"mt-8 md:mt-12 flex items-center justify-center gap-2 pb-20 lg:pb-0",children:[_.jsx("button",{onClick:()=>M(Math.max(1,v-1)),disabled:v===1,className:"size-8 md:size-10 rounded-full flex items-center justify-center border border-gold/20 bg-white text-primary disabled:opacity-30 disabled:cursor-not-allowed hover:bg-primary hover:text-white transition-colors",children:_.jsx("span",{className:"material-symbols-outlined text-base md:text-lg",children:"chevron_left"})}),_.jsx("div",{className:"flex gap-1 md:gap-2 mx-2 md:mx-4",children:Array.from({length:I},(B,F)=>F+1).map(B=>B!==1&&B!==I&&Math.abs(v-B)>1?Math.abs(v-B)===2?_.jsx("span",{className:"text-gold/50 font-bold self-end text-xs",children:"..."},B):null:_.jsx("button",{onClick:()=>M(B),className:`size-8 md:size-10 rounded-full flex items-center justify-center text-[10px] md:text-xs font-black transition-all ${v===B?"bg-primary text-white shadow-lg scale-110":"bg-white border border-gold/10 text-text-soft hover:border-gold/50"}`,children:B},B))}),_.jsx("button",{onClick:()=>M(Math.min(I,v+1)),disabled:v===I,className:"size-8 md:size-10 rounded-full flex items-center justify-center border border-gold/20 bg-white text-primary disabled:opacity-30 disabled:cursor-not-allowed hover:bg-primary hover:text-white transition-colors",children:_.jsx("span",{className:"material-symbols-outlined text-base md:text-lg",children:"chevron_right"})})]})]}):_.jsxs("div",{className:"text-center py-32 bg-white/50 rounded-[3rem] border-2 border-dashed border-gold/20",children:[_.jsx("span",{className:"material-symbols-outlined text-6xl text-text-soft/20 mb-4",children:"manage_search"}),_.jsx("p",{className:"text-text-soft font-bold text-lg",children:"Cha c d liu cho la chn ny."}),_.jsx("button",{onClick:()=>s("ALL"),className:"mt-4 text-primary font-black uppercase text-xs hover:underline",children:"Xem tt c dn tc"})]})]})]}),a&&Yl.createPortal(_.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center px-4 font-display",children:[_.jsx("div",{className:"absolute inset-0 bg-text-main/80 backdrop-blur-md animate-fade-in",onClick:()=>d(null)}),_.jsxs("div",{className:"bg-white w-[95vw] h-[85vh] rounded-2xl md:rounded-[2.5rem] shadow-2xl relative z-10 animate-slide-up flex overflow-hidden border-4 border-gold/20 flex-col md:flex-row",children:[_.jsx("button",{onClick:()=>d(null),className:"absolute top-4 right-4 md:top-6 md:right-6 z-50 size-10 md:size-12 rounded-full bg-white/20 hover:bg-primary hover:text-white transition-all flex items-center justify-center text-white backdrop-blur-md border border-white/30 hover:scale-110 active:scale-90 group",children:_.jsx("span",{className:"material-symbols-outlined text-xl md:text-2xl group-hover:rotate-90 transition-transform",children:"close"})}),_.jsxs("div",{className:"w-full md:w-[70%] h-2/5 md:h-full relative shrink-0 group bg-[#F2EFE6] border-b md:border-b-0 md:border-r border-gold/10",children:[_.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-90"}),_.jsxs("div",{className:"absolute bottom-4 left-4 md:bottom-10 md:left-16 text-white z-20 max-w-2xl animate-slide-up-content p-2",children:[_.jsxs("div",{className:"inline-block px-3 py-1 md:px-4 md:py-1.5 bg-gold text-text-main text-[8px] md:text-[10px] font-black uppercase tracking-widest rounded-full mb-2 md:mb-4 shadow-lg border border-white/20",children:["Dn tc ",a.ethnic]}),_.jsx("h2",{className:"text-2xl md:text-4xl lg:text-6xl font-black italic leading-tight mb-2 md:mb-4 drop-shadow-lg",children:a.title}),_.jsx("div",{className:"w-12 md:w-20 h-1 md:h-1.5 bg-primary rounded-full"})]})]}),_.jsxs("div",{className:"w-full md:w-[30%] h-3/5 md:h-full p-6 md:p-8 lg:p-10 bg-white relative flex flex-col",children:[_.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 pointer-events-none",children:_.jsx("span",{className:"material-symbols-outlined text-8xl md:text-[10rem] text-primary",children:a.category==="architecture"?"temple_hindu":a.category==="ritual"?"self_improvement":"festival"})}),_.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative z-10 animate-fade-in delay-100 pr-2",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[_.jsx("span",{className:"size-2 bg-primary rounded-full animate-pulse"}),_.jsxs("span",{className:"text-xs font-black text-primary uppercase tracking-widest",children:["Chi tit ",a.category==="architecture"?"Kin trc":a.category==="ritual"?"Nghi l":"L hi"]})]}),_.jsxs("div",{className:"prose prose-sm md:prose-lg text-text-main font-serif leading-relaxed text-justify",children:[_.jsxs("p",{className:"font-bold text-base md:text-xl italic text-text-soft/90 mb-4 md:mb-6 border-l-4 border-gold pl-4 py-1",children:['"',a.desc,'"']}),a.content.split(`
`).map((B,F)=>_.jsx("p",{className:"mb-3 md:mb-4 text-sm md:text-base",children:B},F))]})]}),_.jsxs("div",{className:"pt-4 md:pt-6 border-t border-gold/10 flex gap-4 shrink-0 mt-2 md:mt-4",children:[_.jsx("button",{className:"flex-1 bg-primary text-white py-3 md:py-4 rounded-xl md:rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-gold hover:text-text-main transition-all shadow-xl hover:-translate-y-1",children:"Tm hiu thm"}),_.jsx("button",{className:"px-4 md:px-6 border-2 border-gold/20 rounded-xl md:rounded-2xl hover:bg-white text-primary transition-colors flex items-center justify-center hover:scale-105",children:_.jsx("span",{className:"material-symbols-outlined",children:"share"})})]})]})]})]}),document.body)]}),_.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fade-in 0.4s ease-out forwards; }
        
        @keyframes slide-up { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

        @keyframes slide-up-content { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-slide-up-content { animation: slide-up-content 0.6s ease-out forwards; }
        .delay-100 { animation-delay: 0.1s; }

        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #A11D1D; border-radius: 10px; }
        
        /* n scrollbar ngang cho menu mobile nhng vn scroll c */
        .custom-scrollbar-h::-webkit-scrollbar { height: 0px; background: transparent; }
      `})]})},cd=[{id:"arch-kinh-dinh",category:"architecture",ethnic:"Kinh",title:"nh Lng Vit",desc:"Biu tng quyn lc lng x v tm linh.",content:`nh lng l cng trnh kin trc ln nht, quan trng nht ca lng ngi Vit  Bc B. y l ni th Thnh Hong (v thn bo h ca lng) v cng l ni hi hp vic lng, t chc l hi.

Kin trc nh thng theo kiu ch Nht, ch Nh hoc ch Cng. im c sc nht l b mi xe rng chim 2/3 chiu cao nh, cc u ao cong vt mm mi nh cnh chim. Bn trong l h thng ct g lim ln v cc mng chm khc t linh (Long, Ly, Quy, Phng), t qu rt tinh xo.`,image:"https://ltlskt-dhxd.com/wp-content/uploads/2019/03/4.png?w=840"},{id:"arch-kinh-chua",category:"architecture",ethnic:"Kinh",title:"Cha Bc Tng",desc:"Khng gian Pht gio thanh tnh.",content:"Cha Vit thng c kin trc ch Tam, ch Cng vi tam quan, tin ng, thng in. im nhn l thp chung uy nghim v h thng tng Pht sn son thp vng lng ly.",image:"https://cdn3.ivivu.com/2025/12/chua-dai-tong-lam-vung-tau-ivivu.jpg"},{id:"arch-kinh-nharuong",category:"architecture",ethnic:"Kinh",title:"Nh Rng Hu",desc:"Tinh hoa kin trc g truyn thng.",content:"Nh Rng l loi nh  3 gian 2 chi c trng ca quan li v tng lp thng lu xa. Ton b khung nh bng g mt hoc lim, c lin kt bng mng, khng dng inh. Cc ct, ko c chm tr cc k tinh vi.",image:"https://lalago.vn/wp-content/uploads/2025/08/nha-ruong-Hue-8.jpg"},{id:"arch-cham-thap",category:"architecture",ethnic:"Chm",title:"Thp Chm (Kalan)",desc:"nh cao k thut xy gch khng mch.",content:"Kalan l n th cc v thn Hindu (Shiva), tng trng cho ngn ni thn thoi Meru. c im ni bt l k thut xy gch mi chp, kht mch khng cn va kt dnh m vn ng vng ngn nm. Trn mt tng gch l cc ph iu chm khc trc tip.",image:"https://fvgtravel.com.vn/uploads/up/root/editor/2025/05/20/19/33/w1230/tha1747722808_5733.jpg"},{id:"arch-cham-nhatuc",category:"architecture",ethnic:"Chm",title:"Nh Tc",desc:"Ngi nh gn gi phong tc mu h.",content:"Trong khun vin gia nh ngi Chm, Nh Tc l ni quan trng nht, ni din ra cc nghi l vng i v th cng t tin. Nh thng thp, kn o, th hin s tn nghim.",image:"https://kientrucvietas.com/data/tinymce/PHUONG%20PTQ/THANG%201.2017%20-%202/nha%20co%20nguoi%20cham%202.jpg"},{id:"arch-khmer-chua",category:"architecture",ethnic:"Khmer",title:"Cha Khmer (Vihear)",desc:"Rc r sc vng Pht gio Nam Tng.",content:"Cha l trung tm sinh hot ca phum sc. Chnh in (Vihear) l kin trc chnh, mi nhn nhiu tng, trang tr tng rn Naga, chim thn Keynor, chn Yeak. Mu vng rc r tng trng cho s gic ng.",image:"https://media.vov.vn/sites/default/files/styles/large/public/2023-10/w-chua-ang-1-2-254.jpg"},{id:"arch-ede-nhadai",category:"architecture",ethnic:" ",title:"Nh Di",desc:"Di nh ting ching ngn.",content:"Nh Di l ni sinh sng ca i gia nh mu h. Nh lm bng tre na g, sn cao, c cu thang c (cho khch) v cu thang ci (c hnh bu v, cho ngi nh).  di ca nh th hin s thnh vng ca dng h.",image:"https://heritagevietnamairlines.cdn.vccloud.vn/wp-content/uploads/2020/09/Nha-dai-EDe-11_compressed.jpg"},{id:"arch-bana-nharong",category:"architecture",ethnic:"Ba Na",title:"Nh Rng",desc:"Li ru vt cao gia i ngn.",content:"Nh Rng l ngi nh chung, ni hi hp, x kin v tip khch ca bun lng Ba Na, X ng. Mi nh cao vt nh li ru ngc (c th cao ti 20m), th hin sc mnh v uy quyn ca lng trc thin nhin.",image:"https://cly.1cdn.vn/2021/07/07/dantoctongiao.congly.vn-upload-content_img-2021-0707-_nha-rong-la-bieu-tuong-van-hoa-cua-tay-nguyen_anh_bai_nha_rong_tay_nguyen_2.jpg"},{id:"arch-giarai-nhamo",category:"architecture",ethnic:"Gia Rai",title:"Nh M",desc:"Kin trc tm linh v ngh thut tc tng.",content:"Nh m c xy dng cng phu cho ngi cht trc l B m. Xung quanh nh m l hng ro tng g (tng ngi khc, tng phn thc...) th hin quan nim sinh si ny n.",image:"https://static-6.happynest.vn/storage/uploads/2025/08/nha-mo-tay-nguyen-kien-truc-tam-linh-doc-dao-gan-voi-nghi-le_3.jpg"},{id:"arch-thai-nhasan",category:"architecture",ethnic:"Thi",title:"Nh Sn Thi",desc:"Duyn dng vi Khau Ct trn nc.",content:"Nh sn ngi Thi cao ro, sch s. Ngi Thi en c biu tng Khau Ct trn nc nh hnh sng tru hoc cnh hoa sen. Ngi Thi Trng c lan can chy quanh nh.",image:"https://qhkt.hochiminhcity.gov.vn/Media/Uploads/H%C3%ACnh%20Tin%20b%C3%A0i/YkienChuyenGia_03_11_2018/121_1.jpg"},{id:"arch-hmong-trinhtuong",category:"architecture",ethnic:"H'Mng",title:"Nh Trnh Tng",desc:"Pho i t m p trn cao nguyn .",content:"Nh ngi Mng lm bng t nn dy  chng li ci lnh khc nghit ca vng cao. Ct k trn  tng, mi thp lp ngi m dng hoc vn p mu. Xung quanh thng c hng ro  xp chng khng cn cht kt dnh.",image:"https://objectstorage.omzcloud.vn/pys-object-storage/web/uploads/posts/avatar/1595324066.jpg"},{id:"arch-dao-nhanuasan",category:"architecture",ethnic:"Dao",title:"Nh Na Sn Na t",desc:"Thch nghi vi a hnh dc.",content:"Do sng  sn ni dc, ngi Dao (c bit l Dao Khu) lm nh mt na l sn ct g, mt na nn t p bng phng. Bn th Bn Vng lun c t  v tr trang trng nht.",image:"https://vov4.vov.vn/sites/default/files/styles/large_watermark/public/2023-08/z4584628993421_8aaf8b5bf15fcd2cb20827ddcb89e2ec.jpg"},{id:"arch-hanhi-nhanam",category:"architecture",ethnic:"H Nh",title:"Nh Trnh Tng Hnh Nm",desc:"V p c tch ni bin cng.",content:"Tng t nn dy ti 40-50cm, mi tranh ph kn xung tn tng ging nh cy nm khng l. Kin trc ny gip ngi nh m vo ma ng v mt vo ma h.",image:"https://thegioidisan.vn/assets/media/2016/Thang%204/0542016/nha-trinh-tuong3.jpg"},{id:"rit-kinh-mau",category:"ritual",ethnic:"Kinh",title:"Tn Ngng Th Mu (Ln ng)",desc:"Di sn vn ha phi vt th ca nhn loi.",content:"Nghi l nhp hn v hu thnh, th hin s giao tip gia con ngi v thn linh. Cc gi hu ng kt hp m nhc chu vn, trang phc rc r v v o uyn chuyn. y l nghi l cu sc khe, ti lc v may mn.",image:"https://vcdn1-giaitri.vnecdn.net/2022/12/28/hau-dong-1-1672200543.jpg"},{id:"rit-kinh-cungto",category:"ritual",ethnic:"Kinh",title:"Th Cng T Tin",desc:"o l ung nc nh ngun.",content:"Mi gia nh ngi Vit u c bn th t tin. Nghi l cng gi vo ngy mt ca ngi thn l dp con chu sum hp, tng nh cng n sinh thnh dng dc.",image:"https://photo-cms-baophapluat.zadn.vn/w800/Uploaded/2021/pqlh/2020_01_22/ban_tho_to_tien_ngay_tet_KTQN.jpg"},{id:"rit-cham-truongthanh",category:"ritual",ethnic:"Chm",title:"L Trng Thnh",desc:"Du mc ca thiu n Chm.",content:"Nghi l bt buc i vi cc thiu n Chm khi n tui dy th (khong 15-16 tui). Ch sau nghi l ny, ngi con gi mi c cng nhn l thnh vin chnh thc ca cng ng v c php ly chng.",image:"https://vcdn1-dulich.vnecdn.net/2014/10/06/nha-cham-1-6677-1412586790.jpg"},{id:"rit-cham-rija",category:"ritual",ethnic:"Chm",title:"L Rija Ngar",desc:"L tng n, p la u nm.",content:"Rija Ngar l l hi m u nm mi, nhm ty u, xua ui nhng iu xu xa. im nhn l iu ma p la ca thy Ka-ing, th hin sc mnh xua ui t ma.",image:"https://baoanhdatmui.vn/image/news/2021/20210517/fckimage/17-5-2021%20le%20hoi%20rija%20nugar.jpg"},{id:"rit-khmer-kathina",category:"ritual",ethnic:"Khmer",title:"L Dng Y Kathina",desc:"Cu phc ln nht Pht gio Nam tng.",content:"Sau 3 thng an c kit h, pht t t chc l rc y c sa dng ln cc nh s. L rc trang nghim, rc r sc vng, th hin lng thnh knh vi Tam Bo.",image:"https://vcdn1-vnexpress.vnecdn.net/2022/11/07/le-dang-y-kathina-1-1667807270.jpg"},{id:"rit-dao-capsac",category:"ritual",ethnic:"Dao",title:"L Cp Sc (Qu Tang)",desc:"Ct mc trng thnh ca n ng Dao.",content:"Ngi n ng Dao phi tri qua l Cp Sc mi c cng nhn l ngi ln, c t tn m v sau ny khi cht mi c v vi t tin. Nghi l rn dy o c, knh trng cha m v sng hng thin.",image:"https://vcdn1-dulich.vnecdn.net/2019/12/11/le-cap-sac-nguoi-dao-do-6-1576037388.jpg"},{id:"rit-giarai-pothi",category:"ritual",ethnic:"Gia Rai",title:"L B M (P Thi)",desc:"Cuc chia ly vnh vin bi trng.",content:"L hi ln nht Ty Nguyn. Sau nhiu nm nui m, gia nh lm l ln, dng nh m p, tc tng g  tin a linh hn ngi cht v th gii bn kia vnh vin. Sau l ny, ngi sng khng cn thm nom m na.",image:"https://vcdn1-vnexpress.vnecdn.net/2019/04/20/le-bo-ma-1-1555734898.jpg"},{id:"rit-bana-damtrau",category:"ritual",ethnic:"Ba Na",title:"L m Tru",desc:"Hin sinh t n thn linh (Yang).",content:"Cy nu thn c dng ln. Trong ting cng ching vang di, cc chng trai c gi nhy ma vng trn. Con tru hin t l vt trung gian gi gm li cu nguyn ma thun gi ha, bun lng no m ln cc v thn.",image:"https://cdn.tuoitre.vn/thumb_w/730/2022/3/13/le-hoi-dam-trau-164716265738676239105.jpg"},{id:"rit-ede-bennuoc",category:"ritual",ethnic:" ",title:"L Cng Bn Nc",desc:"Cu mong ngun nc sch di do.",content:"Hng nm sau ma thu hoch, bun lng t chc cng t n thn Nc. Bn nc c dn dp sch s, thy cng dng ru cn cu mong ngun nc khng bao gi cn, dn lng khng b m au.",image:"https://vcdn-vnexpress.vnecdn.net/2021/03/17/le-cung-ben-nuoc-1-1615951802.jpg"},{id:"rit-muong-mo",category:"ritual",ethnic:"Mng",title:"Mo Mng",desc:"S thi tang l dn ng linh hn.",content:"Trong m tang, ng Mo s c (din xng) hng vn cu th trong b s thi ' t  nc'  k v ngun gc con ngi v dn ng cho linh hn ngi cht vt qua cc ca i  v Mng Tri.",image:"https://media.vov.vn/sites/default/files/styles/large/public/2023-08/mo_muong.jpg"},{id:"rit-thai-tangcau",category:"ritual",ethnic:"Thi",title:"L Tng Cu",desc:"Nghi thc bi tc thy chung.",content:"Trc khi v nh chng, c du Thi en c m chng hoc ngi c uy tn chi tc v bi ngc ln nh u (Tng cu). T y, ngi ph n chnh thc c chng, bi tc l biu tng ca lng thy chung son st.",image:"https://vcdn1-dulich.vnecdn.net/2020/12/14/tang-cau-1607937388.jpg"},{id:"rit-odu-tiengsam",category:"ritual",ethnic:" u",title:"L Ting Sm",desc:"n nm mi theo ting sm u ma.",content:"Dn tc  u quan nim ting sm u xun l du hiu thn linh thc dy. Khi nghe ting sm, h mi bt u lm l cng tri t, git g, ln n mng nm mi.",image:"https://media.vov.vn/sites/default/files/styles/large/public/2020-11/odu.jpg"},{id:"rit-lahu-thanrung",category:"ritual",ethnic:"La H",title:"Cng Thn Rng",desc:"Xin php m thin nhin.",content:"Ngi La H ('L Vng') sng da vo rng. Vo dp l, h cng thn rng  xin php sn bn hi lm v cu mong khng b th d lm hi, cy rng lun xanh tt.",image:"https://baolaichau.vn/uploads/news/2023_08/la-hu.jpg"},{id:"rit-chut-laplo",category:"ritual",ethnic:"Cht",title:"L Lp L",desc:"Gieo ht ging hy vng.",content:"Vo ngy 7/7 m lch, ngi Cht (Rc, Sch) o l tra ht ging xung t, sau  lp li v lm l cng thn linh. Nghi thc tng trng cho s sinh si ny n ca cy trng.",image:"https://baoquangbinh.vn/uploads/news/2023_06/chut.jpg"},{id:"rit-cong-hoamaoga",category:"ritual",ethnic:"Cng",title:"L Hoa Mo G",desc:"Sc  may mn ni bin cng.",content:"Ngi Cng coi hoa mo g l biu tng ca may mn. Vo Tt c truyn (thng 11), h hi hoa mo g v trang tr nh ca, cng t tin v ci ln tc  cu bnh an.",image:"https://media.vov.vn/sites/default/files/styles/large/public/2023-11/cong.jpg"},{id:"rit-sila-camban",category:"ritual",ethnic:"Si La",title:"L Cm Bn",desc:"Khng gian thing ling bit lp.",content:"Vo dp cng thn bn, ngi Si La dng cng cho, treo k hiu cm ngi l vo bn. Trong thi gian ny, ni bt xut, ngoi bt nhp  m bo s thanh tnh cho nghi l.",image:"https://vcdn1-vnexpress.vnecdn.net/2022/10/12/si-la-1665567890.jpg"},{id:"fes-kinh-tet",category:"festival",ethnic:"Kinh",title:"Tt Nguyn n",desc:"L hi ln nht v thing ling nht.",content:"Tt Nguyn n l dp on vin, sum hp gia nh. Bt u t l cng ng Cng ng To (23 thng Chp), gi bnh chng, cng Giao tha, hi lc u xun. Trong 3 ngy Tt, mi ngi i chc Tt h hng, thy c, bn b.",image:"https://media.vov.vn/sites/default/files/styles/large/public/2021-02/banh_chung_tet_0.jpg"},{id:"fes-kinh-hung",category:"festival",ethnic:"Kinh",title:"Gi T Hng Vng",desc:"Tn ngng th cng t tin c o.",content:"'D ai i ngc v xui, nh ngy Gi T mng mi thng ba'. L hi din ra ti n Hng (Ph Th)  tng nh 18 i vua Hng  c cng dng nc. Nghi l dng hng, rc kiu th hin o l ung nc nh ngun.",image:"https://cdn.tuoitre.vn/thumb_w/730/2022/4/10/le-gio-to-hung-vuong-16495610850231652199852.jpg"},{id:"fes-kinh-giong",category:"festival",ethnic:"Kinh",title:"Hi Ging",desc:"Ho kh chng gic ngoi xm.",content:"L hi ti n Sc v n Ph ng tn vinh Thnh Ging - mt trong T bt t. Cc mn din xng chin trn m phng cuc chin chng gic n c t chc quy m, honh trng.",image:"https://hanoimoi.com.vn/Uploads/images/tuandiep/2023/01/27/hoi-giong.jpg"},{id:"fes-kinh-lim",category:"festival",ethnic:"Kinh",title:"Hi Lim",desc:"Cu ht quan h ngi i ngi .",content:"L hi vng Kinh Bc vi c sn l ht Quan h i p trn thuyn rng v di ca nh. Cc lin anh lin ch trong trang phc m ba m by ht nhng ln iu tr tnh.",image:"https://vcdn1-vnexpress.vnecdn.net/2019/02/16/hoi-lim-1-1550293322.jpg"},{id:"fes-khmer-chol",category:"festival",ethnic:"Khmer",title:"Chol Chnam Thmay",desc:"Tt nm mi, t nc cu may.",content:"Din ra vo gia thng 4 dng lch. Ngi dn n cha p ni ct (cu phc), tm Pht bng nc thm v t nc vo nhau  gt ra iu xui xo. y l l hi vui ti nht ca ngi Khmer Nam B.",image:"https://media.vov.vn/sites/default/files/styles/large/public/2022-04/chol_chnam_thmay_1.jpg"},{id:"fes-khmer-okombok",category:"festival",ethnic:"Khmer",title:"Ok Om Bok",desc:"Cng Trng v ua Ghe Ngo kch tnh.",content:"Vo rm thng 10 m lch, ngi Khmer cng t n thn Mt Trng  ban cho ma mng tt ti. Cm dp l vt phm khng th thiu. L hi kt thc bng cuc ua Ghe Ngo ho hng v th n gi.",image:"https://vcdn1-thethao.vnecdn.net/2023/11/27/dua-ghe-ngo-1-1701058776.jpg"},{id:"fes-thai-hoaban",category:"festival",ethnic:"Thi",title:"L Hi Hoa Ban",desc:"Ma hoa tnh yu Ty Bc.",content:"Thng 2 m lch, khi hoa ban n trng rng, ngi Thi t chc l hi  cu ma v tng nh chuyn tnh nng Ban chng Khum. Trai gi h hn, chi nm cn, ht giao duyn trong khng kh lng mn.",image:"https://danviet.mediacdn.vn/298739625832346624/2023/10/22/thai-1697940250965383569762.jpg"},{id:"fes-cham-kate",category:"festival",ethnic:"Chm",title:"L Hi Kate",desc:"L hi ln nht bn thp c.",content:"Din ra vo thng 7 lch Chm ti cc khu n thp Po Nagar, Po Rome. Ngi dn rc y phc ca vua cha ln thp, lm l tm tng, mc y phc cho tng thn. y l dp con chu tng nh t tin.",image:"https://vcdn1-dulich.vnecdn.net/2022/10/24/le-hoi-kate-1-1666602353.jpg"},{id:"fes-hmong-gautao",category:"festival",ethnic:"H'Mng",title:"L Hi Gu To",desc:"Cu phc, cu mnh u xun.",content:"Gia nh no him mun hoc hay m au s nh thy cng dng cy nu gia bi t rng  t chc Gu To. y cng l dp vui chi xun ln nht, trai gi ma khn, ht gu plnh tm bn tnh.",image:"https://baolaocai.vn/uploads/news/2023_01/26/le-hoi-gau-tao-1674725357.jpg"},{id:"fes-tay-longtong",category:"festival",ethnic:"Ty",title:"L Lng Tng",desc:"Hi xung ng ln nht Vit Bc.",content:"Din ra vo thng Ging. Dn lng cng Thn Nng cu ma. Tm im l hi tung cn: qu cn ng sc phi nm thng tm vng trn trn cy nu cao vt th nm  bn lng mi may mn.",image:"https://backan.gov.vn/uploads/2023/02/le-hoi-long-tong-ba-be-1.jpg"},{id:"fes-dao-tetnhay",category:"festival",ethnic:"Dao",title:"Tt Nhy",desc:"V iu tri n Bn Vng.",content:"Mt gia nh hoc dng h t chc nhy ma thu m sut sng  t n Bn Vng  cu mng trong qu trnh di c. Cc iu ma m t cnh luyn binh, sn bn, cy cy rt sinh ng.",image:"https://baotuyenquang.com.vn/media/images/2024/02/img_20240216145831.jpg"},{id:"fes-pathen-nhaylua",category:"festival",ethnic:"P Thn",title:"L Hi Nhy La",desc:"V iu thn b trn than hng.",content:"Cc chng trai P Thn sau khi c thy cng lm php nhp ng s nhy vo ng than hng rc bng chn trn, bc than tung ln m khng h b bng. Nghi l th hin sc mnh thn linh che ch con ngi.",image:"https://baohagiang.vn/uploads/news/2023_10/pa-then.jpg"},{id:"fes-mnong-duavoi",category:"festival",ethnic:"M'Nng",title:"L Hi ua Voi",desc:"Tinh thn thng v Bn n.",content:"T chc ti Bun n, k Lk. Nhng ch voi to ln di s iu khin ca ni voi thi chy, thi bi vt sng Srpk. L hi tn vinh ti ngh thun dng voi ca ngi M'Nng.",image:"https://vcdn1-dulich.vnecdn.net/2019/03/12/dua-voi-dak-lak-1552377543.jpg"},{id:"fes-lolo-caumua",category:"festival",ethnic:"L L",title:"L Cu Ma",desc:"Ha trang ngi rng gi ma.",content:"Vo nm hn hn, ngi L L Chi t chc l cu ma. im c o l nhng ngi n ng ha trang ton thn bng l ng, l cy, ma nhp nhng quanh n cng  mi thn Ma v.",image:"https://vcdn1-dulich.vnecdn.net/2019/06/10/lo-lo-cau-mua-1560155684.jpg"},{id:"fes-hanhi-khogiagia",category:"festival",ethnic:"H Nh",title:"L Kh Gi Gi",desc:"L hi cu ma thng 6.",content:"L hi ln nht trong nm ca ngi H Nh en. H m tru hin t, dng cy u, chi bp bnh. y l dp  cng ng gn kt v cu mong ma mng bi thu.",image:"https://baolaichau.vn/uploads/news/2022_07/kho-gia-gia.jpg"}],JE={default:["Cu hi ny th v y! Nhng Gi lng ang mt kt ni vi thn linh (Li mng), con th hi li sau nh?","Kin thc l bin rng, cu ny ta xin kht  tra li sch s  nh."]},ZE=t=>{const e=JE.default;return e[Math.floor(Math.random()*e.length)]},YE=({isOpen:t,onClose:e})=>{const[n,s]=D.useState([{id:"welcome",role:"model",text:"Cho ngi bn phng xa! Ta l Gi lng Di Sn. Ta bit mi th v sn phm, di sn v cu chuyn trn trang web ny. Con mun hi g no?"}]),[a,d]=D.useState(""),[f,g]=D.useState(!1),v=D.useRef(null),y=()=>{var b;(b=v.current)==null||b.scrollIntoView({behavior:"smooth"})};D.useEffect(()=>{y()},[n,t]);const T=D.useMemo(()=>{let b=`DI Y L D LIU C TRN WEBSITE SC NI. HY DNG N  TR LI:

`;return b+=`=== 1. DANH SCH SN PHM BN TI CH PHIN ===
`,Ag.forEach(I=>{I.items.forEach(A=>{b+=`- Sn phm: ${A.n} | Dn tc: ${I.e} | Gi: ${A.p} | M t: ${A.d||"Khng c m t"}
`})}),b+=`
=== 2. DANH SCH DI SN TRN BN  ===
`,ud.forEach(I=>{b+=`- Di sn: ${I.name} | Loi: ${I.type} | a im: ${I.location} | M t: ${I.description}
`}),b+=`
=== 3. THNG TIN 54 DN TC ===
`,ld.forEach(I=>{b+=`- Dn tc: ${I.name} | Ni sng: ${I.location} | Dn s: ${I.population} | Di sn: ${I.heritage} | M t: ${I.description}
`}),b+=`
=== 4. TH VIN DI SN (KIN TRC/L HI) ===
`,cd.forEach(I=>{b+=`- ${I.title} (${I.category}): ${I.desc}. Ni dung: ${I.content.substring(0,150)}...
`}),b},[]),E=async()=>{if(!a.trim())return;const b={id:Date.now().toString(),role:"user",text:a};s(I=>[...I,b]),d(""),g(!0);try{const M=(await new fE({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:b.text}]}],config:{systemInstruction:`Bn l 'Gi lng Di Sn' - mt chuyn gia vn ha Vit Nam uyn bc ca website Sc Ni.
          
          ${T}

          NHIM V CA BN:
          1. u tin hng u: Dng d liu  trn  tr li. V d: Nu hi "c bn gi khng", hy tm trong mc 1 (Ch Phin) v lit k tn, gi tin chnh xc. Nu hi v "Vnh H Long", tm trong mc 2.
          2. Nu khng tm thy thng tin trong d liu trn: Hy dng kin thc rng ln ca bn v vn ha Vit Nam  tr li.
          3. Phong cch: Ging vn gi lng, m p, xng "Ta" - gi "con".
          4. Nu khch hi mua hng: Hy hng dn h vo trang "Ch Phin".
          5. Tr li ngn gn, sc tch (di 150 t).`}})).text;if(M){const j={id:(Date.now()+1).toString(),role:"model",text:M};s(B=>[...B,j])}}catch(I){console.error("Li API:",I),setTimeout(()=>{const A=ZE(b.text),M={id:(Date.now()+1).toString(),role:"model",text:`(Gi lng ang ngh ngi mt cht) ${A}`};s(j=>[...j,M])},1e3)}finally{g(!1)}},N=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),E())};return t?_.jsxs("div",{className:"fixed bottom-24 right-6 w-[90vw] max-w-[400px] h-[500px] bg-[#F7F3E9] rounded-[2rem] shadow-2xl border-4 border-gold z-[200] flex flex-col overflow-hidden animate-slide-up origin-bottom-right",children:[_.jsxs("div",{className:"bg-primary p-4 flex items-center justify-between shrink-0 relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/black-scales.png')]"}),_.jsxs("div",{className:"flex items-center gap-3 relative z-10 text-white",children:[_.jsx("div",{className:"size-10 rounded-full bg-white border-2 border-gold flex items-center justify-center overflow-hidden",children:_.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3938/3938634.png",alt:"Gi Lng",className:"w-8 h-8 object-cover"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-black text-sm uppercase tracking-widest",children:"Gi Lng Di Sn"}),_.jsxs("p",{className:"text-[10px] text-gold-light font-medium flex items-center gap-1",children:[_.jsx("span",{className:"size-1.5 bg-green-400 rounded-full animate-pulse"})," ang trc tuyn"]})]})]}),_.jsx("button",{onClick:e,className:"text-white/80 hover:text-white hover:rotate-90 transition-all relative z-10",children:_.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar bg-[url('https://www.transparenttextures.com/patterns/handmade-paper.png')]",children:[n.map(b=>_.jsx("div",{className:`flex ${b.role==="user"?"justify-end":"justify-start"}`,children:_.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm font-medium leading-relaxed shadow-sm ${b.role==="user"?"bg-primary text-white rounded-br-none":"bg-white text-text-main border border-gold/20 rounded-bl-none"}`,children:b.text})},b.id)),f&&_.jsx("div",{className:"flex justify-start",children:_.jsxs("div",{className:"bg-white border border-gold/20 p-3 rounded-2xl rounded-bl-none flex gap-1 items-center",children:[_.jsx("span",{className:"text-xs text-bronze font-bold mr-2",children:"Gi lng ang suy ngm..."}),_.jsxs("div",{className:"flex gap-1",children:[_.jsx("span",{className:"size-1.5 bg-bronze/50 rounded-full animate-bounce"}),_.jsx("span",{className:"size-1.5 bg-bronze/50 rounded-full animate-bounce delay-100"}),_.jsx("span",{className:"size-1.5 bg-bronze/50 rounded-full animate-bounce delay-200"})]})]})}),_.jsx("div",{ref:v})]}),_.jsxs("div",{className:"p-4 bg-white border-t border-gold/20 shrink-0",children:[_.jsxs("div",{className:"relative",children:[_.jsx("textarea",{value:a,onChange:b=>d(b.target.value),onKeyDown:N,placeholder:"Hi gi lng v di sn...",className:"w-full bg-background-light border border-gold/20 rounded-2xl py-3 pl-4 pr-12 text-sm focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary resize-none max-h-24",rows:1}),_.jsx("button",{onClick:E,disabled:!a.trim()||f,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-full bg-primary text-white hover:bg-gold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:_.jsx("span",{className:"material-symbols-outlined text-lg",children:"send"})})]}),_.jsx("p",{className:"text-[10px] text-center text-text-soft/60 mt-2",children:"Gi lng c th mc sai st. Hy kim tra li thng tin quan trng."})]})]}):null},QE=()=>{const[t,e]=D.useState(!1),[n,s]=D.useState(!1),a=Mn(),{toggleCart:d,totalItems:f}=_d(),g=[{name:"Trang ch",path:"/"},{name:"Bn  di sn",path:"/map"},{name:"Ch Phin",path:"/marketplace"},{name:"Th vin",path:"/library"},{name:"Cng ng",path:"/community"}];return _.jsxs(_.Fragment,{children:[_.jsxs("header",{className:"sticky top-0 z-[100] w-full border-b border-gold/20 bg-background-light/90 backdrop-blur-md shadow-sm",children:[_.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-6 py-4",children:[_.jsxs(ta,{to:"/",className:"flex items-center gap-3 group",children:[_.jsx("img",{src:"https://lh3.googleusercontent.com/d/18IzzMdMCckjzNcMpkhqp52zhXw72K9js",alt:"Logo Sc Ni",className:"h-12 w-12 rounded-full object-cover border-2 border-gold shadow-md transition-transform group-hover:scale-110"}),_.jsxs("div",{className:"flex flex-col leading-none",children:[_.jsx("h1",{className:"text-xl font-black uppercase tracking-tighter text-primary",children:"SC NI"}),_.jsx("span",{className:"text-[10px] font-bold tracking-[0.3em] text-text-soft group-hover:text-gold transition-colors",children:"SC VIT"})]})]}),_.jsx("nav",{className:"hidden items-center gap-8 lg:flex",children:g.map(v=>_.jsxs(ta,{to:v.path,className:`text-xs font-black uppercase tracking-widest transition-all hover:text-primary relative py-2 group ${a.pathname===v.path?"text-primary":"text-text-soft"}`,children:[v.name,_.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-primary transition-all duration-300 ${a.pathname===v.path?"w-full":"w-0 group-hover:w-full"}`})]},v.path))}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("button",{onClick:d,className:"relative size-10 flex items-center justify-center rounded-full bg-white border border-gold/20 text-text-main hover:bg-gold hover:text-white transition-colors shadow-sm group",children:[_.jsx("span",{className:"material-symbols-outlined text-xl group-hover:animate-pulse",children:"shopping_bag"}),f>0&&_.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-white text-[9px] font-black w-5 h-5 flex items-center justify-center rounded-full border-2 border-background-light shadow-sm",children:f})]}),_.jsx("button",{onClick:()=>s(!n),className:`hidden rounded-full px-7 py-2.5 text-xs font-black uppercase tracking-widest transition-all hover:scale-105 active:scale-95 sm:flex items-center gap-2 shadow-lg ${n?"bg-gold text-text-main border border-gold shadow-gold/40":"bg-primary text-white border border-primary/20 shadow-primary/20 hover:bg-gold hover:text-text-main"}`,children:n?_.jsxs(_.Fragment,{children:["ng Chat ",_.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})]}):_.jsxs(_.Fragment,{children:["Khm ph AI ",_.jsx("span",{className:"material-symbols-outlined text-sm animate-pulse",children:"auto_awesome"})]})}),_.jsx("button",{className:"lg:hidden text-primary",onClick:()=>e(!t),children:_.jsx("span",{className:"material-symbols-outlined text-3xl",children:t?"close":"menu"})})]})]}),t&&_.jsxs("div",{className:"lg:hidden bg-background-light border-t border-gold/20 p-6 flex flex-col gap-4 animate-fade-in absolute w-full shadow-2xl h-screen top-[81px]",children:[g.map(v=>_.jsxs(ta,{to:v.path,onClick:()=>e(!1),className:"text-lg font-bold uppercase text-text-main hover:text-primary flex items-center justify-between border-b border-gold/10 pb-4",children:[v.name,_.jsx("span",{className:"material-symbols-outlined text-gold/50 text-sm",children:"arrow_forward"})]},v.path)),_.jsxs("button",{onClick:()=>{s(!0),e(!1)},className:"w-full rounded-lg bg-primary py-4 font-black text-white uppercase tracking-widest mt-4 hover:bg-gold transition-colors flex items-center justify-center gap-2",children:[_.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"}),"Hi Tr L AI"]})]})]}),_.jsx(YE,{isOpen:n,onClose:()=>s(!1)})]})},XE=t=>{const e=new Date(2026,1,17),n=t.getTime()-e.getTime(),s=Math.ceil(n/(1e3*60*60*24));let a,d,f;if(s>=0){let g=s;for(d=1,a=1;g>0;){const v=d%2!==0?30:29;g<v?(a+=g,g=0):(g-=v,d++,d>12&&(d=1))}f="Bnh Ng"}else{let g=Math.abs(s);for(d=12,a=29;g>0;){const v=d%2!==0?30:29;g<v?(a-=g,a<=0&&(d--,a+=d%2!==0?30:29),g=0):(g-=v,d--,d<1&&(d=12))}f="t T"}return{day:Math.max(1,Math.floor(a)),month:d,yearLabel:f}},$l={name:"Khch thm",avatar:"K"},e1=[{id:"1",author:"Minh Nguyn",avatar:"M",time:"2 gi trc",timestamp:Date.now()-72e5,location:"Lng c ng Lm, H Ni",content:"V ng Lm mt chiu nng nht. Cng lng Mng Ph vn sng sng , chng kin bao thng trm lch s. Nhng bc tng  ong x x nhng m p l thng.",image:"https://images.vietnamtourism.gov.vn/vn/images/2020/thang_5/2805_duong_lam_2.jpg",likes:156,comments:24,tags:["KienTruc","BacBo"]},{id:"2",author:"H'Hen Ni",avatar:"H",time:"5 gi trc",timestamp:Date.now()-18e6,location:"Bun n, k Lk",content:"Ting cng ching vang vng gia i ngn Ty Nguyn. Hm nay bun lng m hi mng la mi. Cu mong Yang ban phc cho ma thun gi ha.",image:"https://cdn.tuoitre.vn/thumb_w/730/2022/3/13/le-hoi-dam-trau-164716265738676239105.jpg",likes:342,comments:56,tags:["TayNguyen","LeHoi"]},{id:"3",author:"L Vn Khoa",avatar:"K",time:"1 ngy trc",timestamp:Date.now()-864e5,location:"Hi An, Qung Nam",content:"n lng ph Hi cha bao gi lm ti tht vng. Mt v p lung linh, huyn o nhng cng rt i bnh yn.",image:"https://images.vietnamtourism.gov.vn/vn//images/2023/cd_hoi_an5.jpeg",likes:210,comments:15,tags:["DiSan","HoiAn"]},{id:"4",author:"Thch Th Sa",avatar:"S",time:"30 pht trc",timestamp:Date.now()-18e5,location:"Tr Vinh",content:"Ma Roks Skok (ma go da) ca ngi Khmer chng mnh. Nhp iu vui ti, rn rng trong ngy Tt Chol Chnam Thmay.",image:"https://media.vov.vn/sites/default/files/styles/large/public/2022-04/chol_chnam_thmay_1.jpg",likes:89,comments:8,tags:["Khmer","NgheThuat"]}],t1=[{id:1,question:"L hi 'Cp Sc' l nghi l trng thnh ca ngi n ng dn tc no?",options:["H'Mng","Dao","Ty","Thi"],correctAnswerStr:"Dao",explanation:"L Cp Sc l nghi l quan trng nht ca n ng Dao, nh du s trng thnh v mt tm linh."},{id:2,question:"Nhc c no c UNESCO cng nhn l Kit tc di sn truyn khu?",options:["n Bu","Cng Ching Ty Nguyn","n Nh","So Trc"],correctAnswerStr:"Cng Ching Ty Nguyn",explanation:"Khng gian vn ha Cng ching Ty Nguyn c UNESCO cng nhn vo nm 2005."},{id:3,question:"Loi hnh sn khu no c coi l 'Quc kch' c in ca Vit Nam?",options:["Cho","Tung (Ht Bi)","Ci Lng","Ma Ri"],correctAnswerStr:"Tung (Ht Bi)",explanation:"Tung l loi hnh sn khu bc hc, tng trng v c l cao."},{id:4,question:"Tc 'Ng thm' l nt vn ha c o ca dn tc no?",options:["Thi","Mng","Kinh","Kh M"],correctAnswerStr:"Thi",explanation:"Tc 'Ng thm' l nt vn ha tm hiu bn i ca ngi Thi  min Ty Ngh An."},{id:5,question:"L hi Kate l l hi ln nht ca ng bo dn tc no?",options:["Chm","Khmer","Ra Glai"," "],correctAnswerStr:"Chm",explanation:"L hi Kate tng nh cc v thn v ng b t tin ca ngi Chm theo o Balamon."},{id:6,question:"Trang phc truyn thng ca ph n Kinh min Bc xa l g?",options:["o B Ba","o T Thn","o Di Lemur","o Chm"],correctAnswerStr:"o T Thn",explanation:"o t thn m ba m by l trang phc c trng ca ph n Kinh Bc B xa."},{id:7,question:"Dn tc no ni ting vi k thut lm gm khng dng bn xoay?",options:["Chm","Bt Trng (Kinh)","Hoa","Khmer"],correctAnswerStr:"Chm",explanation:"Gm Bu Trc ca ngi Chm c nn hon ton bng tay v ngi th di chuyn quanh sn phm."},{id:8,question:"L hi ua ghe Ngo l c trng ca ng bo no?",options:["Kinh","Hoa","Khmer","Chm"],correctAnswerStr:"Khmer",explanation:"ua ghe Ngo din ra trong l hi Ok Om Bok ca ngi Khmer Nam B."},{id:9,question:"Nh Rng l kin trc c trng ca vng vn ha no?",options:["Ty Bc","ng Bc","Ty Nguyn","ng Bng Sng Hng"],correctAnswerStr:"Ty Nguyn",explanation:"Nh Rng l ngi nh cng ng, tri tim ca cc bun lng Bc Ty Nguyn (Ba Na, X ng...)."},{id:10,question:"Di sn no sau y l Di sn thin nhin th gii?",options:["C  Hu","Ph c Hi An","Vnh H Long","Thnh a M Sn"],correctAnswerStr:"Vnh H Long",explanation:"Vnh H Long c UNESCO cng nhn l Di sn thin nhin th gii."},{id:11,question:"Khn Piu l vt dng gn lin vi c gi dn tc no?",options:["Thi","Mng","Ty","Nng"],correctAnswerStr:"Thi",explanation:"Chic khn Piu thu tay cu k l biu tng vn ha v tnh yu ca c gi Thi."},{id:12,question:"Ch tnh Khu Vai (H Giang) hp vo ngy no?",options:["Rm thng Ging","27 thng 3 m lch","Mng 2 thng 9","Tt Nguyn n"],correctAnswerStr:"27 thng 3 m lch",explanation:"Ch tnh Khu Vai l phin ch 'phong lu' c o hp mi nm mt ln."},{id:13,question:"S thi ' t  nc' thuc v dn tc no?",options:["Mng","Thi","Kinh","Dao"],correctAnswerStr:"Mng",explanation:"y l b s thi  s k v ngun gc v tr v con ngi ca ngi Mng."},{id:14,question:"Loi bnh no c trng cho ngy Tt c truyn min Bc?",options:["Bnh Tt","Bnh Chng","Bnh Pa","Bnh "],correctAnswerStr:"Bnh Chng",explanation:"Bnh Chng hnh vung tng trng cho t, khng th thiu trong Tt min Bc."},{id:15,question:"Nh nhc Cung nh Hu c UNESCO cng nhn vo nm no?",options:["1993","2003","2010","1999"],correctAnswerStr:"2003",explanation:"Nm 2003, Nh nhc cung nh Hu l di sn phi vt th u tin ca Vit Nam c vinh danh."},{id:16,question:"Dn tc no c tc 'Bt chng'?",options:[" ","H'Mng","Dao","Kinh"],correctAnswerStr:" ",explanation:"Ngi   theo ch  mu h, ngi con gi ch ng trong vic hn nhn (tc bt chng)."},{id:17,question:"iu ma Xe l di sn ca dn tc no?",options:["Thi","Mng","Ty","Nng"],correctAnswerStr:"Thi",explanation:"Ngh thut Xe Thi  c UNESCO ghi danh l Di sn vn ha phi vt th."},{id:18,question:"L hi Cha Hng din ra  u?",options:["H Nam","H Ni (M c)","Bc Ninh","Hi Dng"],correctAnswerStr:"H Ni (M c)",explanation:"L hi Cha Hng din ra ti x Hng Sn, huyn M c, H Ni."},{id:19,question:"Tranh ng H c in trn loi giy no?",options:["Giy D","Giy Bn","Giy Xuyn","Giy ip"],correctAnswerStr:"Giy D",explanation:"Tranh ng H c in trn giy D qut mu ip (v s ip nghin nt)."},{id:20,question:"Cy n Chapi l nhc c ca dn tc no?",options:["Ra Glai"," ","Ba Na","Gia Rai"],correctAnswerStr:"Ra Glai",explanation:"n Chapi n s nhng y hn ca ngi Ra Glai (ni ting qua bi ht 'Gic m Chapi')."}],n1=[{id:"tet-nguyen-dan",name:"Tt Nguyn n",lunarDateStr:"01/01 m lch",location:"Ton quc",solarDates:{2025:"2025-01-29",2026:"2026-02-17",2027:"2027-02-06"}},{id:"tet-nguyen-tieu",name:"Tt Nguyn Tiu (Hi Th)",lunarDateStr:"15/01 m lch",location:"Ton quc",solarDates:{2025:"2025-02-12",2026:"2026-03-03",2027:"2027-02-20"}},{id:"chua-huong",name:"Khai Hi Cha Hng",lunarDateStr:"06/01 m lch",location:"M c, H Ni",solarDates:{2025:"2025-02-03",2026:"2026-02-22",2027:"2027-02-11"}},{id:"hoi-lim",name:"Hi Lim",lunarDateStr:"13/01 m lch",location:"Tin Du, Bc Ninh",solarDates:{2025:"2025-02-10",2026:"2026-03-01",2027:"2027-02-18"}},{id:"den-tran",name:"Khai n n Trn",lunarDateStr:"15/01 m lch",location:"Nam nh",solarDates:{2025:"2025-02-12",2026:"2026-03-03",2027:"2027-02-20"}},{id:"gio-to",name:"Gi T Hng Vng",lunarDateStr:"10/03 m lch",location:"Ph Th",solarDates:{2025:"2025-04-07",2026:"2026-04-26",2027:"2027-04-15"}},{id:"hoi-giong",name:"L Hi Ging",lunarDateStr:"09/04 m lch",location:"Gia Lm, H Ni",solarDates:{2025:"2025-05-06",2026:"2026-05-25",2027:"2027-05-14"}},{id:"phat-dan",name:"i L Pht n",lunarDateStr:"15/04 m lch",location:"Cc Cha C Nc",solarDates:{2025:"2025-05-12",2026:"2026-05-31",2027:"2027-05-20"}},{id:"doan-ngo",name:"Tt oan Ng",lunarDateStr:"05/05 m lch",location:"Ton quc",solarDates:{2025:"2025-05-31",2026:"2026-06-19",2027:"2027-06-09"}},{id:"chol-chnam-thmay",name:"Tt Chol Chnam Thmay",lunarDateStr:"Gia thng 4 Dng",location:"Ty Nam B",solarDates:{2025:"2025-04-14",2026:"2026-04-14",2027:"2027-04-14"}},{id:"vu-lan",name:"L Vu Lan (X Ti Vong Nhn)",lunarDateStr:"15/07 m lch",location:"Ton quc",solarDates:{2025:"2025-09-06",2026:"2026-08-27",2027:"2027-08-16"}},{id:"trung-thu",name:"Tt Trung Thu",lunarDateStr:"15/08 m lch",location:"Ton quc",solarDates:{2025:"2025-10-06",2026:"2026-09-25",2027:"2027-09-15"}},{id:"kate",name:"L Hi Kate (Chm)",lunarDateStr:"Thng 10 Dng",location:"Ninh Thun, Bnh Thun",solarDates:{2025:"2025-10-21",2026:"2026-10-10",2027:"2027-10-30"}},{id:"ok-om-bok",name:"L Hi Ok Om Bok",lunarDateStr:"15/10 m lch",location:"Sc Trng, Tr Vinh",solarDates:{2025:"2025-12-04",2026:"2026-11-23",2027:"2027-11-13"}}],i1=({onClose:t,initialDate:e,festivals:n})=>{const[s,a]=D.useState(new Date(e.getFullYear(),e.getMonth(),1)),d=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),f=new Date(s.getFullYear(),s.getMonth(),1).getDay(),g=["Thng 1","Thng 2","Thng 3","Thng 4","Thng 5","Thng 6","Thng 7","Thng 8","Thng 9","Thng 10","Thng 11","Thng 12"],v=()=>a(new Date(s.getFullYear(),s.getMonth()-1,1)),y=()=>a(new Date(s.getFullYear(),s.getMonth()+1,1)),T=()=>a(new Date(e.getFullYear(),e.getMonth(),1)),E=b=>{const I=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(b).padStart(2,"0")}`;return n.find(A=>A.solarDate===I)},N=()=>{const b=[];for(let I=0;I<f;I++)b.push(_.jsx("div",{className:"h-24 bg-background-light/30 border border-gold/10"},`empty-${I}`));for(let I=1;I<=d;I++){const A=E(I),M=I===e.getDate()&&s.getMonth()===e.getMonth()&&s.getFullYear()===e.getFullYear(),j=new Date(s.getFullYear(),s.getMonth(),I),B=XE(j),Y=j.getDay()===0;b.push(_.jsxs("div",{className:`h-24 border border-gold/10 relative p-2 transition-colors hover:bg-gold/5 flex flex-col justify-between group ${M?"bg-gold/10 ring-2 ring-gold inset-0 shadow-inner":"bg-white"}`,children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsx("span",{className:`text-lg font-black leading-none ${Y?"text-primary":"text-text-main"} ${M?"text-primary scale-110":""}`,children:I}),_.jsxs("div",{className:"flex flex-col items-end",children:[_.jsxs("span",{className:`text-[10px] font-medium ${B.day===1||B.day===15?"text-primary font-bold":"text-text-soft/60"}`,children:[B.day,"/",B.month]}),B.day===1&&_.jsx("span",{className:"text-[8px] text-bronze uppercase font-black",children:B.yearLabel})]})]}),M&&_.jsx("div",{className:"absolute top-1 left-1/2 -translate-x-1/2",children:_.jsx("span",{className:"text-[8px] bg-primary text-white px-1.5 py-0.5 rounded font-bold uppercase tracking-wider shadow-sm",children:"Hm nay"})}),A&&_.jsx("div",{className:"mt-1",children:_.jsx("div",{className:"bg-primary text-white text-[8px] font-bold px-1.5 py-0.5 rounded leading-tight truncate border border-gold/30 shadow-sm",children:A.name})}),A&&_.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 bg-text-main text-white text-xs p-3 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 shadow-2xl border border-gold/30",children:[_.jsx("p",{className:"font-bold text-gold mb-1 uppercase text-[10px] tracking-widest",children:A.lunarDateStr}),_.jsx("p",{className:"font-bold text-base mb-1",children:A.name}),_.jsxs("p",{className:"text-white/80 flex items-center gap-1",children:[_.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"location_on"})," ",A.location]})]})]},I))}return b};return _.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4",children:[_.jsx("div",{className:"absolute inset-0 bg-text-main/80 backdrop-blur-sm animate-fade-in",onClick:t}),_.jsxs("div",{className:"w-full max-w-4xl bg-[#F7F3E9] rounded-[2rem] shadow-2xl relative z-10 overflow-hidden border-4 border-gold/20 animate-slide-up flex flex-col max-h-[90vh]",children:[_.jsxs("div",{className:"p-6 bg-primary text-white flex items-center justify-between shrink-0",children:[_.jsx("div",{children:_.jsxs("h2",{className:"text-2xl font-black uppercase tracking-widest flex items-center gap-3",children:[_.jsx("span",{className:"material-symbols-outlined",children:"calendar_month"}),"Lch L Hi ",s.getFullYear()]})}),_.jsx("button",{onClick:t,className:"size-10 rounded-full bg-white/20 hover:bg-white hover:text-primary flex items-center justify-center transition-colors",children:_.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),_.jsxs("div",{className:"flex items-center justify-between px-8 py-4 bg-white border-b border-gold/10",children:[_.jsx("button",{onClick:v,className:"p-2 hover:bg-background-light rounded-full text-primary transition-colors",children:_.jsx("span",{className:"material-symbols-outlined",children:"chevron_left"})}),_.jsx("div",{className:"flex flex-col items-center cursor-pointer hover:bg-background-light px-4 py-1 rounded-xl transition-colors",onClick:T,children:_.jsxs("span",{className:"text-xl font-black text-text-main uppercase",children:[g[s.getMonth()]," / ",s.getFullYear()]})}),_.jsx("button",{onClick:y,className:"p-2 hover:bg-background-light rounded-full text-primary transition-colors",children:_.jsx("span",{className:"material-symbols-outlined",children:"chevron_right"})})]}),_.jsx("div",{className:"grid grid-cols-7 bg-gold/10 border-b border-gold/10",children:["CN","T2","T3","T4","T5","T6","T7"].map((b,I)=>_.jsx("div",{className:`py-3 text-center text-xs font-black uppercase ${I===0?"text-primary":"text-text-soft"}`,children:b},b))}),_.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-white",children:_.jsx("div",{className:"grid grid-cols-7",children:N()})})]})]})},o1=()=>{const[t,e]=D.useState(!1),[n,s]=D.useState(new Date);D.useEffect(()=>{const f=setInterval(()=>s(new Date),6e4);return()=>clearInterval(f)},[]);const a=D.useMemo(()=>{const f=n.getFullYear(),g=f+1,v=new Date(n.getFullYear(),n.getMonth(),n.getDate());let y=[];return n1.forEach(T=>{if(T.solarDates[f]){const N=new Date(T.solarDates[f]).getTime()-v.getTime(),b=Math.ceil(N/(1e3*60*60*24));y.push({...T,solarDate:T.solarDates[f],daysLeft:b})}if(T.solarDates[g]){const N=new Date(T.solarDates[g]).getTime()-v.getTime(),b=Math.ceil(N/(1e3*60*60*24));y.push({...T,solarDate:T.solarDates[g],daysLeft:b})}}),y},[n]),d=D.useMemo(()=>a.filter(f=>f.daysLeft>=0).sort((f,g)=>f.daysLeft-g.daysLeft).slice(0,3),[a]);return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"bg-white rounded-[2rem] border border-gold/20 shadow-lg overflow-hidden mt-8 animate-fade-in delay-100",children:[_.jsxs("div",{className:"p-5 border-b border-gold/10 bg-background-light flex items-center justify-between",children:[_.jsxs("h3",{className:"font-black text-text-main text-sm uppercase tracking-widest flex items-center gap-2",children:[_.jsx("span",{className:"material-symbols-outlined text-primary",children:"event_upcoming"}),"Ma L Hi ",n.getFullYear()]}),_.jsxs("button",{onClick:()=>e(!0),className:"text-[10px] text-primary font-bold hover:underline flex items-center gap-1 bg-white px-2 py-1 rounded-lg border border-gold/20 shadow-sm transition-transform active:scale-95",children:["Xem lch ",_.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"calendar_month"})]})]}),_.jsxs("div",{className:"p-4 space-y-4",children:[d.map(f=>_.jsxs("div",{className:"flex gap-4 items-center group cursor-pointer hover:bg-gold/5 p-2 rounded-xl transition-colors",children:[_.jsxs("div",{className:"bg-primary/10 text-primary rounded-xl p-2 w-16 text-center shrink-0 border border-primary/20 flex flex-col justify-center",children:[_.jsx("span",{className:"block text-[8px] font-black uppercase opacity-70",children:"Cn"}),_.jsx("span",{className:"block text-xl font-black leading-none my-0.5",children:f.daysLeft}),_.jsx("span",{className:"block text-[8px] font-bold opacity-70",children:"Ngy"})]}),_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsx("h4",{className:"font-bold text-text-main text-sm group-hover:text-primary transition-colors truncate",children:f.name}),_.jsx("div",{className:"flex items-center gap-2 mt-1",children:_.jsx("span",{className:"text-[9px] bg-gold/20 text-text-main px-1.5 rounded font-bold",children:f.lunarDateStr})}),_.jsxs("p",{className:"text-[10px] text-bronze flex items-center gap-1 font-bold mt-1",children:[_.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"location_on"}),f.location]})]})]},`${f.id}-${f.solarDate}`)),d.length===0&&_.jsxs("div",{className:"text-center py-6 px-4",children:[_.jsx("span",{className:"material-symbols-outlined text-4xl text-gold/30 mb-2",children:"event_busy"}),_.jsx("p",{className:"text-xs text-text-soft font-medium",children:" ht l hi trong nm nay."})]})]})]}),t&&_.jsx(i1,{onClose:()=>e(!1),initialDate:n,festivals:a})]})},r1=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(0),[a,d]=D.useState(0),[f,g]=D.useState(!1),[v,y]=D.useState(null),[T,E]=D.useState(!1),[N,b]=D.useState([]),I=D.useCallback(()=>{const F=[...t1].sort(()=>Math.random()-.5);e(F.slice(0,5)),s(0),d(0),g(!1),y(null),E(!1)},[]);D.useEffect(()=>{I()},[I]),D.useEffect(()=>{if(t.length>0&&n<t.length){const F=t[n];b([...F.options].sort(()=>Math.random()-.5))}},[t,n]);const A=t[n],M=F=>{T||(y(F),E(!0),F===A.correctAnswerStr&&d(Y=>Y+20))},j=()=>{n<t.length-1?(s(F=>F+1),y(null),E(!1)):g(!0)},B=F=>F>=100?"Trng Nguyn":F>=80?"Bng Nhn":F>=60?"Thm Hoa":"Hng Cng";return A?_.jsxs("div",{className:"bg-white rounded-[2rem] border-2 border-gold/30 shadow-xl overflow-hidden relative animate-fade-in delay-200",children:[_.jsxs("div",{className:"bg-primary p-4 text-center relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/black-scales.png')]"}),_.jsxs("h3",{className:"text-white font-black uppercase text-sm tracking-widest relative z-10 flex items-center justify-center gap-2",children:[_.jsx("span",{className:"material-symbols-outlined text-gold",children:"school"}),"Trng Nguyn Di Sn"]})]}),_.jsx("div",{className:"p-6",children:f?_.jsxs("div",{className:"text-center py-4 animate-fade-in",children:[_.jsxs("div",{className:"size-24 mx-auto bg-gold/20 rounded-full flex items-center justify-center mb-4 relative",children:[_.jsx("span",{className:"material-symbols-outlined text-5xl text-primary",children:"workspace_premium"}),_.jsx("div",{className:"absolute -top-1 -right-1 size-8 bg-primary rounded-full flex items-center justify-center text-white font-black text-xs border-2 border-white shadow-md",children:a})]}),_.jsx("p",{className:"text-text-soft text-sm font-bold uppercase tracking-widest mb-1",children:"Danh hiu ca bn"}),_.jsx("h2",{className:"text-3xl font-black text-primary mb-2 uppercase",children:B(a)}),_.jsx("p",{className:"text-text-soft text-sm mb-6 px-4",children:"Bn  hon thnh xut sc phn thi ca mnh. Hy tip tc khm ph!"}),_.jsxs("button",{onClick:I,className:"w-full py-3 border-2 border-gold/30 rounded-full text-text-main font-bold text-xs uppercase hover:bg-gold hover:text-white transition-all active:scale-95 flex items-center justify-center gap-2",children:[_.jsx("span",{className:"material-symbols-outlined text-sm",children:"refresh"})," Th thch li"]})]}):_.jsxs("div",{className:"animate-slide-up",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsxs("span",{className:"text-[10px] font-black text-bronze uppercase tracking-widest",children:["Cu hi ",n+1,"/",t.length]}),_.jsxs("span",{className:"text-primary font-black text-sm",children:[a," im"]})]}),_.jsx("p",{className:"font-bold text-text-main mb-6 min-h-[3rem] text-sm md:text-base",children:A.question}),_.jsx("div",{className:"space-y-3",children:N.map((F,Y)=>{const ie=F===v,se=F===A.correctAnswerStr;let ae="w-full text-left p-3 rounded-xl border transition-all text-sm font-medium relative overflow-hidden ";return T?se?ae+="bg-green-50 border-green-500 text-green-800 ring-1 ring-green-500":ie&&!se?ae+="bg-red-50 border-red-300 text-red-800":ae+="border-gold/10 opacity-40":ae+="border-gold/20 hover:bg-gold/10 hover:border-gold text-text-soft",_.jsxs("button",{onClick:()=>M(F),className:ae,disabled:T,children:[_.jsx("span",{className:"relative z-10",children:F}),T&&se&&_.jsx("span",{className:"material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-green-600 text-lg",children:"check_circle"}),T&&ie&&!se&&_.jsx("span",{className:"material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-red-500 text-lg",children:"cancel"})]},Y)})}),T&&_.jsxs("div",{className:"mt-4 animate-fade-in",children:[_.jsx("p",{className:"text-xs text-text-soft italic mb-3 border-l-2 border-gold pl-3 bg-background-light p-2 rounded-r-lg",children:A.explanation}),_.jsxs("button",{onClick:j,className:"w-full bg-primary text-white py-3 rounded-xl font-black uppercase text-xs tracking-widest hover:brightness-110 shadow-lg transition-transform active:scale-95 flex items-center justify-center gap-2",children:[n<t.length-1?"Cu tip theo":"Xem kt qu",_.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})]})]},n)})]}):_.jsx("div",{className:"p-4 text-center",children:"ang ti cu hi..."})},s1=({onPost:t})=>{const[e,n]=D.useState(""),[s,a]=D.useState(!1),d=()=>{e.trim()&&(a(!0),setTimeout(()=>{t(e),n(""),a(!1)},800))};return _.jsxs("div",{className:"bg-white border-2 border-gold/10 rounded-[2rem] p-6 mb-10 shadow-xl relative overflow-hidden group hover:border-gold/30 transition-colors animate-fade-in",children:[_.jsx("div",{className:"absolute -right-20 -bottom-20 size-60 bg-gold/5 rounded-full pointer-events-none"}),_.jsxs("div",{className:"flex gap-4 relative z-10",children:[_.jsx("div",{className:"size-12 rounded-full bg-primary flex items-center justify-center text-white shrink-0 font-black shadow-lg border-2 border-white",children:$l.avatar}),_.jsxs("div",{className:"flex-1",children:[_.jsx("textarea",{value:e,onChange:f=>n(f.target.value),className:"w-full bg-background-light border-2 border-gold/10 rounded-2xl p-4 text-text-main placeholder:text-text-soft/40 focus:ring-2 focus:ring-primary focus:border-transparent outline-none resize-none min-h-[100px] text-sm font-medium transition-all",placeholder:`Cho ${$l.name}, bn c cu chuyn di sn no mun chia s hm nay?`,disabled:s}),_.jsxs("div",{className:"flex items-center justify-between mt-4",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:"p-2 text-gold hover:bg-gold/10 rounded-lg transition-colors tooltip",title:"Thm nh",children:_.jsx("span",{className:"material-symbols-outlined text-xl",children:"image"})}),_.jsx("button",{className:"p-2 text-gold hover:bg-gold/10 rounded-lg transition-colors tooltip",title:"Check-in",children:_.jsx("span",{className:"material-symbols-outlined text-xl",children:"location_on"})})]}),_.jsx("button",{onClick:d,disabled:!e.trim()||s,className:`bg-primary px-8 py-2.5 rounded-xl font-black text-white uppercase text-[10px] tracking-widest shadow-lg shadow-primary/20 transition-all active:scale-95 flex items-center gap-2 ${!e.trim()||s?"opacity-50 cursor-not-allowed":"hover:bg-gold hover:text-text-main"}`,children:s?_.jsx("span",{className:"size-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):_.jsxs(_.Fragment,{children:["ng bi ",_.jsx("span",{className:"material-symbols-outlined text-sm",children:"send"})]})})]})]})]})]})},a1=Oo.memo(({post:t})=>{const[e,n]=D.useState(!1),[s,a]=D.useState(t.likes),d=()=>{a(f=>e?f-1:f+1),n(!e)};return _.jsxs("article",{className:"break-inside-avoid mb-6 bg-white border border-gold/15 rounded-[2rem] overflow-hidden shadow-md hover:shadow-2xl transition-all duration-300 hover:-translate-y-1 group animate-slide-up",children:[_.jsxs("div",{className:"p-5 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"size-10 rounded-full bg-gold-light border border-gold/20 flex items-center justify-center text-text-main font-black shadow-sm",children:t.avatar}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-black text-text-main leading-tight",children:t.author}),_.jsx("p",{className:"text-[10px] text-bronze uppercase font-bold tracking-widest mt-0.5",children:t.time})]})]}),_.jsx("button",{className:"text-text-soft/30 hover:text-primary transition-colors",children:_.jsx("span",{className:"material-symbols-outlined",children:"more_horiz"})})]}),_.jsxs("div",{className:"px-5 pb-4",children:[_.jsx("p",{className:"text-sm text-text-soft leading-relaxed font-medium whitespace-pre-wrap",children:t.content}),t.tags.length>0&&_.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:t.tags.map(f=>_.jsxs("span",{className:"text-[10px] font-bold text-primary bg-primary/5 px-2 py-1 rounded-md",children:["#",f]},f))})]}),t.image&&_.jsxs("div",{className:"w-full overflow-hidden relative",children:[_.jsx("img",{src:t.image,alt:"Post",className:"w-full h-auto object-cover transition-transform duration-[2s] group-hover:scale-105",loading:"lazy"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),_.jsxs("div",{className:"p-4 flex items-center gap-6 border-t border-gold/5 bg-background-light/30",children:[_.jsxs("button",{onClick:d,className:`flex items-center gap-1.5 font-black text-xs transition-colors ${e?"text-primary":"text-text-soft hover:text-primary"}`,children:[_.jsx("span",{className:`material-symbols-outlined text-lg ${e?"fill-1 animate-ping-once":""}`,children:"favorite"}),s]}),_.jsxs("button",{className:"flex items-center gap-1.5 text-text-soft font-black text-xs hover:text-primary transition-colors",children:[_.jsx("span",{className:"material-symbols-outlined text-lg",children:"chat_bubble"})," ",t.comments]}),_.jsx("button",{className:"flex items-center gap-1.5 text-text-soft font-black text-xs ml-auto hover:text-primary transition-colors",children:_.jsx("span",{className:"material-symbols-outlined text-lg",children:"share"})})]})]})}),l1=()=>{const[t,e]=D.useState(e1),n=D.useCallback(s=>{const a={id:Date.now().toString(),author:$l.name,avatar:$l.avatar,time:"Va xong",timestamp:Date.now(),location:"Vit Nam",content:s,likes:0,comments:0,tags:["ChiaSe","DiSan"]};e(d=>[a,...d])},[]);return _.jsxs("div",{className:"relative min-h-screen font-display bg-[#F7F3E9]",children:[_.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/black-scales.png')"}}),_.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 relative z-10",children:[_.jsxs("header",{className:"mb-12 text-center animate-fade-in",children:[_.jsx("div",{className:"inline-block px-6 py-2 border border-gold/30 rounded-full mb-4 bg-white/50 backdrop-blur-sm",children:_.jsx("span",{className:"text-primary text-xs font-black uppercase tracking-[0.3em]",children:"Mng X Hi Di Sn"})}),_.jsxs("h2",{className:"text-5xl lg:text-6xl font-black text-text-main italic mb-4",children:["Mi nh ",_.jsx("span",{className:"text-gold text-shadow-glow",children:"Chung"})]}),_.jsx("p",{className:"text-text-soft font-serif italic text-lg max-w-2xl mx-auto",children:'"Ni kt ni nhng tri tim yu vn ha, cng chia s nhng khonh khc v cu chuyn di sn qu gi."'})]}),_.jsxs("div",{className:"flex flex-col lg:flex-row gap-10 items-start",children:[_.jsxs("div",{className:"flex-1 w-full",children:[_.jsx(s1,{onPost:n}),_.jsx("div",{className:"columns-1 md:columns-2 gap-6 space-y-6",children:t.map(s=>_.jsx(a1,{post:s},s.id))}),_.jsx("div",{className:"mt-10 text-center animate-fade-in",children:_.jsx("button",{className:"px-8 py-3 rounded-full border-2 border-primary text-primary font-black uppercase text-xs tracking-widest hover:bg-primary hover:text-white transition-all",children:"Ti thm bi vit"})})]}),_.jsxs("aside",{className:"w-full lg:w-80 shrink-0 space-y-8 sticky top-24",children:[_.jsx(r1,{}),_.jsx(o1,{}),_.jsx("div",{className:"text-center pt-8 border-t border-gold/10",children:_.jsx("p",{className:"text-[10px] text-text-soft/40 uppercase tracking-widest font-bold",children:" 2026 Sc Ni Community"})})]})]})]}),_.jsx("style",{children:`
        .text-shadow-glow { text-shadow: 0 0 20px rgba(212,175,55,0.5); }
        .fill-1 { font-variation-settings: 'FILL' 1; }
        @keyframes ping-once {
           0% { transform: scale(1); }
           50% { transform: scale(1.2); }
           100% { transform: scale(1); }
        }
        .animate-ping-once { animation: ping-once 0.3s ease-out; }
        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
        @keyframes slide-up { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-slide-up { animation: slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .delay-100 { animation-delay: 100ms; }
        .delay-200 { animation-delay: 200ms; }
      `})]})},u1=()=>_.jsxs("footer",{className:"bg-text-main text-white pt-24 pb-12 px-6 lg:px-20 border-t-4 border-gold relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/black-scales.png')]"}),_.jsxs("div",{className:"mx-auto max-w-7xl relative z-10",children:[_.jsxs("div",{className:"grid grid-cols-1 gap-16 border-b border-gold/20 pb-16 lg:grid-cols-4",children:[_.jsxs("div",{className:"col-span-1 lg:col-span-2 space-y-8",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("img",{src:"https://lh3.googleusercontent.com/d/18IzzMdMCckjzNcMpkhqp52zhXw72K9js",alt:"Logo Sc Ni",className:"h-14 w-14 rounded-full object-cover border-2 border-gold shadow-lg"}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-2xl font-black uppercase tracking-tighter text-white leading-none",children:"SC NI"}),_.jsx("span",{className:"text-gold text-xs font-black tracking-[0.4em] uppercase",children:"VIT NAM"})]})]}),_.jsxs("p",{className:"max-w-md text-base leading-relaxed text-white/60 font-medium italic",children:['"Dn ta phi bit s ta, cho tng gc tch nc nh Vit Nam." ',_.jsx("br",{})," ",_.jsx("span",{className:"text-gold/80 not-italic text-xs mt-2 block",children:"- H Ch Minh"})]}),_.jsx("div",{className:"flex gap-4",children:["public","video_library","share"].map(t=>_.jsx("a",{className:"h-12 w-12 flex items-center justify-center rounded-full bg-white/5 text-gold hover:bg-gold hover:text-text-main transition-all shadow-md border border-white/10 backdrop-blur-sm",href:"#",children:_.jsx("span",{className:"material-symbols-outlined",children:t})},t))})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"mb-8 text-[11px] font-black uppercase tracking-widest text-gold border-b border-gold/20 pb-2 inline-block",children:"a im"}),_.jsxs("ul",{className:"space-y-4 text-sm text-white/60 font-bold",children:[_.jsx("li",{children:_.jsxs("a",{className:"hover:text-gold transition-colors flex items-center gap-2",href:"#",children:[_.jsx("span",{className:"w-1 h-1 bg-gold rounded-full"})," Khu vc pha Bc"]})}),_.jsx("li",{children:_.jsxs("a",{className:"hover:text-gold transition-colors flex items-center gap-2",href:"#",children:[_.jsx("span",{className:"w-1 h-1 bg-gold rounded-full"})," Khu vc Min Trung"]})}),_.jsx("li",{children:_.jsxs("a",{className:"hover:text-gold transition-colors flex items-center gap-2",href:"#",children:[_.jsx("span",{className:"w-1 h-1 bg-gold rounded-full"})," Khu vc pha Nam"]})}),_.jsx("li",{children:_.jsxs("a",{className:"hover:text-gold transition-colors flex items-center gap-2",href:"#",children:[_.jsx("span",{className:"w-1 h-1 bg-gold rounded-full"})," Ty Nguyn"]})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"mb-8 text-[11px] font-black uppercase tracking-widest text-gold border-b border-gold/20 pb-2 inline-block",children:"Thng tin"}),_.jsxs("ul",{className:"space-y-4 text-sm text-white/60 font-bold",children:[_.jsx("li",{children:_.jsx("a",{className:"hover:text-gold transition-colors",href:"#",children:"V chng ti"})}),_.jsx("li",{children:_.jsx("a",{className:"hover:text-gold transition-colors",href:"#",children:"Trung tm lu tr"})}),_.jsx("li",{children:_.jsx("a",{className:"hover:text-gold transition-colors",href:"#",children:"Cu hi thng gp"})}),_.jsx("li",{children:_.jsx("a",{className:"hover:text-gold transition-colors",href:"#",children:"Lin h"})})]})]})]}),_.jsxs("div",{className:"mt-12 flex flex-col items-center justify-between gap-6 sm:flex-row",children:[_.jsx("p",{className:"text-[10px] font-black text-white/20 uppercase tracking-widest",children:" 2026 Sc Ni  Tn Vinh Truyn Thng."}),_.jsxs("div",{className:"flex items-center gap-4 text-gold opacity-40",children:[_.jsx("span",{className:"material-symbols-outlined text-sm animate-spin-slow",children:"stars"}),_.jsx("span",{className:"h-px w-12 bg-gold"}),_.jsx("span",{className:"material-symbols-outlined text-sm animate-spin-slow",children:"stars"})]})]})]}),_.jsx("style",{children:`
        .animate-spin-slow { animation: spin 10s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      `})]}),c1=()=>{const{cart:t,isCartOpen:e,toggleCart:n,removeFromCart:s,updateQuantity:a,totalPrice:d,clearCart:f}=_d(),[g,v]=D.useState("cart"),[y,T]=D.useState({name:"",phone:"",address:"",note:""});if(!e)return null;const E=N=>{N.preventDefault();let b=` *N T HNG MI T SC NI*
`;b+=`--------------------------------
`,b+=` Khch hng: ${y.name}
`,b+=` ST: ${y.phone}
`,b+=` a ch: ${y.address}
`,y.note&&(b+=` Ghi ch: ${y.note}
`),b+=`--------------------------------
`,t.forEach((I,A)=>{b+=`${A+1}. ${I.name} (${I.ethnic}) 
   SL: ${I.quantity} x ${I.price}
`}),b+=`--------------------------------
`,b+=` *TNG CNG: ${d.toLocaleString("vi-VN")} VN*
`,navigator.clipboard.writeText(b).then(()=>{v("success"),setTimeout(()=>{window.open("https://zalo.me/0987654321","_blank"),f(),v("cart")},2e3)})};return _.jsxs("div",{className:"fixed inset-0 z-[200] flex justify-end font-display",children:[_.jsx("div",{className:"absolute inset-0 bg-text-main/60 backdrop-blur-sm animate-fade-in",onClick:n}),_.jsxs("div",{className:"relative w-full max-w-md bg-[#F7F3E9] h-full shadow-2xl flex flex-col border-l-4 border-gold animate-slide-in-right",children:[_.jsxs("div",{className:"p-6 bg-primary text-white flex items-center justify-between shadow-md shrink-0",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:_.jsx("span",{className:"material-symbols-outlined text-2xl",children:"shopping_bag"})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-lg font-black uppercase tracking-widest leading-none",children:"Gi Hng"}),_.jsx("p",{className:"text-[10px] text-gold-light font-bold mt-1 opacity-90",children:"Di sn trong tay bn"})]})]}),_.jsx("button",{onClick:n,className:"hover:bg-white/20 p-2 rounded-full transition-colors flex items-center",children:_.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 bg-[#F7F3E9]",children:[g==="cart"&&_.jsx(_.Fragment,{children:t.length===0?_.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-soft/50 space-y-4",children:[_.jsx("span",{className:"material-symbols-outlined text-6xl opacity-50",children:"remove_shopping_cart"}),_.jsx("p",{className:"font-bold text-lg",children:"Cha c bo vt no"}),_.jsx("button",{onClick:n,className:"text-primary font-black uppercase text-xs hover:underline mt-2",children:"Quay li ch phin"})]}):_.jsx("div",{className:"space-y-6",children:t.map(N=>_.jsxs("div",{className:"flex gap-4 bg-white p-4 rounded-2xl border border-gold/20 shadow-sm relative group",children:[_.jsx("img",{src:N.img,alt:N.name,className:"size-20 rounded-xl object-cover border border-gold/10 bg-gray-100"}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex justify-between items-start mb-1",children:[_.jsx("h3",{className:"font-black text-text-main text-sm line-clamp-2 pr-2",children:N.name}),_.jsx("button",{onClick:()=>s(N.id),className:"text-text-soft/40 hover:text-primary transition-colors",children:_.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]}),_.jsx("p",{className:"text-[10px] text-bronze uppercase font-black tracking-widest mb-2",children:N.ethnic}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-primary font-bold text-sm",children:N.price}),_.jsxs("div",{className:"flex items-center bg-background-light rounded-lg border border-gold/10",children:[_.jsx("button",{onClick:()=>a(N.id,-1),className:"px-2 py-1 hover:text-primary",children:"-"}),_.jsx("span",{className:"text-xs font-black px-1",children:N.quantity}),_.jsx("button",{onClick:()=>a(N.id,1),className:"px-2 py-1 hover:text-primary",children:"+"})]})]})]})]},N.id))})}),g==="checkout"&&_.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gold/20 shadow-sm animate-fade-in",children:[_.jsxs("h3",{className:"font-black text-text-main uppercase text-sm mb-6 flex items-center gap-2",children:[_.jsx("span",{className:"material-symbols-outlined text-primary",children:"fact_check"}),"Thng tin ngi nhn"]}),_.jsxs("form",{id:"checkout-form",onSubmit:E,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-black uppercase text-bronze mb-1 ml-2",children:"H v tn"}),_.jsx("input",{required:!0,type:"text",value:y.name,onChange:N=>T({...y,name:N.target.value}),className:"w-full bg-background-light border border-gold/20 rounded-xl px-4 py-3 text-sm font-medium focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary",placeholder:"V d: Nguyn Vn A"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-black uppercase text-bronze mb-1 ml-2",children:"S in thoi"}),_.jsx("input",{required:!0,type:"tel",value:y.phone,onChange:N=>T({...y,phone:N.target.value}),className:"w-full bg-background-light border border-gold/20 rounded-xl px-4 py-3 text-sm font-medium focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary",placeholder:"V d: 0912..."})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-black uppercase text-bronze mb-1 ml-2",children:"a ch nhn hng"}),_.jsx("textarea",{required:!0,value:y.address,onChange:N=>T({...y,address:N.target.value}),className:"w-full bg-background-light border border-gold/20 rounded-xl px-4 py-3 text-sm font-medium focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary min-h-[80px]",placeholder:"S nh, phng/x..."})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-black uppercase text-bronze mb-1 ml-2",children:"Li nhn (Ty chn)"}),_.jsx("textarea",{value:y.note,onChange:N=>T({...y,note:N.target.value}),className:"w-full bg-background-light border border-gold/20 rounded-xl px-4 py-3 text-sm font-medium focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary min-h-[60px]",placeholder:"Gi qu gip ti..."})]})]})]}),g==="success"&&_.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 animate-fade-in",children:[_.jsx("div",{className:"size-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:_.jsx("span",{className:"material-symbols-outlined text-4xl text-green-600",children:"check_circle"})}),_.jsx("h3",{className:"text-2xl font-black text-text-main mb-2",children:" Sao Chp n!"}),_.jsx("p",{className:"text-text-soft mb-8",children:"H thng ang chuyn bn n Zalo  gi n hng cho ngh nhn..."}),_.jsx("div",{className:"w-12 h-12 border-4 border-gold border-t-transparent rounded-full animate-spin"})]})]}),t.length>0&&g!=="success"&&_.jsxs("div",{className:"p-6 bg-white border-t border-gold/10 shrink-0",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("span",{className:"text-text-soft font-bold text-sm",children:"Tng cng:"}),_.jsxs("span",{className:"text-2xl font-black text-primary",children:[d.toLocaleString("vi-VN")," "]})]}),g==="cart"?_.jsxs("button",{onClick:()=>v("checkout"),className:"w-full bg-primary text-white py-4 rounded-2xl font-black uppercase tracking-widest hover:brightness-110 shadow-xl shadow-primary/20 transition-all active:scale-95 flex items-center justify-center gap-2",children:["Tin hnh t hng",_.jsx("span",{className:"material-symbols-outlined text-lg",children:"arrow_forward"})]}):_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>v("cart"),className:"flex-1 bg-background-light text-text-soft border border-gold/20 py-4 rounded-2xl font-black uppercase tracking-widest hover:bg-gold/10 transition-colors",children:"Quay li"}),_.jsxs("button",{type:"submit",form:"checkout-form",className:"flex-[2] bg-primary text-white py-4 rounded-2xl font-black uppercase tracking-widest hover:brightness-110 shadow-xl shadow-primary/20 transition-all active:scale-95 flex items-center justify-center gap-2",children:["Gi n (Zalo)",_.jsx("span",{className:"material-symbols-outlined text-lg",children:"send"})]})]})]})]}),_.jsx("style",{children:`
        @keyframes slide-in-right { from { transform: translateX(100%); } to { transform: translateX(0); } }
        .animate-slide-in-right { animation: slide-in-right 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #D4AF37; border-radius: 10px; }
      `})]})},d1=()=>{const{pathname:t}=Mn();return D.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[t]),null},h1=({children:t})=>{const e=Mn();return _.jsx("div",{className:"animate-fade-in-page",children:t},e.pathname)},f1=()=>_.jsx(ty,{children:_.jsxs(q0,{children:[_.jsx(d1,{}),_.jsxs("div",{className:"flex flex-col min-h-screen",children:[_.jsx(QE,{}),_.jsx(c1,{}),_.jsx("main",{className:"flex-grow relative",children:_.jsx(h1,{children:_.jsxs(_0,{children:[_.jsx(Vr,{path:"/",element:_.jsx(VE,{})}),_.jsx(Vr,{path:"/map",element:_.jsx(OE,{})}),_.jsx(Vr,{path:"/marketplace",element:_.jsx(KE,{})}),_.jsx(Vr,{path:"/library",element:_.jsx($E,{})}),_.jsx(Vr,{path:"/community",element:_.jsx(l1,{})})]})})}),_.jsx(u1,{})]}),_.jsx("style",{children:`
          @keyframes fade-in-page {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .animate-fade-in-page {
            animation: fade-in-page 0.5s ease-out forwards;
          }
        `})]})}),Rg=document.getElementById("root");if(!Rg)throw new Error("Could not find root element to mount to");const p1=Tv.createRoot(Rg);p1.render(_.jsx(Oo.StrictMode,{children:_.jsx(f1,{})}));
